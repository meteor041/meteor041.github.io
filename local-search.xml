<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>æ–¹å·®åˆ†æåŠå›å½’åˆ†æ</title>
    <link href="/2024/12/06/%E6%96%B9%E5%B7%AE%E5%88%86%E6%9E%90%E5%8F%8A%E5%9B%9E%E5%BD%92%E5%88%86%E6%9E%90/"/>
    <url>/2024/12/06/%E6%96%B9%E5%B7%AE%E5%88%86%E6%9E%90%E5%8F%8A%E5%9B%9E%E5%BD%92%E5%88%86%E6%9E%90/</url>
    
    <content type="html"><![CDATA[<h1 id="æ–¹å·®åˆ†æåŠå›å½’åˆ†æ">æ–¹å·®åˆ†æåŠå›å½’åˆ†æ</h1><h2 id="å•å› ç´ è¯•éªŒçš„æ–¹å·®åˆ†æ">å•å› ç´ è¯•éªŒçš„æ–¹å·®åˆ†æ</h2><p>åˆ†ç»„çš„ä¾æ®ç§°ä¸º<strong>å› ç´ </strong>,å› ç´ çš„ä¸åŒçŠ¶æ€ç§°ä¸ºå› ç´ çš„<strong>æ°´å¹³</strong>,åªæœ‰ä¸€ä¸ªå› å­,æŒ‰å› å­çš„ä¸åŒæ°´å¹³æ¥åˆ†ç»„çš„è¯•éªŒç§°ä¸º<strong>å•å› ç´ è¯•éªŒ</strong></p><p>å‡è®¾å› ç´ æœ‰ä¸ªæ°´å¹³,nä¸ªå¯¹è±¡å‚ä¸äº†è¯•éªŒ,å‡å®šå¯¹åº”äºå› ç´ ç¬¬jä¸ªæ°´å¹³çš„ç»„ä¸­æœ‰<span class="math inline">\(n_j\)</span>ä¸ªè¯•éªŒå¯¹è±¡,å“åº”å˜é‡æ•°æ®ä¸º<span class="math inline">\(X_{1j},X_{2j},\cdots,X_{n_jj},j=1,2,\cdots,s\)</span></p><p>é€šå¸¸å‡å®š:</p><p><span class="math inline">\(\begin{align}&amp;X_{ij}=\mu_j+\varepsilon_{ij}\\&amp;\varepsilon\simN(0,\sigma^2),å„\varepsilon_{ij}ç‹¬ç«‹\\&amp;i=1,2,\cdots,n_j,j=1,2,\cdots,s\end{align}\)</span></p><p>æ£€éªŒå‡è®¾:</p><p><span class="math inline">\(H_0:\mu_1=\mu_2=\cdots=\,\mu_s\)</span></p><p><span class="math inline">\(H_1:\mu_1,\mu_2,,\cdots,\mu_sä¸å…¨ç›¸ç­‰\)</span></p><p><span class="math inline">\(\mu=\frac{1}{n}\sum^s_{j=1}n_j\mu_j,\sum^s_{j=1}n_j=n\)</span></p><p>æ°´å¹³<span class="math inline">\(A_j\)</span>çš„<strong>æ•ˆåº”</strong>:<span class="math inline">\(\delta_j=\mu_j-\mu,j=1,2,\cdots,s\)</span></p><p>æ³¨æ„:<span class="math inline">\(n_1\delta_1+n_2\delta_2+\dots+n_s\delta_s=0\)</span></p><p><strong>æ€»åå·®å¹³æ–¹å’Œ</strong><span class="math inline">\(S_T=\sum^s_{j=1}\sum^{n_j}_{i=1}(X_{ij}-\overlineX)^2\)</span></p><p><span class="math inline">\(\overlineX=\frac{1}{n}\sum^s_{j=1}\sum^{n_j}_{i=1}X_{ij}=\frac{1}{n}\sum^s_{j=1}n_j\overlineX_{\cdot j}\)</span></p><p><strong>æ•ˆåº”å¹³æ–¹å’Œ</strong><span class="math inline">\(S_A=\sum^s_{j=1}n_j(\overline X_j-\overlineX)^2=\sum^s_{j=1}n_j\overline X_j^2-n\overline X^2\)</span></p><p><strong>è¯¯å·®å¹³æ–¹å’Œ</strong><span class="math inline">\(S_E=\sum^s_{j=1}\sum^{n_j}_{i=1}(X_{ij}-\overlineX_{\cdot j})^2\)</span></p><p><strong>æ€§è´¨1</strong>:<span class="math inline">\(S_T=S_A+S_E\)</span> <span class="math display">\[\begin{aligned}&amp;è¯æ˜:\\S_T&amp;=\sum^s_{j=1}\sum^{n_j}_{i=1}(X_{ij}-\overline X)^2\\&amp;=\sum^s_{j=1}\sum^{n_j}_{i=1}(X_{ij}-\overline X_{\cdotj}+\overline X_{\cdot j}-\overline X)\\&amp;=\sum^s_{j=1}\sum^{n_j}_{i=1}(X_{ij}-\overline X_{\cdotj})^2+\sum^s_{j=1}\sum^{n_j}_{i=1}(\overline X_{\cdot j}-\overlineX)^2+2\sum^s_{j=1}\sum^{n_j}_{i=1}(X_{\cdot j-\overlineX})(X_{ij}-\overline X_{\cdot j})\\&amp;=S_A+S_E\\è¡¥å……:&amp;\sum^s_{j=1}\sum^{n_j}_{i=1}(X_{\cdot j-\overlineX})(X_{ij}-\overline X_{\cdot j})=\sum^s_{j=1}(X_{\cdot j-\overlineX})\sum^{n_j}_{i=1}(X_{ij}-\overline X_{\cdot j})=0\\\end{aligned}\]</span> <strong>æ€§è´¨2</strong>:<span class="math inline">\(E(S_T)=\sum^s_{j=1}n_j\delta_j^2+(n-1)\sigma^2\)</span></p><p><span class="math inline">\(E(S_A)=\sum^s_{j=1}n_j\delta_j^2+(s-1)\sigma^2\)</span></p><p><span class="math inline">\(E(S_E)=(n-s)\sigma^2\)</span> <span class="math display">\[\begin{aligned}è¯æ˜:\\E(S_T)=&amp;E\left(\sum^s_{j=1}\sum^{n_j}_{i=1}\left(X_{ij}-\overlineX\right)^2\right)=E(\sum^s_{j=1}\sum^{n_j}_{i=1}X_{ij}^2-n\overlineX^2)\\=&amp;\sum^s_{j=1}\sum^{n_j}_{i=1}E\left(X_{ij}^2\right)-nE(\overlineX^2)\\=&amp;\sum^s_{j=1}\sum^{n_j}_{i=1}[\sigma^2+(\mu+\delta_j)^2]-n[\dfrac{\sigma^2}{n}+\mu^2]\\=&amp;n\sigma^2+n\mu^2+2\mu\sum^s_{j=1}n_j\delta_j+\sum^s_{j=1}n_j\delta_j^2-\sigma^2-n\mu^2=\sum^s_{j=1}n_j\delta^2_j+(n-1)\sigma^2\\è¡¥å……:&amp;E(\overline X)=\mu,E(\overlineX^2)=\mu^2+\dfrac{\sigma^2}{n}\\E(S_E)=&amp;\sum^s_{j=1}E\left\{\sum^{n_j}_{i=1}(X_{ij}-\overlineX_{\cdot j})^2\right\}=\sum^s_{j=1}(n_j-1)\sigma^2=(n-s)\sigma^2\\E(S_A)=&amp;E(S_T-S_E)=\sum^s_{j=1}n_j\delta_j^2+(s-1)\sigma^2\end{aligned}\]</span> <strong>æ€§è´¨3</strong>:</p><ol type="1"><li><span class="math inline">\(S_A,S_E\)</span>ç›¸äº’ç‹¬ç«‹</li><li><span class="math inline">\(\dfrac{x_E}{\sigma^2}\sim\chi^2(n-s)\)</span></li><li>å½“<span class="math inline">\(H_0\)</span>ä¸ºçœŸæ—¶,<span class="math inline">\(\dfrac{S_A}{\sigma^2}\sim\chi^2(s-1)\)</span></li></ol><p><span class="math inline">\(\Rightarrow F=\dfrac{\dfrac{S_A}{s-1}}{\dfrac{S_E}{n-s} }\sim F(s-1,n-s)\)</span></p><p>åœ¨ç»™å®šæ°´å¹³<span class="math inline">\(\alpha\)</span>æ—¶,<strong>æ£€éªŒæ‹’ç»åŸŸ</strong>ä¸º<span class="math inline">\(F=\dfrac{\dfrac{S_A}{s-1} }{\dfrac{S_E}{n-s} }\geqF_\alpha(s-1,n-s)\)</span></p><p><strong>æœªçŸ¥å‚æ•°çš„ä¼°è®¡</strong></p><ol type="1"><li><span class="math inline">\(\hat\sigma^2=\dfrac{S_E}{n-s}\)</span></li><li><span class="math inline">\(\hat\mu=\overline X\)</span></li><li><span class="math inline">\(\hat\mu_j=\overline X_j\)</span></li><li><span class="math inline">\(\hat\delta_j=\overline X_j-\overlineX\)</span></li></ol><p>ä»¥ä¸Šä¼°è®¡å‡ä¸ºç›¸åº”å‚æ•°çš„æ— åä¼°è®¡</p><p><span class="math inline">\(\mu_j-\mu_k=\delta_j-\delta_k(j\neqk)\)</span><strong>åŒºé—´ä¼°è®¡</strong></p><p><span class="math inline">\(\left(\overline X_{\cdot j}-\overlineX_{\cdot k}\mp t_{\alpha/2}(n-s)\sqrt{\overlineS_E(1/n_j+1/n_k)}\right)\)</span>ä¸º<span class="math inline">\(\mu_j-\mu_k\)</span>çš„æ°´å¹³ä¸º<span class="math inline">\(1-\alpha\)</span>çš„ç½®ä¿¡åŒºé—´</p><h2 id="åŒå› ç´ è¯•éªŒçš„æ–¹å·®åˆ†æ">åŒå› ç´ è¯•éªŒçš„æ–¹å·®åˆ†æ</h2><h3 id="åŒå› ç´ ç­‰é‡å¤è¯•éªŒçš„æ–¹å·®åˆ†æ">åŒå› ç´ ç­‰é‡å¤è¯•éªŒçš„æ–¹å·®åˆ†æ</h3><figure><img src="image-20241206192850305.png" alt="åŒå› ç´ ç­‰é‡å¤è¯•éªŒçš„æ–¹å·®åˆ†æ"><figcaption aria-hidden="true">åŒå› ç´ ç­‰é‡å¤è¯•éªŒçš„æ–¹å·®åˆ†æ</figcaption></figure><p><span class="math inline">\(\begin{align}&amp;X_{ijk}=\mu_{ij}+\varepsilon_{ijk}\\&amp;\varepsilon\simN(0,\sigma^2),å„\varepsilon_{ijk}ç‹¬ç«‹\\&amp;i=1,\dots,r,j=1,\dots,s,k=1,\dots,t\\&amp;\mu_{ij},\sigma^2å‡ä¸ºæœªçŸ¥å‚æ•°\end{align}\)</span></p><p><strong>æ€»å¹³å‡</strong><span class="math inline">\(\mu=\dfrac{1}{rs}\sum^r_{i=1}\sum^s_{j=1}\mu_{ij}\)</span></p><p><span class="math inline">\(\mu_{i\cdot}=\frac{1}{s}\sum^s_{j=1}\mu_{ij},i=1,\dots,r,\\\mu_{\cdotj}=\frac{1}{r}\sum^r_{i=1}\mu_{ij},j=1,\dots,s\)</span></p><p><span class="math inline">\(æ°´å¹³A_içš„æ•ˆåº”\alpha_i=\mu_{i\cdot}-\mu,i=1,\dots,r\)</span></p><p><span class="math inline">\(æ°´å¹³B_jçš„æ•ˆåº”\beta_j=\mu_{\cdotj}-\mu,j=1,\dots,s\)</span></p><p><span class="math inline">\(\sum^r_{i=1}\alpha_i=0,\sum^s_{j=1}\beta_j=0\)</span></p><p><span class="math inline">\(æ°´å¹³Aå’Œæ°´å¹³Bçš„äº¤äº’æ•ˆåº”\gamma_{ij}=\mu_{ij}-\mu_{i\cdot}-\mu_{\cdotj}+\mu\)</span></p><p><span class="math inline">\(\sum^r_{i=1}\gamma_{ij}=0,\sum^s_{j=1}\gamma_{ij}=0\)</span></p><p><strong>æ¨¡å‹</strong>:<span class="math inline">\(\begin{cases}X_{ijk}=\mu+\alpha_i+\beta_j+\gamma_{ij}+\varepsilon_{ijk}\\\varepsilon_{ijk}\simN(0,\sigma^2)\\i=1,\dots,r,j=1,\dots,s,k=1,\dots,t.\\\sum^r_{i=1}\alpha_i=0,\sum^s_{j=1}\beta_j=0,\sum^r_{i=1}\gamma_{ij}=0.\sum^s_{j=1}\gamma_{ij}=0.\\\mu,\alpha_i,\beta_i,\gamma_{ij},\sigma^2å‡æœªçŸ¥\end{cases}\)</span></p><p>åˆ†åˆ«æ ¡éªŒå‡è®¾</p><p><span class="math inline">\(ğ»_{01}: ğ›¼_1 = ğ›¼_2 = â‹¯ = ğ›¼_ğ‘Ÿ = 0, ğ»_{11}:ğ›¼_1, . . . , ğ›¼_ğ‘Ÿ ä¸å…¨æ˜¯é›¶\\ğ»_{02}: ğ›½_1 = ğ›½_2 = â‹¯ = ğ›½_ğ‘  = 0, ğ»_{12}: ğ›½_1,. . . , ğ›½_ğ‘  ä¸å…¨æ˜¯é›¶\\ğ»_{03}: ğ›¾_{11} = ğ›¾_{12} = â‹¯ = ğ›¾_{ğ‘Ÿğ‘ } = 0, ğ»_{13}:ğ›¾_{11}, . . . , ğ›¾_{ğ‘Ÿğ‘ } ä¸å…¨æ˜¯é›¶\)</span></p><p><strong>æ€»åå·®å¹³æ–¹å’Œ</strong><span class="math inline">\(S_T=\sum^r_{i=1}\sum^s_{j=1}\sum^t_{k=1}(X_{ijk}-\overlineX)^2\)</span></p><p><strong>è¯¯å·®å¹³æ–¹å’Œ</strong><span class="math inline">\(S_E=\sum^r_{i=1}\sum^s_{j=1}\sum^t_{k=1}(X_{ijk}-\overlineX_{ij\cdot})^2\)</span></p><p><strong>å› ç´ Açš„æ•ˆåº”å¹³æ–¹å’Œ</strong>:<span class="math inline">\(S_A=st\sum^r_{i=1}(\overlineX_{i\cdot\cdot}-\overline X_{ij\cdot})^2\)</span></p><p><strong>å› ç´ Bçš„æ•ˆåº”å¹³æ–¹å’Œ</strong>:<span class="math inline">\(S_B=rt\sum^s_{i=1}(\overline X_{\cdotj\cdot}-\overline X)\)</span></p><p><strong>ABäº¤äº’æ•ˆåº”å¹³æ–¹å’Œ</strong>:<span class="math inline">\(S_{A\times B}=t\sum^r_{i=1}\sum^s_{j=1}(\overlineX_{ij\cdot}-\overline X_{i\cdot\cdot}-\overline X_{\cdotj\cdot}+\overline X)^2\)</span></p><p><strong>æ€§è´¨1</strong>:<span class="math inline">\(S_T=S_A+S_B+S_{A\times B}+S_E\)</span></p><p><strong>æ€§è´¨2</strong>:</p><p><span class="math inline">\(E\left(\dfrac{S_E}{rs(t-1)}\right)=\sigma^2\)</span></p><p><span class="math inline">\(E\left(\dfrac{S_A}{r-1}\right)=\sigma^2+\dfrac{st\sum^r_{i=1}\alpha^2_i}{r-1}\)</span></p><p><span class="math inline">\(E(\dfrac{S_B}{s-1})=\sigma^2+\dfrac{rt\sum^s_{j=1}\beta_j^2}{s-1}\)</span></p><p><span class="math inline">\(E\left(\dfrac{S_{A\times B}}{r-1}\right)=\sigma^2+\dfrac{t\sum^r_{i=1}\sum^s_{j=1}\gamma^2_{ij}}{(r-1)(s-1)}\)</span></p><p>å„ä¸ªå‡è®¾çš„<strong>æ‹’ç»åŸŸ</strong></p><p><span class="math inline">\(H_{01}\)</span>:<span class="math inline">\(F_A\geq F_\alpha(r-1,rs(t-1))\)</span></p><p><span class="math inline">\(H_{02}:F_B\geqF_\alpha(s-1,rs(t-1))\)</span></p><p><span class="math inline">\(H_{03}:F_{A\timesB}=\dfrac{\dfrac{S_A}{(r-1)(s-1)} }{\dfrac{S_E}{rs(t-1)} }\simF((r-1)(s-1),rs(t-1))\)</span></p><p><span class="math inline">\(F_{A\times B}\geqF_\alpha((r-1)(s-1),rs(t-1))\)</span></p><figure><img src="image-20241206201052720.png" alt="åŒå› ç´ è¯•éªŒæ–¹å·®åˆ†æè¡¨"><figcaption aria-hidden="true">åŒå› ç´ è¯•éªŒæ–¹å·®åˆ†æè¡¨</figcaption></figure><h3 id="åŒå› ç´ æ— é‡å¤è¯•éªŒçš„æ–¹å·®åˆ†æ">åŒå› ç´ æ— é‡å¤è¯•éªŒçš„æ–¹å·®åˆ†æ</h3><figure><img src="image-20241206204334603.png" alt="åŒå› ç´ æ— é‡å¤è¯•éªŒçš„æ–¹å·®åˆ†æè¡¨"><figcaption aria-hidden="true">åŒå› ç´ æ— é‡å¤è¯•éªŒçš„æ–¹å·®åˆ†æè¡¨</figcaption></figure><h2 id="ä¸€å…ƒçº¿æ€§å›å½’åˆ†æ">ä¸€å…ƒçº¿æ€§å›å½’åˆ†æ</h2><p>ä¼°è®¡<span class="math inline">\(\mu(x)=a+bx\)</span>çš„é—®é¢˜ç§°ä¸ºæ±‚<strong>ä¸€å…ƒçº¿æ€§å›å½’</strong>é—®é¢˜</p><p>åŸºæœ¬å‡è®¾:<span class="math inline">\(\begin{cases}Y=a+bx+\varepsilon\\E(\varepsilon)=0,D(\varepsilon)=\sigma^2\end{cases}\)</span></p><p>æ­£æ€å‡è®¾:<span class="math inline">\(\varepsilon\simN(0,\sigma^2)\)</span></p><p><strong>é’ˆå¯¹çš„é—®é¢˜</strong></p><ol type="1"><li>a,bçš„ä¼°è®¡</li><li><span class="math inline">\(\sigma^2\)</span>çš„ä¼°è®¡</li><li>çº¿æ€§å‡è®¾çš„æ˜¾è‘—æ€§æ£€éªŒ</li><li>å›å½’ç³»æ•°bçš„ç½®ä¿¡åŒºé—´</li><li>å›å½’å‡½æ•°<span class="math inline">\(\mu(x)=a+bx\)</span>çš„ç‚¹ä¼°è®¡å’Œç½®ä¿¡åŒºé—´</li></ol><h3 id="æœ€å°äºŒä¹˜ä¼°è®¡">æœ€å°äºŒä¹˜ä¼°è®¡</h3><p><span class="math inline">\(Q(a,b)=\sum^n_{i=1}(y_i-a-bx_i)^2\)</span></p><p><span class="math inline">\(Q(\hat a,\hat b)=\min\limits_{a,b}Q(a,b)\)</span></p><p><span class="math inline">\(\dfrac{\delta Q}{\deltaa}=-2\sum^n_{i=1}(y_i-a-bx_i)=0\)</span></p><p><span class="math inline">\(\dfrac{\delta Q}{\deltab}=-2\sum^n_{i=1}(y_i-a-bx_i)x_i=0\)</span></p><p>æ­£è§„æ–¹ç¨‹ç»„:<span class="math inline">\(\left(\sum\limits^n_{i=1}x_i\right)a+\left(\sum\limits^n_{i=1}x_i^2\right)b=\sum\limits^n_{i=1}x_iy_i\)</span></p><p>a,bçš„æœ€å°äºŒä¹˜ä¼°è®¡:<span class="math inline">\(\hat a=\hat y-\hatx\hat b,\hat b=\dfrac{S_{xy} }{S_{xx} }\)</span></p><p><span class="math inline">\(Q_e=\sum^n_{i=1}e^2_i=\sum^n_{i=1}(y_i-\haty_i)^2=Q(\hat a,\hat b)\)</span></p><p><span class="math inline">\(Q_e=S_{yy}-\hat bS_{xy}\)</span></p><p><strong>è¯¯å·®æ–¹å·®çš„ä¼°è®¡</strong><span class="math inline">\(\hat\sigma^2=\dfrac{Q_e}{n-2}\)</span></p><h3 id="çº¿æ€§å‡è®¾çš„æ˜¾è‘—æ€§æ£€éªŒ">çº¿æ€§å‡è®¾çš„æ˜¾è‘—æ€§æ£€éªŒ</h3><p><span class="math inline">\(H_0:b=0,H_1:b\neq 0\)</span></p><p>è‹¥åŸå‡è®¾è¢«æ‹’ç»,åˆ™è¯´æ˜å›å½’æ•ˆæœæ˜¯æ˜¾è‘—çš„</p><p><span class="math inline">\(\hat b\simN(b,S^{-1}_{xx}\sigma^2)\)</span></p><p><span class="math inline">\(\dfrac{(n-2)\hat\sigma^2}{\sigma}=\dfrac{Q_e}{\sigma^2}\sim \chi^2(n-2)\)</span></p><p><span class="math inline">\(\hat bä¸Q_eç‹¬ç«‹\)</span></p><p>æ£€éªŒæ‹’ç»åŸŸ<span class="math inline">\(|t|=\dfrac{1}{\hat\sigma}\sqrt{S_{xx} }\geqt_{\alpha/2}(n-2)\)</span></p><h3 id="å›å½’ç³»æ•°bçš„ç½®ä¿¡åŒºé—´">å›å½’ç³»æ•°bçš„ç½®ä¿¡åŒºé—´</h3><p><span class="math inline">\(\dfrac{\hat b-b}{\hat\sigma}\sqrt{S_{xx}}\sim t(n-2)\)</span></p><p><span class="math inline">\(\dfrac{|\hat b-b|}{\hat\sigma}\sqrt{S_{xx} }\leq t_{\alpha/2}(n-2)\)</span></p><p>bçš„ç½®ä¿¡æ°´å¹³ä¸º<span class="math inline">\(1-\alpha\)</span>çš„ç½®ä¿¡åŒºé—´:<span class="math inline">\(\left(\hat b\pm t_{\alpha/2}(n-2)\times\dfrac{\hat \sigma}{\sqrt{S_{xx} } }\right)\)</span></p><h3 id="muxabxå‡½æ•°å€¼çš„ç‚¹ä¼°è®¡å’Œç½®ä¿¡ç©ºé—´"><span class="math inline">\(\mu(x)=a+bx\)</span>å‡½æ•°å€¼çš„ç‚¹ä¼°è®¡å’Œç½®ä¿¡ç©ºé—´</h3><p><strong>ç‚¹ä¼°è®¡</strong>:<span class="math inline">\(\haty_0=\hat\mu(x_0)=\hat a+\hat bx_0\)</span></p><p><strong>ç½®ä¿¡ç©ºé—´</strong>:<span class="math inline">\(\hat Y_0\pmt_{\alpha/2}(n-2)\hat\sigma\sqrt{\dfrac{1}{n}+\dfrac{(x_o-\overlinex)^2}{S_xx} }\)</span></p>]]></content>
    
    
    <categories>
      
      <category>æ¦‚ç‡ä¸æ•°ç†æ¨¡å‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ¦‚ç»Ÿ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>P7-CPUè®¾è®¡æ–‡æ¡£</title>
    <link href="/2024/12/02/P7%20debug%E6%80%BB%E7%BB%93/"/>
    <url>/2024/12/02/P7%20debug%E6%80%BB%E7%BB%93/</url>
    
    <content type="html"><![CDATA[<h1 id="P7-debugæ€»ç»“"><a href="#P7-debugæ€»ç»“" class="headerlink" title="P7 debugæ€»ç»“"></a>P7 debugæ€»ç»“</h1><h2 id="é˜»å¡è½¬å‘é”™è¯¯"><a href="#é˜»å¡è½¬å‘é”™è¯¯" class="headerlink" title="é˜»å¡è½¬å‘é”™è¯¯"></a>é˜»å¡è½¬å‘é”™è¯¯</h2><p>ä¸Šæœºçš„è¿‡ç¨‹ä¸­é‡åˆ°äº†è½¬å‘é”™è¯¯,å†ä¸‰æ’æŸ¥å,å‘ç°æ˜¯<code>mtc0</code>äº§ç”Ÿäº†ä¸åº”è¯¥æœ‰çš„è½¬å‘.</p><p>åœ¨IDçš„æ§åˆ¶æ¨¡å—<code>CTRL</code>ä¸­,æˆ‘é‡‡ç”¨äº†ä¸€ç§è¿‡äºâ€å–å·§â€çš„æ–¹æ³•,å°†rdå†™å…¥äº†ID_A3(<em>è§£ç é˜¶æ®µè¾“å‡ºçš„å†™å…¥å¯„å­˜å™¨åœ°å€(å‘åä¼ é€’ç›´è‡³WBé˜¶æ®µ)</em>)</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">assign</span> ID_A3 = ... :<br>      (add || sub || and_ || or_ || slt || sltu || mflo || mfhi || mtc0) ? rd : <br>               <span class="hljs-number">0</span>; <br></code></pre></td></tr></table></figure><p>è¿™ä¸ª<code>ID_A3</code>ä¼šéšç€æµæ°´çº¿å‘åä¼ é€’,å¹¶ä¼ é€’ç»™<code>HAZARD_CTRL</code>(å†’é™©æ§åˆ¶æ¨¡å—)ä¸­ç”¨äºå¤„ç†é˜»å¡å’Œè½¬å‘çš„é—®é¢˜.ä¾‹å¦‚:</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-comment">// è½¬å‘é€»è¾‘</span><br><span class="hljs-keyword">assign</span> ID_RD1_forward = (ID_A1 == <span class="hljs-number">5&#x27;b0</span>) ? <span class="hljs-number">0</span> :<br>       (ID_A1 == MEM_A3) ? MEM_WD : <span class="hljs-comment">// è¿™é‡Œçš„MEM_A3æ˜¯ä¸Šä¸€å‘¨æœŸçš„EX_A3</span><br>           (ID_A1 == WB_A3) ? WB_WD : <span class="hljs-comment">// è¿™é‡Œçš„WB_A3æ˜¯ä¸Šä¸€å‘¨æœŸçš„WB_A3</span><br>                        ID_RD1;<br></code></pre></td></tr></table></figure><p>é‚£ä¹ˆé—®é¢˜æ¥äº†,æˆ‘çš„é˜»å¡é€»è¾‘ä»£ç ä¸­,</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">assign</span> STALL = ... || (ID_Eret &amp;&amp; ((EX_MTC0 &amp;&amp; EX_A3 == <span class="hljs-number">5&#x27;D14</span>) || (MEM_MTC0 &amp;&amp; MEM_A3 == <span class="hljs-number">5&#x27;d14</span>))); <br></code></pre></td></tr></table></figure><p>è¿™æ ·çœ‹ä¼¼æ²¡æœ‰é—®é¢˜.ä½†å…¶å®è¿™é‡Œ<code>mtc0</code>æŒ‡ä»¤å¯¼å…¥çš„<code>A3</code>å¹¶ä¸æ˜¯çœŸæ­£ç”¨äºå†™å…¥å¯„å­˜å™¨å †çš„åœ°å€,è€Œæ˜¯<code>CP0</code>çš„å¯¹åº”åœ°å€.å› æ­¤æœ‰å¯èƒ½äº§ç”Ÿæœ¬ä¸åº”è¯¥æœ‰çš„è½¬å‘.ä¾‹å¦‚ä»¥ä¸‹ä»£ç </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs assembly">ori $1, $0, 0x1234<br>mtc0 $1, $12<br>add $13, $0, $12<br></code></pre></td></tr></table></figure><p>è¯¥ä»£ç ä¸­,ç¬¬äºŒè¡ŒæŒ‡ä»¤<code>mtc0</code>é”™è¯¯åœ°å‘<code>add</code>æŒ‡ä»¤è½¬å‘äº†<code>$12</code>çš„å€¼,ä½†å®ƒä»¬æŒ‡å‘çš„<code>$12</code><strong>æ ¹æœ¬ä¸æ˜¯åŒä¸€ä¸ªå¯„å­˜å™¨!</strong></p><p>æˆ‘çš„å¯¹åº”æªæ–½æ˜¯å–æ¶ˆæ‰§è¡Œ<code>mtc0</code>æŒ‡ä»¤æ—¶<code>rd</code>å†™å…¥<code>ID_A3</code>çš„åšæ³•,åœ¨<code>HARZARD_CTRL</code>ä¸­,ä¼ å…¥<code>MEM_instr</code>å’Œ<code>EX_instr</code>(<code>MEM</code>,<code>EX</code>åŒºå½“å‰å„è‡ªä¼ é€’çš„æŒ‡ä»¤)</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">assign</span> STALL = ... || (ID_Eret &amp;&amp; ((EX_MTC0 &amp;&amp; EX_instr[<span class="hljs-number">15</span>:<span class="hljs-number">11</span>] == <span class="hljs-number">5&#x27;D14</span>) || (MEM_MTC0 &amp;&amp; MEM_instr[<span class="hljs-number">15</span>:<span class="hljs-number">11</span>] == <span class="hljs-number">5&#x27;d14</span>))); <br></code></pre></td></tr></table></figure><h2 id="ä¸­æ–­é”™è¯¯"><a href="#ä¸­æ–­é”™è¯¯" class="headerlink" title="ä¸­æ–­é”™è¯¯"></a>ä¸­æ–­é”™è¯¯</h2><p>é”™è¯¯æƒ…å†µ:</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">7163</span>: we got @<span class="hljs-number">3556</span>:$<span class="hljs-number">31</span> &lt;= <span class="hljs-number">00005</span>ec5 when we expected @<span class="hljs-number">356</span>c:$<span class="hljs-number">18</span> &lt;= <span class="hljs-number">00000000</span><br><span class="hljs-attribute">7164</span>: we got @<span class="hljs-number">3548</span>:$ <span class="hljs-number">4</span> &lt;= <span class="hljs-number">0000355</span>c when we expected @<span class="hljs-number">3510</span>:$ <span class="hljs-number">5</span> &lt;= <span class="hljs-number">00003544</span><br><span class="hljs-attribute">7165</span>: we got too much<br><span class="hljs-attribute">7170</span>: we got @<span class="hljs-number">3078</span>:$<span class="hljs-number">12</span> &lt;= <span class="hljs-number">0000240</span>c when we expected @<span class="hljs-number">3080</span>:$<span class="hljs-number">30</span> &lt;= <span class="hljs-number">0000216</span>f<br></code></pre></td></tr></table></figure><p>è¿™ä¸ªbugåœ¨è¯¾ä¸Šå¹¶æ²¡æœ‰å‘ç°,å–œæè®¡ç»„â€å†æ¥ä¸€æ¬¡â€å¤§å¥–</p><p>é¦–å…ˆè¯´é”™è¯¯ç‚¹:</p><p><strong>åœ¨å‘ç”Ÿé˜»å¡æ—¶,<code>ID</code>å’Œ<code>EX</code>é—´çš„æµæ°´å¯„å­˜å™¨æ¥æ”¶åˆ°å†²æ´—ä¿¡å·,ä½†åº”å½“ä¿ç•™<code>PC</code>å’Œ<code>BD</code>(branch delay)*ä¸¤ç§ä¿¡æ¯çš„ä¼ é€’,ä¹Ÿå°±æ˜¯æŒ‰æ­£å¸¸ä¼ é€’çš„é€»è¾‘ä¼ é€’<code>PC</code>å’Œ<code>BD</code></strong></p><p>å‰è€…<code>PC</code>æ¯”è¾ƒå¥½ç†è§£,è¯¾ä¸‹æ€è€ƒé¢˜ä¹Ÿæœ‰é—®åˆ°è¿™ä¸ªé—®é¢˜.ä¸ºäº†ä¿è¯<code>macroscopic_pc</code>ä¸å‡ºç°è¯¸å¦‚<code>0x0000_0000</code>è¿™ç±»çš„å€¼.</p><p>ä½†æ˜¯<code>BD</code>ç¨å¾®æœ‰äº›ç†è§£çš„å›°éš¾åº¦.å½“å¤–éƒ¨ä¸­æ–­ä¿¡å·äº§ç”Ÿæ—¶,<code>CP0</code>ä¼šæ ¹æ®æ¥å—åˆ°<code>BD</code>æ¥å†³å®š<code>EPC</code>å­˜å‚¨çš„å€¼,å¦‚æœ<code>BD</code>æœ‰è¯¯,é‚£ä¹ˆ<code>PC</code>è·³è½¬é”™è¯¯å°±å¾ˆæœ‰å¯èƒ½å‘ç”Ÿ,</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (enable) <span class="hljs-keyword">begin</span><br>        <span class="hljs-keyword">if</span> (flush)<span class="hljs-keyword">begin</span><br>          EX_PC &lt;= ID_PC;<br>          EX_BD &lt;= ID_BD;<br> ...<br>          <span class="hljs-comment">// å…¶ä½™ä¿¡å·å…¨éƒ¨ä¼ é€’0</span><br>        <span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure><p>æˆ‘éªŒè¯äº†å¤šç§ID,EXé—´æµæ°´å¯„å­˜å™¨å¤„ç†é˜»å¡çš„é”™è¯¯æ–¹æ³•,ä¾‹å¦‚</p><p>A.</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs verilog">EX_PC &lt;= EX_PC; <span class="hljs-comment">// PCä¸å˜,ä¼ é€’ä¸Šä¸€ä¸ªPC</span><br>EX_BD &lt;= <span class="hljs-number">1&#x27;b0</span>;<br></code></pre></td></tr></table></figure><p>B.</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs verilog">EX_PC &lt;= EX_PC;<br>EX_BD &lt;= EX_BD;<br></code></pre></td></tr></table></figure><p>C.</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs verilog">EX_PC &lt;= ID_PC;<br>EX_BD &lt;= <span class="hljs-number">1&#x27;b0</span>;<br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬æ¥çœ‹å®˜æ–¹<code>tb</code>ä¸­çš„ä¸­æ–­é€»è¾‘å¤„ç†ä»£ç :</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">parameter</span> target_pc = <span class="hljs-number">32&#x27;h00003010</span>;<br><br><span class="hljs-keyword">integer</span> count;<br><br><span class="hljs-keyword">initial</span> <span class="hljs-keyword">begin</span><br>    count = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">end</span><br><br><span class="hljs-keyword">always</span> @(<span class="hljs-keyword">negedge</span> clk) <span class="hljs-keyword">begin</span><br>    <span class="hljs-keyword">if</span> (reset) <span class="hljs-keyword">begin</span><br>        interrupt = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">begin</span><br>        <span class="hljs-keyword">if</span> (interrupt) <span class="hljs-keyword">begin</span><br>            <span class="hljs-keyword">if</span> (|m_int_byteen &amp;&amp; (m_int_addr &amp; <span class="hljs-number">32&#x27;hfffffffc</span>) == <span class="hljs-number">32&#x27;h7f20</span>) <span class="hljs-keyword">begin</span><br>                interrupt = <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">end</span><br>        <span class="hljs-keyword">end</span><br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (fixed_macroscopic_pc == target_pc) <span class="hljs-keyword">begin</span><br>            <span class="hljs-keyword">if</span> (count == <span class="hljs-number">0</span>) <span class="hljs-keyword">begin</span><br>                count = <span class="hljs-number">1</span>;<br>                interrupt = <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">end</span><br>        <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">end</span><br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure><p>ç”¨æ–‡å­—ç®€è¿°è¯¥é€»è¾‘:å½“<code>macroscopic_pc</code>åˆ°è¾¾<code>tb</code>æŒ‡å®šçš„<code>target_pc</code>æ—¶,<code>interupt</code>ç½®ä¸º1,å³å¤–éƒ¨äº§ç”Ÿä¸­æ–­ä¿¡å·.</p><p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“çš„æ’é™¤C:</p><p>å½“å»¶è¿Ÿæ§½æŒ‡ä»¤ä½äºIDåŒºæ—¶,ä¸æµæ°´çº¿åé¢çš„æŒ‡ä»¤å‘ç”Ÿé˜»å¡å†²çªæ—¶(è¿™ç§ä¾‹å­ç¡®å®ä¸å¤ªå¥½åˆ—ä¸¾):<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs assembly">ori $20, 0x1001          # 3000<br>mtc0 $20, $12 // å…è®¸ä¸­æ–­ # 3004<br>ori $1, $0, 0x1234 # 3008<br>ori $2, $0, 0x2345 # 300c<br>mult $1, $2        # 3010<br>jal 0x3020         # 3014<br>mflo $3            # 3018(å‘ç”Ÿä¸­æ–­)<br>ori $5, $0, 0x5555 # 301c<br>ori $6, $0, 0x6666 # 3020<br></code></pre></td></tr></table></figure></p><p>æˆ‘ä»¬æŒ‡å®š<code>target_pc</code>ä¸º<code>0x3018</code>,<code>mflo</code>ä¼šä¸<code>EX</code>åŒºçš„<code>MDU</code>æ¨¡å—äº§ç”Ÿçš„<code>busy</code>ä¿¡å·å‘ç”Ÿå†²çª,å› æ­¤åœ¨Cæƒ…å†µä¸‹,<code>ID</code>å’Œ<code>EX</code>é—´çš„æµæ°´å¯„å­˜å™¨äº§ç”Ÿäº†<code>nop</code>æŒ‡ä»¤,è¯¥æŒ‡ä»¤æºå¸¦ç€<code>0x3018</code>çš„<code>PC</code>å’Œ<code>0</code>çš„<code>BD</code>,ä¼ é€’åˆ°MEMåŒºæ—¶,<code>PC</code>ä¼ é€’ç»™<code>macroscopic_pc</code>è¾“å‡ºåˆ°å¤–ç•Œ,è§¦å‘äº†å¤–ç•Œä¸­æ–­ä¿¡å·çš„äº§ç”Ÿ,<code>CP0</code>æ¥å—åˆ°è¯¥ä¸­æ–­ä¿¡å·è¿›å…¥ä¸­æ–­å¤„ç†é€»è¾‘,è¿™æ—¶è¯¥æ¨¡å—ä¾æ®æ¥å—åˆ°çš„<code>BD</code>å¤„ç†<code>EPC</code>,ä½†æ˜¯<strong><code>BD</code>æ˜¯é”™è¯¯çš„</strong>,ä¹Ÿå°±æœ€ç»ˆå¯¼è‡´äº†è·³è½¬é”™è¯¯.</p><p>è‡³äºAå’ŒB,ä¸Šè¿°ä»£ç ç¡®å®æ— æ³•è¯æ˜å®ƒçš„é”™è¯¯,æˆ‘çŒœæµ‹æ˜¯è¯¾ä¸Šæµ‹è¯•<code>tb</code>ä¼šæœ‰æ›´å¤æ‚çš„ä¸­æ–­ä¿¡å·äº§ç”Ÿçš„é€»è¾‘,æ€»ä¹‹,<code>EX_PC &lt;= ID_PC;EX_BD &lt;= ID_BD;</code>ç¡®å®æ˜¯æœ€å¥½çš„,å› ä¸ºå®ƒä¿è¯äº†ä¸¤ç‚¹:</p><ol><li>å‘ç”Ÿé˜»å¡çš„æŒ‡ä»¤å¯¹åº”<code>PC</code>ä¼šå¤šæ¬¡å‡ºç°åœ¨<code>macroscopic_pc</code>ä¸­(A,Bæ— æ³•åšåˆ°è¿™ä¸€ç‚¹)</li><li>æŒ‡ä»¤ä¼ é€’ä¸­,<code>PC</code>ä¸€å®šä¸æ­£ç¡®çš„<code>BD</code>å¯¹åº”</li></ol>]]></content>
    
    
    <categories>
      
      <category>è®¡ç®—æœºç»„æˆåŸç†</category>
      
    </categories>
    
    
    <tags>
      
      <tag>CO</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>P7-CPUè®¾è®¡æ–‡æ¡£</title>
    <link href="/2024/12/02/P7-CPU%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3/"/>
    <url>/2024/12/02/P7-CPU%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3/</url>
    
    <content type="html"><![CDATA[<h1 id="P7-CPUè®¾è®¡æ–‡æ¡£"><a href="#P7-CPUè®¾è®¡æ–‡æ¡£" class="headerlink" title="P7-CPUè®¾è®¡æ–‡æ¡£"></a>P7-CPUè®¾è®¡æ–‡æ¡£</h1><h2 id="æµæ°´çº¿æ¶æ„"><a href="#æµæ°´çº¿æ¶æ„" class="headerlink" title="æµæ°´çº¿æ¶æ„"></a>æµæ°´çº¿æ¶æ„</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs markdown"><span class="hljs-bullet">-</span> mips.v<br><span class="hljs-bullet">-</span> TC0 # è®¡æ—¶å™¨0<br><span class="hljs-bullet">-</span> TC1 # è®¡æ—¶å™¨1<br><span class="hljs-bullet">-</span> BRIDGE # ç³»ç»Ÿæ¡¥<br><span class="hljs-bullet">-</span> CPU.v # å•å‘¨æœŸCPUçš„å°è£…æ¨¡å—<br><span class="hljs-bullet">        -</span> IF #å–æŒ‡é˜¶æ®µ<br><span class="hljs-bullet">            -</span> pc<br><span class="hljs-bullet">        -</span> IF<span class="hljs-emphasis">_ID #IFä¸IDä¹‹é—´æµæ°´å¯„å­˜å™¨</span><br><span class="hljs-emphasis">        - ID #è¯‘ç é˜¶æ®µ</span><br><span class="hljs-emphasis">            - ID_</span>CTRL #é‡‡ç”¨åˆ†å¸ƒå¼è¯‘ç <br><span class="hljs-bullet">            -</span> GRF # å¯„å­˜å™¨å †<br><span class="hljs-bullet">            -</span> EXT # ç«‹å³æ•°æ‰©å±•<br><span class="hljs-bullet">            -</span> CMP # æ¯”è¾ƒ2ä¸ªæ•°<br><span class="hljs-bullet">            -</span> NPC # ä¸ºBç±»/Jè®¡ç®—ä¸‹æ¡åœ°å€<br><span class="hljs-bullet">        -</span> ID<span class="hljs-emphasis">_EX #IDä¸EXä¹‹é—´çš„å¯„å­˜å™¨</span><br><span class="hljs-emphasis">        - EX  #æ‰§è¡Œé˜¶æ®µ</span><br><span class="hljs-emphasis">            - EX_</span>CTRL #é‡‡ç”¨åˆ†å¸ƒå¼è¯‘ç <br><span class="hljs-bullet">            -</span> ALU # å¤šåŠŸèƒ½è®¡ç®—æ¨¡å—<br><span class="hljs-bullet">            -</span> MULT<span class="hljs-emphasis">_DIV # ä¹˜é™¤æ¨¡å—</span><br><span class="hljs-emphasis">        - EX_</span>MEM #EXä¸MEMä¹‹é—´çš„å¯„å­˜å™¨<br><span class="hljs-bullet">        -</span> MEM #å­˜å‚¨é˜¶æ®µ<br><span class="hljs-bullet">            -</span> MEM<span class="hljs-emphasis">_CTRL #é‡‡ç”¨åˆ†å¸ƒå¼è¯‘ç </span><br><span class="hljs-emphasis">            - MEM_</span>EXT # MEMè¾“å‡ºæ•°æ®æ‰©å±•ä½æ•°<br><span class="hljs-bullet">        -</span> MEM<span class="hljs-emphasis">_WB #MEMä¸WBä¹‹é—´çš„å¯„å­˜å™¨</span><br><span class="hljs-emphasis">        - HAZARD_</span>CTRL #å†’é™©æ§åˆ¶æ¨¡å—<br><span class="hljs-bullet">        -</span> CP0 #åå¤„ç†å™¨<br><span class="hljs-code"></span><br></code></pre></td></tr></table></figure><h3 id="IF"><a href="#IF" class="headerlink" title="IF"></a>IF</h3><h4 id="é¡¶å±‚"><a href="#é¡¶å±‚" class="headerlink" title="é¡¶å±‚"></a>é¡¶å±‚</h4><blockquote><p>Instruction Fetché˜¶æ®µ,ä»æŒ‡ä»¤å¯„å­˜å™¨ä¸­è¯»å–æŒ‡ä»¤</p></blockquote><div class="table-container"><table><thead><tr><th>ç«¯å£</th><th>In/Out?</th><th>ä½å®½</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>clk</td><td>in</td><td></td><td>æ—¶é’Ÿä¿¡å·</td></tr><tr><td>reset</td><td>in</td><td></td><td>é‡ç½®ä¿¡å·</td></tr><tr><td>req</td><td>in</td><td></td><td>ä¸­æ–­è¯·æ±‚ä¿¡å·</td></tr><tr><td>enablePC</td><td>in</td><td></td><td>ä½¿èƒ½ä¿¡å·</td></tr><tr><td>NPC</td><td>in</td><td>[31:0]</td><td>PCåœ°å€è¾“å…¥</td></tr><tr><td>ID_OP</td><td>in</td><td>[3:0]</td><td>IDåŒºå¤„ç†æŒ‡ä»¤åˆ†æ”¯ç±»å‹</td></tr><tr><td>IF_PC</td><td>out</td><td>[31:0]</td><td>è¾“å‡ºPCåœ°å€</td></tr><tr><td>IF_BD</td><td>out</td><td></td><td>IFåŒºå½“å‰æŒ‡ä»¤æ˜¯å¦ä¸ºå»¶è¿Ÿæ§½æŒ‡ä»¤</td></tr><tr><td>IF_ExcCode</td><td>out</td><td>[4:0]</td><td>IFåŒºå¼‚å¸¸ç </td></tr></tbody></table></div><h4 id="PCéƒ¨ä»¶"><a href="#PCéƒ¨ä»¶" class="headerlink" title="PCéƒ¨ä»¶"></a>PCéƒ¨ä»¶</h4><div class="table-container"><table><thead><tr><th>ç«¯å£</th><th>In/Out?</th><th>ä½å®½</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>clk</td><td>in</td><td></td><td>æ—¶é’Ÿä¿¡å·</td></tr><tr><td>reset</td><td>in</td><td></td><td>é‡ç½®ä¿¡å·</td></tr><tr><td>req</td><td>in</td><td></td><td>ä¸­æ–­è¯·æ±‚ä¿¡å·</td></tr><tr><td>enable</td><td>in</td><td></td><td>ä½¿èƒ½ä¿¡å·</td></tr><tr><td>NPC</td><td>in</td><td>[31:0]</td><td>PCåœ°å€è¾“å…¥</td></tr><tr><td>PC</td><td>out</td><td>[31:0]</td><td>è¾“å‡ºPCåœ°å€</td></tr></tbody></table></div><h5 id="PCéƒ¨ä»¶å¤„ç†é€»è¾‘è¯´æ˜"><a href="#PCéƒ¨ä»¶å¤„ç†é€»è¾‘è¯´æ˜" class="headerlink" title="PCéƒ¨ä»¶å¤„ç†é€»è¾‘è¯´æ˜"></a>PCéƒ¨ä»¶å¤„ç†é€»è¾‘è¯´æ˜</h5><blockquote><p>ä¿¡å·ä¼˜å…ˆçº§:reset &gt; req &gt; enable</p></blockquote><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">always</span> @(<span class="hljs-keyword">posedge</span> clk)<span class="hljs-keyword">begin</span><br>      <span class="hljs-keyword">if</span> (reset) <span class="hljs-keyword">begin</span><br>        reg_pc&lt;=<span class="hljs-number">32&#x27;h3000</span>; <span class="hljs-comment">// PCé‡ç½®</span><br>      <span class="hljs-keyword">end</span><br>      <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (req)<span class="hljs-keyword">begin</span><br>        reg_pc &lt;= <span class="hljs-number">32&#x27;h4180</span>; <span class="hljs-comment">// è·³è½¬è‡³32&#x27;H4180,å¤„ç†å¼‚å¸¸é€»è¾‘ä»£ç </span><br>      <span class="hljs-keyword">end</span><br>      <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (enable) <span class="hljs-keyword">begin</span><br>        reg_pc&lt;=NPC;<br>      <span class="hljs-keyword">end</span><br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure><h4 id="IFåŒºIF-BDä¿¡å·é€»è¾‘è¯´æ˜"><a href="#IFåŒºIF-BDä¿¡å·é€»è¾‘è¯´æ˜" class="headerlink" title="IFåŒºIF_BDä¿¡å·é€»è¾‘è¯´æ˜"></a>IFåŒºIF_BDä¿¡å·é€»è¾‘è¯´æ˜</h4><blockquote><p><code>IF_BD</code>ä¿¡å·ç”¨äºæŒ‡å®šå½“å‰IFåŒºæŒ‡ä»¤æ˜¯å¦ä¸ºå»¶è¿Ÿæ§½æŒ‡ä»¤;</p><p>æ ¹æ®<code>ID_OP</code>ä¿¡å·å†³å®š:</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">assign</span> IF_BD = (ID_OP != `ID_NOJUMP) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>;<br></code></pre></td></tr></table></figure><ul><li>è‹¥IDåŒºæŒ‡ä»¤ä¸ºè·³è½¬æŒ‡ä»¤(branch, jal, jr, beq, bne, â€¦),IF_BDç½®1</li><li>åä¹‹,IF_BDç½®0</li></ul><p>ä¾æ¬¡ç»è¿‡<code>IF_ID</code>,<code>ID_EX</code>,<code>EX_MEM</code>é—´æµæ°´å¯„å­˜å™¨,ç›´åˆ°<code>PC0</code>,<code>PC0</code>æ ¹æ®è¯¥ä¿¡å·å†³å®š<code>eret</code>è·³è½¬åœ°å€(å³<code>EPC</code>)</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs verilog">EPC &lt;= (BD_in == <span class="hljs-number">1</span>) ? VPC - <span class="hljs-number">32&#x27;D4</span> : VPC;<br></code></pre></td></tr></table></figure><ul><li>è‹¥VPC(å—å®³PC)ä¸ºå»¶è¿Ÿæ§½æŒ‡ä»¤,åˆ™EPCè®¾ç½®ä¸ºè¯¥æŒ‡ä»¤çš„ä¸Šä¸€æ¡æŒ‡ä»¤åœ°å€</li><li>è‹¥VPC(å—å®³PC)ä¸æ˜¯å»¶è¿Ÿæ§½æŒ‡ä»¤,åˆ™EPCè®¾ç½®ä¸ºè¯¥æŒ‡ä»¤åœ°å€</li></ul><p>æ³¨:è‹¥åœ¨4180Hå¤„ç†å¼‚å¸¸é€»è¾‘ä»£ç ä¸­ä¸ä¿®æ”¹EPC,ç›´æ¥ä½¿ç”¨<code>eret</code>æŒ‡ä»¤ä¼šå¯¼è‡´æ­»å¾ªç¯</p></blockquote><h3 id="IF-ID"><a href="#IF-ID" class="headerlink" title="IF_ID"></a>IF_ID</h3><blockquote><p>åœ¨æ—¶é’Ÿä¸Šå‡æ²¿å°†IF_PC,IF_instrçš„å€¼ä¼ é€’ç»™ID_PC,ID_instr</p></blockquote><div class="table-container"><table><thead><tr><th>ç«¯å£</th><th>In/Out?</th><th>ä½å®½</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>clk</td><td>in</td><td></td><td>æ—¶é’Ÿä¿¡å·</td></tr><tr><td>reset</td><td>in</td><td></td><td>é‡ç½®ä¿¡å·</td></tr><tr><td>req</td><td>in</td><td></td><td>ä¸­æ–­è¯·æ±‚ä¿¡å·</td></tr><tr><td>flush</td><td>in</td><td></td><td>å†²æ´—ä¿¡å·</td></tr><tr><td>enable</td><td>in</td><td></td><td>ä½¿èƒ½ä¿¡å·</td></tr><tr><td>IF_PC</td><td>in</td><td>[31:0]</td><td>IFä¼ å…¥PCåœ°å€</td></tr><tr><td>IF_instr</td><td>in</td><td>[31:0]</td><td>IFä¼ å…¥æŒ‡ä»¤</td></tr><tr><td>IF_ExcCode</td><td>in</td><td>[4:0]</td><td>IFåŒºå¼‚å¸¸ç </td></tr><tr><td>IF_BD</td><td>in</td><td></td><td>IFåŒºå»¶è¿Ÿæ§½æŒ‡ä»¤ä¿¡å·</td></tr><tr><td>ID_PC</td><td>out</td><td>[31:0]</td><td>IDæ¥æ”¶PCåœ°å€</td></tr><tr><td>ID_instr</td><td>out</td><td>[31:0]</td><td>IDæ¥æ”¶æŒ‡ä»¤</td></tr><tr><td>ID_ExcCode</td><td>out</td><td>[4:0]</td><td>IDæ¥æ”¶å¼‚å¸¸ç </td></tr><tr><td>ID_BD</td><td></td><td></td><td>IDæ¥æ”¶å»¶è¿Ÿæ§½æŒ‡ä»¤ä¿¡å·</td></tr></tbody></table></div><blockquote><p>ä¼˜å…ˆçº§:<code>reset &gt; req &gt; enable/flush</code></p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">if</span> (reset)<span class="hljs-keyword">begin</span><br> ID_PC &lt;= <span class="hljs-number">32&#x27;h3000</span>;<br> ID_instr &lt;= <span class="hljs-number">32&#x27;h0</span>;<br> ID_ExcCode = <span class="hljs-number">5&#x27;b0</span>;<br> ID_BD = <span class="hljs-number">1&#x27;b0</span>;<br><span class="hljs-keyword">end</span><br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (req)<span class="hljs-keyword">begin</span><br> ID_PC &lt;= <span class="hljs-number">32&#x27;h4180</span>; <span class="hljs-comment">// å¼‚å¸¸å¤„ç†ç¨‹åºå…¥å£åœ°å€</span><br> ID_instr &lt;= <span class="hljs-number">32&#x27;b0</span>; <span class="hljs-comment">// nop</span><br> ID_ExcCode &lt;= <span class="hljs-number">5&#x27;b0</span>;<br> ID_BD &lt;= <span class="hljs-number">1&#x27;b0</span>;<br><span class="hljs-keyword">end</span><br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (enable)<span class="hljs-keyword">begin</span><br> <span class="hljs-keyword">if</span> (flush)<span class="hljs-keyword">begin</span><br>     ID_PC &lt;= <span class="hljs-number">32&#x27;h3000</span>;<br>     ID_instr &lt;= <span class="hljs-number">32&#x27;h0</span>;<br>     ID_ExcCode &lt;= <span class="hljs-number">5&#x27;b0</span>;<br>     ID_BD &lt;= <span class="hljs-number">1&#x27;b0</span>;<br> <span class="hljs-keyword">end</span><br> <span class="hljs-keyword">else</span> <span class="hljs-keyword">begin</span><br>     ID_PC &lt;= IF_PC;<br>     ID_instr &lt;= IF_instr;<br>     ID_ExcCode &lt;= IF_ExcCode;<br>     ID_BD &lt;= IF_BD;<br> <span class="hljs-keyword">end</span><br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure></blockquote><h3 id="ID"><a href="#ID" class="headerlink" title="ID"></a>ID</h3><blockquote><p>Instruction Decodeé˜¶æ®µ</p></blockquote><h4 id="é¡¶å±‚-1"><a href="#é¡¶å±‚-1" class="headerlink" title="é¡¶å±‚"></a>é¡¶å±‚</h4><div class="table-container"><table><thead><tr><th>ç«¯å£</th><th>In/Out?</th><th>ä½å®½</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>clk</td><td>in</td><td></td><td></td></tr><tr><td>reset</td><td>in</td><td></td><td></td></tr><tr><td><strong>IF/IDè¾“å…¥</strong></td><td></td><td></td><td></td></tr><tr><td>IF_PC</td><td>in</td><td>[31:0]</td><td>IFåŒºçš„PC,ç”¨äºæ­£å¸¸çš„åœ°å€+4æ“ä½œ</td></tr><tr><td>ID_PC</td><td>in</td><td>[31:0]</td><td>IDåŒºçš„PC</td></tr><tr><td>ID_instr</td><td>in</td><td>[31:0]</td><td>IDåŒºçš„æŒ‡ä»¤</td></tr><tr><td>ID_RD1_forward</td><td>in</td><td>[31:0]</td><td>è½¬å‘çš„Data1</td></tr><tr><td>ID_RD2_forward</td><td>in</td><td>[31:0]</td><td>è½¬å‘çš„Data2</td></tr><tr><td>ID_ExcCode</td><td>in</td><td>[4:0]</td><td>IDåŒºçš„å¼‚å¸¸ç </td></tr><tr><td><strong>WBè¾“å…¥</strong></td><td></td><td></td><td></td></tr><tr><td>WB_WD</td><td>in</td><td>[31:0]</td><td>å†™å…¥æ•°æ®,æ¥è‡ªäºWBé˜¶æ®µ</td></tr><tr><td>WB_A3</td><td>in</td><td>[31:0]</td><td>å†™å…¥å¯„å­˜å™¨åœ°å€,æ¥è‡ªäºWBé˜¶æ®µ</td></tr><tr><td>WB_PC</td><td>in</td><td>[31:0]</td><td>å†™å…¥æ•°æ®å¯¹åº”PCåœ°å€,ä¼ é€’ç»™$displayè¯­å¥,ä½œä¸ºæ˜¾ç¤º,æ¥è‡ªäºWBé˜¶æ®µ</td></tr><tr><td><strong>IDè¾“å‡º</strong></td><td></td><td></td><td></td></tr><tr><td>ID_RD1</td><td>out</td><td>[31:0]</td><td>IDè¾“å‡ºrså¯„å­˜å™¨è¯»å‡ºå€¼</td></tr><tr><td>ID_RD2</td><td>out</td><td>[31:0]</td><td>IDè¾“å‡ºrtå¯„å­˜å™¨è¯»å‡ºå€¼</td></tr><tr><td>ID_IMM32</td><td>out</td><td>[31:0]</td><td>IDè¾“å‡ºç»è¿‡ä½æ‰©å±•çš„ç«‹å³æ•°</td></tr><tr><td>ID_A3</td><td>out</td><td>[4:0]</td><td>IDé˜¶æ®µçš„A3,å‘åä¼ é€’ç”¨</td></tr><tr><td>ID_WD</td><td>out</td><td>[31:0]</td><td>IDé˜¶æ®µçš„å†™å…¥æ•°æ®,å‘åä¼ é€’</td></tr><tr><td>NPC</td><td>out</td><td>[31:0]</td><td>IDé˜¶æ®µ(å†…éƒ¨NPCæ¨¡å—)è®¡ç®—çš„ä¸‹ä¸€ä¸ªåœ°å€</td></tr><tr><td>ID_A1_USE</td><td>out</td><td>[1:0]</td><td>IDé˜¶æ®µrså¯„å­˜å™¨çš„$T_{USE}$</td></tr><tr><td>ID_A2_USE</td><td>out</td><td>[1:0]</td><td>IDé˜¶æ®µrtå¯„å­˜å™¨çš„$T_{USE}$</td></tr><tr><td>ID_MD</td><td>out</td><td></td><td>IDåŒºå½“å‰æ˜¯å¦åœ¨å¤„ç†ä¹˜é™¤ç›¸å…³æŒ‡ä»¤</td></tr><tr><td>ID_EX_ExcCode</td><td>out</td><td>[4:0]</td><td>IDåŒºå¤„ç†åçš„å¼‚å¸¸ç </td></tr><tr><td>ID_OP</td><td>out</td><td></td><td>IDåŒºæŒ‡ä»¤çš„åˆ†æ”¯ç±»å‹</td></tr><tr><td>IF_ID_FLUSH</td><td>out</td><td></td><td>å¯¹IF_IDé—´æµæ°´å¯„å­˜å™¨çš„å†²æ´—ä¿¡å·</td></tr></tbody></table></div><h4 id="EXTéƒ¨ä»¶"><a href="#EXTéƒ¨ä»¶" class="headerlink" title="EXTéƒ¨ä»¶"></a>EXTéƒ¨ä»¶</h4><blockquote><p>ç«‹å³æ•°æ‰©å±•</p></blockquote><div class="table-container"><table><thead><tr><th>ç«¯å£</th><th>In/Out?</th><th>ä½å®½</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>imm16</td><td>in</td><td>[15:0]</td><td>è¾“å…¥çš„16ä½ç«‹å³æ•°</td></tr><tr><td>ExtControl</td><td>in</td><td></td><td>å†³å®šé›¶æ‰©å±•è¿˜æ˜¯ç¬¦å·æ‰©å±•</td></tr><tr><td>imm32</td><td>out</td><td>[31:0]</td><td>è¾“å‡ºçš„ä¸ºæ‰©å±•åçš„32ä½ç«‹å³æ•°</td></tr></tbody></table></div><h4 id="CMPéƒ¨ä»¶"><a href="#CMPéƒ¨ä»¶" class="headerlink" title="CMPéƒ¨ä»¶"></a>CMPéƒ¨ä»¶</h4><blockquote><p>åˆ¤æ–­ä¸¤ä¸ªè¾“å…¥(ä»å¯„å­˜å™¨å–å‡ºæ¥çš„ä¸¤ä¸ªå€¼)æ˜¯å¦ç›¸ç­‰,è¾“å‡ºzero,ç”¨äºå¤„ç†beqä¿¡å·é€šè·¯</p></blockquote><div class="table-container"><table><thead><tr><th>ç«¯å£</th><th>In/Out?</th><th>ä½å®½</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>A</td><td>in</td><td>[31:0]</td><td>è¾“å…¥æ•°æ®,æ¥æ”¶çš„æ˜¯è½¬å‘çš„Data1(RD1_forward)</td></tr><tr><td>B</td><td>in</td><td>[31:0]</td><td>è¾“å…¥æ•°æ®,æ¥æ”¶çš„æ˜¯è½¬å‘çš„Data2(RD2_forward)</td></tr><tr><td>CMPControl</td><td>in</td><td>[3:0]</td><td>CMPéƒ¨ä»¶æ§åˆ¶ä¿¡å·(é€‰æ‹©æ¯”è¾ƒæ–¹å¼)</td></tr><tr><td>zero</td><td>out</td><td></td><td>è‹¥ç›¸ç­‰åˆ™è¾“å‡º1,å¦åˆ™è¾“å‡º0</td></tr></tbody></table></div><h4 id="CMPControlä¿¡å·è¡¨"><a href="#CMPControlä¿¡å·è¡¨" class="headerlink" title="CMPControlä¿¡å·è¡¨"></a>CMPControlä¿¡å·è¡¨</h4><div class="table-container"><table><thead><tr><th>æŒ‡ä»¤</th><th>CMPControl</th></tr></thead><tbody><tr><td>cmpBeq</td><td>4â€™b0000</td></tr><tr><td>cmpBgez</td><td>4â€™b0001</td></tr><tr><td>cmpBgtz</td><td>4â€™b0010</td></tr><tr><td>cmpBlez</td><td>4â€™b0011</td></tr><tr><td>cmpBltz</td><td>4â€™b0100</td></tr><tr><td>cmpBne</td><td>4â€™b0101</td></tr><tr><td>bnumeq</td><td>4â€™b1000</td></tr></tbody></table></div><h4 id="NPCéƒ¨ä»¶"><a href="#NPCéƒ¨ä»¶" class="headerlink" title="NPCéƒ¨ä»¶"></a>NPCéƒ¨ä»¶</h4><blockquote><p>è®¡ç®—ä¸‹ä¸€ä¸ªPCåœ°å€</p></blockquote><div class="table-container"><table><thead><tr><th>ç«¯å£</th><th>In/Out?</th><th>ä½å®½</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>IF_PC</td><td>in</td><td>[31:0]</td><td>IFè¾“å‡ºçš„PC</td></tr><tr><td>ID_PC</td><td>in</td><td>[31:0]</td><td></td></tr><tr><td>ID_imm26</td><td>in</td><td>[25:0]</td><td><code>Jal</code>æŒ‡ä»¤ä¸­[25:0]ä½,æŒ‡å®šè·³è½¬çš„ç»å¯¹åœ°å€</td></tr><tr><td>imm32</td><td>in</td><td>[31:0]</td><td>ç»è¿‡EXTæ‰©å±•çš„ç«‹å³æ•°</td></tr><tr><td>Jr_Reg_Data</td><td>in</td><td>[31:0]</td><td>JræŒ‡å®šçš„å¯„å­˜å™¨çš„å€¼</td></tr><tr><td>EPC_out</td><td>in</td><td>[31:0]</td><td>CP0ä¼ é€’çš„è·³è½¬æŒ‡ä»¤</td></tr><tr><td>Branch</td><td>in</td><td></td><td>Branchä¿¡å·(beqæ¿€æ´»)</td></tr><tr><td>Jal</td><td>in</td><td></td><td>Jalä¿¡å·(jalæ¿€æ´»)</td></tr><tr><td>Jr</td><td>in</td><td></td><td>Jrä¿¡å·(jræ¿€æ´»)</td></tr><tr><td>Eret</td><td>in</td><td></td><td>Eretä¿¡å·(eretæ¿€æ´»)</td></tr><tr><td>NPC</td><td>out</td><td>[31:0]</td><td>ä¸‹ä¸€ä¸ªPCåœ°å€</td></tr></tbody></table></div><h5 id="è·³è½¬åœ°å€è¡¨"><a href="#è·³è½¬åœ°å€è¡¨" class="headerlink" title="è·³è½¬åœ°å€è¡¨"></a>è·³è½¬åœ°å€è¡¨</h5><div class="table-container"><table><thead><tr><th>æŒ‡ä»¤</th><th>è·³è½¬åœ°å€</th></tr></thead><tbody><tr><td>Branchç±»(beq,bne)</td><td>$ID_PC+4+signed(imm32 &lt;&lt; 2)$</td></tr><tr><td>Jal</td><td>$(ID_PC+4)_{31:28}</td><td></td><td>ID_imm26</td><td></td><td>2â€™b0$</td></tr><tr><td>Jr</td><td>$Jr_Reg_Data$</td></tr><tr><td>Eret</td><td>$EPC_out$</td></tr><tr><td>default</td><td>$IF_PC+4$</td></tr></tbody></table></div><h4 id="Controléƒ¨ä»¶-å…±ç”¨"><a href="#Controléƒ¨ä»¶-å…±ç”¨" class="headerlink" title="Controléƒ¨ä»¶(å…±ç”¨)"></a>Controléƒ¨ä»¶(å…±ç”¨)</h4><blockquote><p>æ§åˆ¶ä¿¡å·ç”Ÿæˆéƒ¨ä»¶,è¿™é‡Œæˆ‘ä»¬é‡‡ç”¨çš„æ˜¯åˆ†å¸ƒå¼è¯‘ç ,è¿™é‡Œå±•ç¤ºçš„å…±ç”¨Controléƒ¨ä»¶åœ¨IDé˜¶æ®µè¢«ä½¿ç”¨çš„ç«¯å£</p></blockquote><div class="table-container"><table><thead><tr><th style="text-align:left">ç«¯å£</th><th>In/Out?</th><th>ä½å®½</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td style="text-align:left">instr</td><td>in</td><td>[31:0]</td><td>è¾“å…¥çš„æŒ‡ä»¤</td></tr><tr><td style="text-align:left">zero</td><td>in</td><td></td><td>ID_RD1_forwardä¸ID_RD2_forwardæ˜¯å¦ç›¸ç­‰</td></tr><tr><td style="text-align:left">Branch</td><td>out</td><td></td><td>Branchä¿¡å·(beqæ¿€æ´»)</td></tr><tr><td style="text-align:left">Jal</td><td>out</td><td></td><td>Jalä¿¡å·(jalæ¿€æ´»)</td></tr><tr><td style="text-align:left">Jr</td><td>out</td><td></td><td>Jrä¿¡å·(jræ¿€æ´»)</td></tr><tr><td style="text-align:left">Eret</td><td>out</td><td></td><td>Eretä¿¡å·(eretæ¿€æ´»)</td></tr><tr><td style="text-align:left">ExtControl</td><td>out</td><td></td><td>æ§åˆ¶extéƒ¨ä»¶çš„ä¿¡å·</td></tr><tr><td style="text-align:left">Sel_ID_WD</td><td>out</td><td></td><td>ä¸jalç›¸å…³,è‹¥æ‰§è¡ŒjalæŒ‡ä»¤åˆ™ä¸º1,è¯¥ä¿¡å·ä¸º1æ—¶å°†Write Data(å†™å…¥å¯„å­˜å™¨)æŒ‡å®šä¸ºID_PC+8</td></tr><tr><td style="text-align:left">ID_A3</td><td>out</td><td>[4:0]</td><td>è§£ç é˜¶æ®µè¾“å‡ºçš„å†™å…¥å¯„å­˜å™¨åœ°å€</td></tr><tr><td style="text-align:left">ID_A1_USE</td><td>out</td><td>[1:0]</td><td>rsçš„$T_{USE}$</td></tr><tr><td style="text-align:left">ID_A2_USE</td><td>out</td><td>[1:0]</td><td>rtçš„$T_{USE}$</td></tr><tr><td style="text-align:left">CMPControl</td><td>out</td><td>[3:0]</td><td>CMPéƒ¨ä»¶æ§åˆ¶ä¿¡å·(é€‰æ‹©æ¯”è¾ƒæ–¹å¼)</td></tr><tr><td style="text-align:left">ID_MD</td><td>out</td><td></td><td>IDåŒºå½“å‰æ˜¯å¦åœ¨å¤„ç†ä¹˜é™¤ç›¸å…³æŒ‡ä»¤</td></tr><tr><td style="text-align:left">ID_OP</td><td>out</td><td>[3:0]</td><td>IDåŒºå½“å‰æŒ‡ä»¤åˆ†æ”¯ç±»å‹</td></tr><tr><td style="text-align:left">ri</td><td>out</td><td></td><td>æœªçŸ¥æŒ‡ä»¤å¼‚å¸¸ä¿¡å·</td></tr><tr><td style="text-align:left">SYSCALL</td><td>out</td><td></td><td>ç³»ç»Ÿè°ƒç”¨æŒ‡ä»¤ä¿¡å·</td></tr></tbody></table></div><h4 id="IDæ§åˆ¶ä¿¡å·è¡¨"><a href="#IDæ§åˆ¶ä¿¡å·è¡¨" class="headerlink" title="IDæ§åˆ¶ä¿¡å·è¡¨"></a>IDæ§åˆ¶ä¿¡å·è¡¨</h4><div class="table-container"><table><thead><tr><th>æŒ‡ä»¤/ä¿¡å·</th><th>ExtControl</th><th>ID_A3</th></tr></thead><tbody><tr><td>ori</td><td>1(ç«‹å³æ•°é›¶æ‰©å±•)</td><td>rt</td></tr><tr><td>add</td><td>\</td><td>rd</td></tr><tr><td>sub</td><td>\</td><td>rd</td></tr><tr><td>lw</td><td>0(ç«‹å³æ•°ç¬¦å·æ‰©å±•)</td><td>rt</td></tr><tr><td>sw</td><td>0(ç«‹å³æ•°ç¬¦å·æ‰©å±•)</td><td>$0</td></tr><tr><td>beq</td><td>0(ç«‹å³æ•°ç¬¦å·æ‰©å±•)</td><td>$0</td></tr><tr><td>lui</td><td>0(ç«‹å³æ•°ç¬¦å·æ‰©å±•)(å…¶å®éšæ„)</td><td>rt</td></tr><tr><td>jal</td><td>\</td><td>$31</td></tr><tr><td>jr</td><td>\</td><td>\</td></tr><tr><td>swc</td><td>\</td><td>rd</td></tr><tr><td>bonall</td><td>0(ç«‹å³æ•°ç¬¦å·æ‰©å±•)</td><td>31</td></tr><tr><td>lh</td><td>0</td><td>rt</td></tr><tr><td>sh</td><td>0</td><td>\</td></tr><tr><td>lb</td><td>0</td><td>rt</td></tr><tr><td>sb</td><td>0</td><td>\</td></tr><tr><td>and</td><td>\</td><td>rd</td></tr><tr><td>or</td><td>\</td><td>rd</td></tr><tr><td>slt</td><td>\</td><td>rd</td></tr><tr><td>sltu</td><td>\</td><td>rd</td></tr><tr><td>addi</td><td>0</td><td>rt</td></tr><tr><td>andi</td><td>0</td><td>rt</td></tr><tr><td>mult</td><td>\</td><td>$0</td></tr><tr><td>multu</td><td>\</td><td>$0</td></tr><tr><td>div</td><td>\</td><td>$0</td></tr><tr><td>divu</td><td>\</td><td>$0</td></tr><tr><td>mflo</td><td>\</td><td>rd</td></tr><tr><td>mfhi</td><td>\</td><td>rd</td></tr><tr><td>mtlo</td><td>\</td><td>$0</td></tr><tr><td>mthi</td><td>\</td><td>$0</td></tr><tr><td>mfc0</td><td>\</td><td>rt</td></tr></tbody></table></div><p>å…¶ä½™ä¿¡å·:</p><ul><li><p>$beq/bne\rightarrow Branch$</p></li><li><p>$jal\rightarrow Sel_ID_WD$</p></li><li><p>$jal\rightarrow Jal$</p></li><li><p>$jr\rightarrow Jr$</p></li><li><p>$eret\rightarrow Eret$</p></li><li><p>$mult/multu/div/divu/mfhi/mflo/mthi/mtlo(8)\rightarrow ID_MD$</p></li><li><p>$branch/jal/jr\rightarrow ID_OP=JUMP,else\rightarrow NOJUMP$</p></li><li><p>$syscall\rightarrow SYSCALL$</p></li></ul><h4 id="T-USE-è¡¨"><a href="#T-USE-è¡¨" class="headerlink" title="$T_{USE}$è¡¨"></a>$T_{USE}$è¡¨</h4><div class="table-container"><table><thead><tr><th></th><th>ID_A1_USE</th><th>ID_A2_USE</th></tr></thead><tbody><tr><td>cal_r</td><td>1</td><td>1</td></tr><tr><td>cal_i</td><td>1</td><td>3</td></tr><tr><td>load</td><td>1</td><td>3</td></tr><tr><td>store</td><td>1</td><td>2</td></tr><tr><td>cal_md</td><td>1</td><td>1</td></tr><tr><td>load_md</td><td>3</td><td>3</td></tr><tr><td>store_md</td><td>1</td><td>3</td></tr><tr><td>branch</td><td>0</td><td>0</td></tr><tr><td>cal_jal</td><td>3</td><td>3</td></tr><tr><td>cal_jr</td><td>0</td><td>3</td></tr><tr><td><strong>P7æ–°å¢æŒ‡ä»¤(æœªåˆ†ç±»)</strong></td><td></td><td></td></tr><tr><td>eret</td><td>3</td><td>3</td></tr><tr><td>mfc0</td><td>3</td><td>3</td></tr><tr><td>mtc0</td><td>3</td><td>2</td></tr><tr><td>syscall</td><td>3</td><td>3</td></tr></tbody></table></div><h4 id="GRFéƒ¨ä»¶"><a href="#GRFéƒ¨ä»¶" class="headerlink" title="GRFéƒ¨ä»¶"></a>GRFéƒ¨ä»¶</h4><blockquote><p>32ä¸ª32bitå¯„å­˜å™¨ç»„æˆçš„å¯„å­˜å™¨å †</p></blockquote><div class="table-container"><table><thead><tr><th>ç«¯å£</th><th>In/Out?</th><th>ä½å®½</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>clk</td><td>in</td><td></td><td></td></tr><tr><td>reset</td><td>in</td><td></td><td></td></tr><tr><td>A1</td><td>in</td><td>[4:0]</td><td>A1è¯»å‡ºå¯„å­˜å™¨åœ°å€</td></tr><tr><td>A2</td><td>in</td><td>[4:0]</td><td>A2è¯»å‡ºå¯„å­˜å™¨åœ°å€</td></tr><tr><td>A3</td><td>in</td><td>[4:0]</td><td>A3å†™å…¥å¯„å­˜å™¨åœ°å€</td></tr><tr><td>WD</td><td>in</td><td>[31:0]</td><td>å†™å…¥æ•°æ®</td></tr><tr><td>PC</td><td>in</td><td>[31:0]</td><td>å½“å‰PC($displayç”¨)</td></tr><tr><td>RD1</td><td>out</td><td>[31:0]</td><td>A1å¯„å­˜å™¨è¯»å‡ºå€¼</td></tr><tr><td>RD2</td><td>out</td><td>[31:0]</td><td>A2å¯„å­˜å™¨è¯»å‡ºå€¼</td></tr></tbody></table></div><h3 id="ID-EX"><a href="#ID-EX" class="headerlink" title="ID_EX"></a>ID_EX</h3><div class="table-container"><table><thead><tr><th>ç«¯å£</th><th>In/Out?</th><th>ä½å®½</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>clk</td><td>in</td><td></td><td></td></tr><tr><td>reset</td><td>in</td><td></td><td></td></tr><tr><td>enable</td><td>in</td><td></td><td>ä½¿èƒ½ä¿¡å·</td></tr><tr><td>flush</td><td>in</td><td></td><td>å†²æ´—ä¿¡å·,å’Œresetä½œç”¨ç›¸åŒ</td></tr><tr><td>ID_PC</td><td>in</td><td>[31:0]</td><td></td></tr><tr><td>ID_instr</td><td>in</td><td>[31:0]</td><td></td></tr><tr><td>ID_RD1</td><td>in</td><td>[31:0]</td><td></td></tr><tr><td>ID_RD2</td><td>in</td><td>[31:0]</td><td></td></tr><tr><td>ID_imm32</td><td>in</td><td>[31:0]</td><td></td></tr><tr><td>ID_A3</td><td>in</td><td>[4:0]</td><td></td></tr><tr><td>ID_WD</td><td>in</td><td>[31:0]</td><td></td></tr><tr><td>ID_BD</td><td>in</td><td></td><td>IDåŒºbranch delayä¿¡å·</td></tr><tr><td>ID_EX_ExcCode</td><td>in</td><td>[4:0]</td><td>IDåŒºå¼‚å¸¸ç </td></tr><tr><td>EX_PC</td><td>out</td><td>[31:0]</td><td></td></tr><tr><td>EX_instr</td><td>out</td><td>[31:0]</td><td></td></tr><tr><td>EX_RD1</td><td>out</td><td>[31:0]</td><td></td></tr><tr><td>EX_RD2</td><td>out</td><td>[31:0]</td><td></td></tr><tr><td>EX_imm32</td><td>out</td><td>[31:0]</td><td></td></tr><tr><td>EX_A3</td><td>out</td><td>[4:0]</td><td></td></tr><tr><td>EX_WD</td><td>out</td><td>[31:0]</td><td></td></tr><tr><td>EX_BD</td><td>out</td><td></td><td>EXåŒºæ¥æ”¶branch delayä¿¡å·</td></tr><tr><td>EX_ExcCode</td><td>out</td><td>[4:0]</td><td>EXåŒºæ¥æ”¶å¼‚å¸¸ç </td></tr></tbody></table></div><h3 id="EX"><a href="#EX" class="headerlink" title="EX"></a>EX</h3><h4 id="é¡¶å±‚-2"><a href="#é¡¶å±‚-2" class="headerlink" title="é¡¶å±‚"></a>é¡¶å±‚</h4><div class="table-container"><table><thead><tr><th>ç«¯å£</th><th>In/Out?</th><th>ä½å®½</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>clk</td><td>in</td><td></td><td></td></tr><tr><td>reset</td><td>in</td><td></td><td></td></tr><tr><td>EX_instr</td><td>in</td><td>[31:0]</td><td>EXé˜¶æ®µçš„æŒ‡ä»¤</td></tr><tr><td>EX_imm32</td><td>in</td><td>[31:0]</td><td>32ä½æ‰©å±•çš„ç«‹å³æ•°</td></tr><tr><td>EX_WD</td><td>in</td><td>[31:0]</td><td>EXé˜¶æ®µæ¥æ”¶çš„å†™å…¥å¯„å­˜å™¨å †çš„æ•°æ®</td></tr><tr><td>EX_RD1_forward</td><td>in</td><td>[31:0]</td><td>æ¥æ”¶hazard ctrléƒ¨ä»¶å‘EXé˜¶æ®µä¼ é€’çš„è½¬å‘æ•°æ®å¯„å­˜å™¨A1å€¼</td></tr><tr><td>EX_RD2_forward</td><td>in</td><td>[31:0]</td><td>æ¥æ”¶hazard ctrléƒ¨ä»¶å‘EXé˜¶æ®µä¼ é€’çš„è½¬å‘æ•°æ®å¯„å­˜å™¨A2å€¼</td></tr><tr><td>EX_ExcCode</td><td>in</td><td>[4:0]</td><td>EXæ¥æ”¶åŒºå¼‚å¸¸ç </td></tr><tr><td>EX_MEM_RES</td><td>out</td><td>[31:0]</td><td>ä¼ é€’ALUè®¡ç®—ç»“æœ</td></tr><tr><td>EX_MEM_WD</td><td>out</td><td>[31:0]</td><td>ä¼ é€’ç»™EX_MEMæµæ°´å¯„å­˜å™¨çš„Write Data</td></tr><tr><td>EX_MEM_RD2</td><td>out</td><td>[31:0]</td><td>ä¼ é€’ç»™EX_MEMæµæ°´å¯„å­˜å™¨çš„Read Data2</td></tr><tr><td>EX_NEW</td><td>out</td><td>[1:0]</td><td>EXé˜¶æ®µçš„$T_{NEW}$</td></tr><tr><td>MULT_DIV_BUSY</td><td>out</td><td></td><td></td></tr><tr><td>MULT_DIV_START</td><td>out</td><td></td><td></td></tr><tr><td>EX_MEM_ExcCode</td><td>out</td><td>[4:0]</td></tr></tbody></table></div><h4 id="MULT-DIVéƒ¨ä»¶"><a href="#MULT-DIVéƒ¨ä»¶" class="headerlink" title="MULT_DIVéƒ¨ä»¶"></a>MULT_DIVéƒ¨ä»¶</h4><div class="table-container"><table><thead><tr><th>ç«¯å£</th><th>In/Out?</th><th>ä½å®½</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>clk</td><td>in</td><td></td><td>æ—¶é’Ÿä¿¡å·</td></tr><tr><td>reset</td><td>in</td><td></td><td>é‡åˆ¶ä¿¡å·</td></tr><tr><td>A</td><td>in</td><td>[31:0]</td><td>è®¡ç®—æ•°A</td></tr><tr><td>B</td><td>in</td><td>[31:0]</td><td>è®¡ç®—æ•°B</td></tr><tr><td>start</td><td>in</td><td></td><td>æœ‰æ•ˆä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸ,å¯åŠ¨ä¿¡å·</td></tr><tr><td>MULT_DIV_OP</td><td>in</td><td>[2:0]</td><td>ä¹˜é™¤æ¨¡å—è®¡ç®—æ–¹å¼</td></tr><tr><td>MFHI</td><td>in</td><td></td><td>mfhiä¿¡å·</td></tr><tr><td>MFLO</td><td>in</td><td></td><td>mfloä¿¡å·</td></tr><tr><td>busy</td><td>out</td><td></td><td>è¾“å‡ºå»¶è¿Ÿä¿¡å·</td></tr><tr><td>HI</td><td>out</td><td>[31:0]</td><td>$hiå€¼</td></tr><tr><td>LO</td><td>out</td><td>[31:0]</td><td>$loå€¼</td></tr></tbody></table></div><h4 id="ä¹˜é™¤æ§½ç›¸å…³ä¿¡å·è¡¨"><a href="#ä¹˜é™¤æ§½ç›¸å…³ä¿¡å·è¡¨" class="headerlink" title="ä¹˜é™¤æ§½ç›¸å…³ä¿¡å·è¡¨"></a>ä¹˜é™¤æ§½ç›¸å…³ä¿¡å·è¡¨</h4><div class="table-container"><table><thead><tr><th>æŒ‡ä»¤/ä¿¡å·</th><th>MULT_DIV_OP</th><th>MULT_DIV_START</th></tr></thead><tbody><tr><td>mult</td><td>`mult</td><td>1</td></tr><tr><td>multu</td><td>`multu</td><td>1</td></tr><tr><td>div</td><td>`div</td><td>1</td></tr><tr><td>divu</td><td>`divu</td><td>1</td></tr></tbody></table></div><h4 id="ALUéƒ¨ä»¶"><a href="#ALUéƒ¨ä»¶" class="headerlink" title="ALUéƒ¨ä»¶"></a>ALUéƒ¨ä»¶</h4><div class="table-container"><table><thead><tr><th>ç«¯å£</th><th>In/Out?</th><th>ä½å®½</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>SrcA</td><td>in</td><td>[31:0]</td><td>æ“ä½œæ•°A</td></tr><tr><td>SrcB</td><td>in</td><td>[31:0]</td><td>æ“ä½œæ•°B</td></tr><tr><td>ALUOp</td><td>in</td><td>[3:0]</td><td>è®¡ç®—æ–¹å¼</td></tr><tr><td>ALURes</td><td>out</td><td>[31:0]</td><td>ALUè®¡ç®—ç»“æœ</td></tr><tr><td>overflow</td><td>out</td><td></td><td>æ˜¯å¦æº¢å‡º</td></tr></tbody></table></div><h4 id="Controléƒ¨ä»¶-å…±ç”¨-1"><a href="#Controléƒ¨ä»¶-å…±ç”¨-1" class="headerlink" title="Controléƒ¨ä»¶(å…±ç”¨)"></a>Controléƒ¨ä»¶(<em>å…±ç”¨</em>)</h4><div class="table-container"><table><thead><tr><th>ç«¯å£</th><th>In/Out?</th><th>ä½å®½</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>instr</td><td>in</td><td>[31:0]</td><td></td></tr><tr><td>ALUOp</td><td>out</td><td>[3:0]</td><td>é€‰æ‹©ALUæ“ä½œæ–¹å¼</td></tr><tr><td><del>ALU_A_Sel</del></td><td>out</td><td></td><td></td></tr><tr><td>ALU_B_Sel</td><td>out</td><td></td><td>é€‰æ‹©32ä½ç«‹å³æ•°æˆ–è€…å¯„å­˜å™¨rtçš„å€¼</td></tr><tr><td>WD_Sel</td><td>out</td><td></td><td>é€‰æ‹©Write Dataæ¥æº(1:IDé˜¶æ®µçš„PC+8,0:ALURes)</td></tr><tr><td>EX_NEW</td><td>out</td><td></td><td>å½“å‰EXé˜¶æ®µ$T_{USE}$</td></tr><tr><td>MULT_DIV_OP</td><td>out</td><td></td><td>ä¹˜é™¤æ¨¡å—è®¡ç®—æ–¹å¼</td></tr><tr><td>MULT_DIV _START</td><td>out</td><td></td><td>ä¹˜é™¤æ¨¡å—å¼€å§‹ä¿¡å·</td></tr><tr><td>MTHI</td><td>out</td><td></td><td>mthiä¿¡å·,ä¸‹åŒç†</td></tr><tr><td>MTLO</td><td>out</td><td></td><td></td></tr><tr><td>MFHI</td><td>out</td><td></td><td></td></tr><tr><td>MFLO</td><td>out</td><td></td><td></td></tr><tr><td>MTC0</td><td>out</td><td></td><td></td></tr><tr><td>LOAD</td><td>out</td><td></td><td></td></tr><tr><td>STORE</td><td>out</td><td></td></tr></tbody></table></div><h4 id="EXæ§åˆ¶ä¿¡å·è¡¨"><a href="#EXæ§åˆ¶ä¿¡å·è¡¨" class="headerlink" title="EXæ§åˆ¶ä¿¡å·è¡¨"></a>EXæ§åˆ¶ä¿¡å·è¡¨</h4><div class="table-container"><table><thead><tr><th>æŒ‡ä»¤/ä¿¡å·</th><th>ALUOp</th><th>ALU_B_Sel</th><th>WD_Sel</th></tr></thead><tbody><tr><td>ori</td><td>`aluOr</td><td>1(é€‰æ‹©ç«‹å³æ•°)</td><td>0(Write Dataé€‰æ‹©aluRes)</td></tr><tr><td>add</td><td>`aluAdd</td><td>0(é€‰æ‹©rtå¯„å­˜å™¨)</td><td>0</td></tr><tr><td>sub</td><td>`aluSub</td><td>0(é€‰æ‹©rtå¯„å­˜å™¨)</td><td>0</td></tr><tr><td>beq</td><td>\</td><td>\</td><td>\</td></tr><tr><td>lw</td><td>`aluAdd</td><td>1(é€‰æ‹©ç«‹å³æ•°)</td><td>0</td></tr><tr><td>sw</td><td>`aluAdd</td><td>1(é€‰æ‹©ç«‹å³æ•°)</td><td>0</td></tr><tr><td>lh</td><td>`aluAdd</td><td>1</td><td>0</td></tr><tr><td>sh</td><td>`aluAdd</td><td>1</td><td>0</td></tr><tr><td>lb</td><td>`aluAdd</td><td>1</td><td>0</td></tr><tr><td>sb</td><td>`aluAdd</td><td>1</td><td>0</td></tr><tr><td>lui</td><td>`aluLui</td><td>1(é€‰æ‹©ç«‹å³æ•°)</td><td>0</td></tr><tr><td>jal</td><td>\</td><td>\</td><td>1(Write Dataé€‰æ‹©IDä¼ é€’å€¼)</td></tr><tr><td>jr</td><td>\</td><td>\</td><td>\</td></tr><tr><td>and</td><td>`aluAnd</td><td>0(é€‰æ‹©rtå¯„å­˜å™¨)</td><td>0</td></tr><tr><td>or</td><td>`aluOr</td><td>0(é€‰æ‹©rtå¯„å­˜å™¨)</td><td>0</td></tr><tr><td>slt</td><td>`aluSlt</td><td>0</td><td>0</td></tr><tr><td>sltu</td><td>`aluSltu</td><td>0</td><td>0</td></tr><tr><td>addi</td><td>`aluAdd</td><td>1</td><td>0</td></tr><tr><td>andi</td><td>`aluAnd</td><td>1</td><td>0</td></tr><tr><td>mult</td><td>\</td><td>\</td><td>0</td></tr><tr><td>mflo</td><td>\</td><td>\</td><td>\</td></tr><tr><td>mfhi</td><td>\</td><td>\</td><td>\</td></tr></tbody></table></div><h4 id="EX-T-NEW-è¡¨"><a href="#EX-T-NEW-è¡¨" class="headerlink" title="EX$T_{NEW}$è¡¨"></a>EX$T_{NEW}$è¡¨</h4><div class="table-container"><table><thead><tr><th></th><th>EX_NEW</th></tr></thead><tbody><tr><td>cal_r</td><td>1</td></tr><tr><td>cal_i</td><td>1</td></tr><tr><td>load</td><td>2</td></tr><tr><td>store</td><td>0</td></tr><tr><td>cal_md</td><td>0</td></tr><tr><td>load_md</td><td>1</td></tr><tr><td>store_md</td><td>0</td></tr><tr><td>cal_jal</td><td>0</td></tr><tr><td>cal_jr</td><td>0</td></tr><tr><td>branch</td><td>0</td></tr><tr><td><strong>P7æ–°å¢æŒ‡ä»¤(æœªåˆ†ç±»)</strong></td><td></td></tr><tr><td>mfc0</td><td>2</td></tr><tr><td>mtc0</td><td>0</td></tr><tr><td>eret</td><td>0</td></tr><tr><td>syscall</td><td>0</td></tr></tbody></table></div><h3 id="EX-MEM"><a href="#EX-MEM" class="headerlink" title="EX_MEM"></a>EX_MEM</h3><div class="table-container"><table><thead><tr><th>ç«¯å£</th><th>In/Out?</th><th>ä½å®½</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>clk</td><td>in</td><td></td><td></td></tr><tr><td>reset</td><td>in</td><td></td><td></td></tr><tr><td>flush</td><td>in</td><td></td><td></td></tr><tr><td>req</td><td>in</td><td></td><td></td></tr><tr><td>EX_PC</td><td>in</td><td>[31:0]</td><td>EXé˜¶æ®µPCåœ°å€</td></tr><tr><td>EX_instr</td><td>in</td><td>[31:0]</td><td>EXé˜¶æ®µæŒ‡ä»¤</td></tr><tr><td>EX_A3</td><td>out</td><td>[4:0]</td><td>EXé˜¶æ®µä¼ é€’çš„A3</td></tr><tr><td>EX_WD</td><td>out</td><td>[31:0]</td><td>EXé˜¶æ®µWrite Data</td></tr><tr><td>EX_RES</td><td>out</td><td>[31:0]</td><td>EXé˜¶æ®µALURes</td></tr><tr><td>EX_RD2</td><td>out</td><td>[31:0]</td><td>EXé˜¶æ®µRead Data2</td></tr><tr><td>EX_BD</td><td></td><td></td><td></td></tr><tr><td>MEM_PC</td><td>out</td><td>[31:0]</td><td>MEMé˜¶æ®µPCåœ°å€</td></tr><tr><td>MEM_instr</td><td>out</td><td>[31:0]</td><td>MEMé˜¶æ®µæŒ‡ä»¤</td></tr><tr><td>MEM_A3</td><td>out</td><td>[4:0]</td><td></td></tr><tr><td>MEM_WD</td><td>out</td><td>[31:0]</td><td></td></tr><tr><td>MEM_RES</td><td>out</td><td>[31:0]</td><td></td></tr><tr><td>MEM_RD2</td><td>out</td><td>[31:0]</td><td></td></tr><tr><td>MEM_BD</td><td>out</td><td></td><td></td></tr><tr><td>MEM_ExcCode</td><td>out</td><td>[4:0]</td></tr></tbody></table></div><h3 id="MEM"><a href="#MEM" class="headerlink" title="MEM"></a>MEM</h3><h4 id="é¡¶å±‚-3"><a href="#é¡¶å±‚-3" class="headerlink" title="é¡¶å±‚"></a>é¡¶å±‚</h4><div class="table-container"><table><thead><tr><th>ç«¯å£</th><th>In/Out?</th><th>ä½å®½</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>clk</td><td>in</td><td></td><td></td></tr><tr><td>reset</td><td>in</td><td></td><td></td></tr><tr><td>req</td><td>in</td><td></td><td></td></tr><tr><td>MEM_PC</td><td>in</td><td>[31:0]</td><td></td></tr><tr><td>MEM_instr</td><td>in</td><td>[31:0]</td><td></td></tr><tr><td>MEM_WD</td><td>in</td><td>[31:0]</td><td></td></tr><tr><td>MEM_RES</td><td>in</td><td>[31:0]</td><td></td></tr><tr><td>MEM_RD2_forward</td><td>in</td><td>[31:0]</td><td>WBè½¬å‘çš„Read Data2</td></tr><tr><td>MEM_A3</td><td>in</td><td>[4:0]</td><td>MEMä¼ é€’çš„A3å¯„å­˜å™¨åœ°å€</td></tr><tr><td>RD</td><td>in</td><td>[31:0]</td><td>ä»Memoryä¸­è¯»å‡ºçš„æ•°æ®</td></tr><tr><td>MEM_ExcCode</td><td>in</td><td>[4:0]</td><td></td></tr><tr><td>CP0_out</td><td>in</td><td>[31:0]</td><td>CP0è¯»å‡ºæ•°æ®</td></tr><tr><td>MEM_WB_A3</td><td>out</td><td>[4:0]</td><td>MEMåŒºä¼ é€’æ¥æ”¶å†™å…¥æ•°æ®çš„A3å¯„å­˜å™¨,ä¼ é€’è‡³WBåŒº</td></tr><tr><td>MEM_WB_WD</td><td>out</td><td>[31:0]</td><td></td></tr><tr><td>MEM_A2_NEW</td><td>out</td><td>[1:0]</td><td>MEM$T_{NEW}$</td></tr><tr><td>MEM_BYTE_EN</td><td>out</td><td>[3:0]</td><td>å†™å…¥MEMæ•°æ®çš„æŒ‰å­—èŠ‚ä½¿èƒ½ä¿¡å·</td></tr><tr><td>MEM_WRITE_DATA</td><td>out</td><td>[31:0]</td><td>å†™å…¥MEM,æŒ‰å­—èŠ‚é‡æ–°æ’åºçš„æ•°æ®</td></tr><tr><td>MEM_DATA_ADDR</td><td>out</td><td>[31:0]</td><td>å†™å…¥æˆ–è¯»å‡ºçš„Memoryåœ°å€</td></tr><tr><td>MEM_INST_ADDR</td><td>out</td><td>[31:0]</td><td>å½“load/storeæŒ‡ä»¤å¯¹åº”çš„PCåœ°å€</td></tr><tr><td>MEM_WB_ExcCode</td><td>out</td><td>[4:0]</td><td></td></tr><tr><td>CP0_enable</td><td>out</td><td></td><td>CP0å†™å…¥æ•°æ®ä¿¡å·</td></tr><tr><td>mfc0_rd</td><td>out</td><td>[4:0]</td><td>mfc0/mtc0æŒ‡å®šçš„å¯„å­˜å™¨rd</td></tr><tr><td>EXL_clr</td><td>out</td><td></td><td>EXLæ¸…ç©ºä¿¡å·,ç”±eretæŒ‡ä»¤å‘å‡º</td></tr></tbody></table></div><h4 id="MEMControléƒ¨ä»¶-å…±ç”¨"><a href="#MEMControléƒ¨ä»¶-å…±ç”¨" class="headerlink" title="MEMControléƒ¨ä»¶(å…±ç”¨)"></a>MEMControléƒ¨ä»¶(å…±ç”¨)</h4><div class="table-container"><table><thead><tr><th>ç«¯å£</th><th>In/Out?</th><th>ä½å®½</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>instr</td><td>in</td><td></td><td></td></tr><tr><td>MEM_WE</td><td>out</td><td></td><td>é€‰æ‹©æ˜¯å¦å†™å…¥Memory</td></tr><tr><td>MEM_Sel</td><td>out</td><td></td><td>é€‰æ‹©æ˜¯å¦å°†Memoryè¯»å‡ºå€¼å‘åä¼ é€’(1:yes)</td></tr><tr><td>MEM_A2_NEW</td><td>out</td><td></td><td>MEMåŒº$T_{NEW}$</td></tr><tr><td>MEM_PART</td><td>out</td><td>[1:0]</td><td>é€‰æ‹©å­˜å…¥/è¯»å–Word,Halfæˆ–è€…Byte</td></tr><tr><td>MEM_EXT_Control</td><td>out</td><td>[2:0]</td><td>MEM_EXTéƒ¨ä»¶æ§åˆ¶ä¿¡å·</td></tr><tr><td>CP0_Sel</td><td>out</td><td></td><td>è¯»å‡ºæ•°æ®æ¥æºé€‰æ‹©CP0(ç”±mfc0å‘å‡º)</td></tr><tr><td>mfc0_rd</td><td>out</td><td>[4:0]</td><td>mfc0/mtc0æŒ‡å®š,è¾“å‡ºæŒ‡ä»¤å¯¹åº”çš„rd</td></tr><tr><td>EXL_clr</td><td>out</td><td></td><td>EXLæ¸…ç©ºä¿¡å·,ç”±eretæŒ‡ä»¤å‘å‡º</td></tr></tbody></table></div><h4 id="MEMä¿¡å·åŠ-T-NEW-è¡¨"><a href="#MEMä¿¡å·åŠ-T-NEW-è¡¨" class="headerlink" title="MEMä¿¡å·åŠ$T_{NEW}$è¡¨"></a>MEMä¿¡å·åŠ$T_{NEW}$è¡¨</h4><div class="table-container"><table><thead><tr><th>æŒ‡ä»¤/ä¿¡å·</th><th>MEM_WE</th><th>MEM_Sel</th><th>MEM_A2_NEW</th><th>MEM_PART</th><th>MEM_EXT_Control</th></tr></thead><tbody><tr><td>sw</td><td>1</td><td>0</td><td>0</td><td><code>memWord</code></td><td>3â€™bz</td></tr><tr><td>sh</td><td>1</td><td>0</td><td>0</td><td><code>memHalf</code></td><td>3â€™bz</td></tr><tr><td>sb</td><td>1</td><td>0</td><td>0</td><td><code>memByte</code></td><td>3â€™bz</td></tr><tr><td>lw</td><td>0</td><td>1</td><td>1</td><td>`memWord</td><td>`nonExt</td><td></td></tr><tr><td>lh</td><td>0</td><td>1</td><td>1</td><td>`memHalf</td><td>`signedHalfExt</td><td></td></tr><tr><td>lb</td><td>0</td><td>1</td><td>1</td><td>`memByte</td><td>`signedByteExt</td><td></td></tr><tr><td>else</td><td>0</td><td>0</td><td>0</td><td><code>none</code></td><td>3â€™bz</td></tr></tbody></table></div><h3 id="MEM-WB"><a href="#MEM-WB" class="headerlink" title="MEM_WB"></a>MEM_WB</h3><div class="table-container"><table><thead><tr><th>ç«¯å£</th><th>In/Out?</th><th>ä½å®½</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>clk</td><td>in</td><td></td><td></td></tr><tr><td>reset</td><td>in</td><td></td><td></td></tr><tr><td>req</td><td>in</td><td></td><td></td></tr><tr><td>MEM_PC</td><td>in</td><td>[31;0]</td><td></td></tr><tr><td>MEM_instr</td><td>in</td><td>[31:0]</td><td></td></tr><tr><td>MEM_A3</td><td>in</td><td>[4:0]</td><td></td></tr><tr><td>MEM_WD</td><td>in</td><td>[31:0]</td><td></td></tr><tr><td>WB_PC</td><td>out</td><td>[31:0]</td><td></td></tr><tr><td>WB_instr</td><td>out</td><td>[31:0]</td><td></td></tr><tr><td>WB_A3</td><td>out</td><td>[4:0]</td><td></td></tr><tr><td>WB_WD</td><td>out</td><td>[31:0]</td></tr></tbody></table></div><h3 id="HAZARD-CTRL"><a href="#HAZARD-CTRL" class="headerlink" title="HAZARD_CTRL"></a>HAZARD_CTRL</h3><div class="table-container"><table><thead><tr><th>ç«¯å£</th><th>In/Out?</th><th>ä½å®½</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>clk</td><td>in</td><td></td><td></td></tr><tr><td>reset</td><td>in</td><td></td><td></td></tr><tr><td><strong>IDé˜¶æ®µ</strong></td><td></td><td></td><td></td></tr><tr><td>ID_A1</td><td>in</td><td>[4:0]</td><td>IDé˜¶æ®µæ­£åœ¨ä½¿ç”¨çš„A1å¯„å­˜å™¨</td></tr><tr><td>ID_A2</td><td>in</td><td>[4:0]</td><td>IDé˜¶æ®µæ­£åœ¨ä½¿ç”¨çš„A2å¯„å­˜å™¨</td></tr><tr><td>ID_RD1</td><td>in</td><td>[31:0]</td><td>IDé˜¶æ®µå¯„å­˜å™¨å †è¯»å‡ºçš„A1å¯¹åº”å€¼</td></tr><tr><td>ID_RD2</td><td>in</td><td>[31:0]</td><td>IDé˜¶æ®µå¯„å­˜å™¨å †è¯»å‡ºçš„A2å¯¹åº”å€¼</td></tr><tr><td>ID_A1_USE</td><td>in</td><td>[1:0]</td><td>$T_{USE}$</td></tr><tr><td>ID_A2_USE</td><td>in</td><td>[1:0]</td><td>$T_{USE}$</td></tr><tr><td>ID_MD</td><td>in</td><td></td><td>IDåŒºå¤„ç†æŒ‡ä»¤æ˜¯å¦ä¸ä¹˜é™¤ç›¸å…³</td></tr><tr><td><strong>EXé˜¶æ®µ</strong></td><td></td><td></td><td></td></tr><tr><td>EX_A1</td><td>in</td><td>[4:0]</td><td></td></tr><tr><td>EX_A2</td><td>in</td><td>[4:0]</td><td></td></tr><tr><td>EX_RD1</td><td>in</td><td>[31:0]</td><td>IEé˜¶æ®µA2å¯¹åº”å€¼,ç”±IDåŒºçš„è½¬å‘å€¼å¾—æ¥</td></tr><tr><td>EX_RD2</td><td>in</td><td>[31:0]</td><td>IEé˜¶æ®µA2å¯¹åº”å€¼,ç”±IDåŒºçš„è½¬å‘å€¼å¾—æ¥</td></tr><tr><td>EX_A1_USE</td><td>in</td><td>[1:0]</td><td>$T_{USE}$</td></tr><tr><td>EX_A2_USE</td><td>in</td><td>[1:0]</td><td>$T_{USE}$</td></tr><tr><td>EX_A3</td><td>in</td><td>[4:0]</td><td>EXä¼ é€’çš„A3å¯„å­˜å™¨(rd)</td></tr><tr><td>EX_WD</td><td>in</td><td>[31:0]</td><td>EXä¼ é€’çš„Write Data</td></tr><tr><td>MULT_DIV_BUSY</td><td>in</td><td></td><td>ä¹˜é™¤æ¨¡å—å¿™ç¢Œä¿¡å·</td></tr><tr><td>MULT_DIV_START</td><td>in</td><td></td><td>ä¹˜é™¤æ¨¡å—å¼€å§‹ä¿¡å·</td></tr><tr><td><strong>MEMé˜¶æ®µ</strong></td><td></td><td></td><td></td></tr><tr><td>MEM_A2</td><td>in</td><td>[4:0]</td><td>MEMæ­£åœ¨ä½¿ç”¨çš„A2</td></tr><tr><td>MEM_RD2</td><td>in</td><td>[31:0]</td><td>MEMçš„Read Data2,ç”±EXä¼ é€’è€Œæ¥</td></tr><tr><td>MEM_A2_NEW</td><td>in</td><td>[1:0]</td><td>MEMçš„$T_{NEW}$</td></tr><tr><td>MEM_A3</td><td>in</td><td>[4:0]</td><td>MEMä¼ é€’A3</td></tr><tr><td>MEM_WD</td><td>in</td><td>[31:0]</td><td>MEMä¼ é€’çš„Write Data</td></tr><tr><td><strong>WB</strong></td><td></td><td></td><td></td></tr><tr><td>WB_A3</td><td>in</td><td>[4:0]</td><td></td></tr><tr><td>WB_WD</td><td>in</td><td>[31:0]</td><td></td></tr><tr><td><strong>è½¬å‘FORWARD</strong></td><td></td><td></td><td></td></tr><tr><td>ID_RD1_forward</td><td>out</td><td>[31:0]</td><td></td></tr><tr><td>ID_RD2_forward</td><td>out</td><td>[31:0]</td><td></td></tr><tr><td>EX_RD1_forward</td><td>out</td><td>[31:0]</td><td></td></tr><tr><td>EX_RD2_forward</td><td>out</td><td>[31:0]</td><td></td></tr><tr><td>MEM_RD2_forward</td><td>out</td><td>[31:0]</td><td></td></tr><tr><td><strong>æš‚åœä¿¡å·STALL</strong></td><td></td><td></td><td></td></tr><tr><td>Enable_PC</td><td>out</td><td></td><td>PCä½¿èƒ½ä¿¡å·</td></tr><tr><td>Enable_IF_ID</td><td>out</td><td></td><td>IF_IDæµæ°´å¯„å­˜å™¨ä½¿èƒ½ä¿¡å·</td></tr><tr><td>Enable_ID_EX</td><td>out</td><td></td><td>ID_EXæµæ°´å¯„å­˜å™¨ä½¿èƒ½ä¿¡å·</td></tr><tr><td>Flush_ID_EX</td><td>out</td><td></td><td>ID_EXæµæ°´å¯„å­˜å™¨åˆ·æ–°ä¿¡å·</td></tr><tr><td>Flush_EX_MEM</td><td>out</td><td></td><td>EX_MEMæµæ°´å¯„å­˜å™¨åˆ·æ–°ä¿¡å·</td></tr></tbody></table></div><h3 id="CPU"><a href="#CPU" class="headerlink" title="CPU"></a>CPU</h3><h4 id="ç«¯å£"><a href="#ç«¯å£" class="headerlink" title="ç«¯å£"></a>ç«¯å£</h4><div class="table-container"><table><thead><tr><th>ç«¯å£</th><th>In/Out?</th><th>ä½å®½</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>clk</td><td>in</td><td></td><td>æ—¶é’Ÿä¿¡å·</td></tr><tr><td>reset</td><td>in</td><td></td><td>åŒæ­¥å¤ä½ä¿¡å·</td></tr><tr><td>HW_Int</td><td>in</td><td>[5:0]</td><td>ç”¨äºä¼ é€’æ¥è‡ªè®¡æ—¶å™¨å’Œå¤–éƒ¨çš„ä¸­æ–­ä¿¡å·</td></tr><tr><td><strong>FåŒº</strong></td><td></td><td></td><td></td></tr><tr><td>i_inst_addr</td><td>out</td><td>[31:0]</td><td>éœ€è¦è¿›è¡Œå–æŒ‡æ“ä½œçš„æµæ°´çº§ PCï¼ˆä¸€èˆ¬ä¸º F çº§)</td></tr><tr><td>i_inst_rdata</td><td>in</td><td>[31:0]</td><td>i_inst_addr å¯¹åº”çš„ 32 ä½æŒ‡ä»¤</td></tr><tr><td><strong>BRIDGE</strong></td><td></td><td></td><td></td></tr><tr><td>m_data_addr</td><td>out</td><td>[31:0]</td><td>BRIDGEå¾…å†™å…¥åœ°å€</td></tr><tr><td>m_data_rdata</td><td>in</td><td>[31:0]</td><td>CPU_addr å¯¹åº”çš„ 32 ä½æ•°æ®</td></tr><tr><td>m_data_wdata</td><td>out</td><td>[31:0]</td><td>BRIDGEå¾…å†™å…¥æ•°æ®</td></tr><tr><td>m_data_byteen</td><td>out</td><td>[3:0]</td><td>BRIDGEå­—èŠ‚ä½¿èƒ½ä¿¡å·</td></tr><tr><td><strong>MEMåŒº</strong></td><td></td><td></td><td></td></tr><tr><td>m_inst_addr</td><td>out</td><td>[31:0]</td><td>M çº§ PC</td></tr><tr><td><strong>WBåŒº</strong></td><td></td><td></td><td></td></tr><tr><td>w_grf_we</td><td>out</td><td></td><td>GRF å†™ä½¿èƒ½ä¿¡å·</td></tr><tr><td>w_grf_addr</td><td>out</td><td>[31:0]</td><td>GRF ä¸­å¾…å†™å…¥å¯„å­˜å™¨ç¼–å·</td></tr><tr><td>w_grf_wdata</td><td>out</td><td>[31:0]</td><td>GRF ä¸­å¾…å†™å…¥æ•°æ®</td></tr><tr><td>w_inst_addr</td><td>out</td><td>[31:0]</td><td>W çº§ PC</td></tr><tr><td>macroscopic_pc</td><td>out</td><td>[31:0]</td><td>å®è§‚PC</td></tr></tbody></table></div><h3 id="BRIDGE"><a href="#BRIDGE" class="headerlink" title="BRIDGE"></a>BRIDGE</h3><h4 id="ç«¯å£-1"><a href="#ç«¯å£-1" class="headerlink" title="ç«¯å£"></a>ç«¯å£</h4><div class="table-container"><table><thead><tr><th>ç«¯å£</th><th>In/Out?</th><th>ä½å®½</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td><strong>CPUå†…éƒ¨ä¼ å‡ºæ•°æ®</strong></td><td></td><td></td><td></td></tr><tr><td>PR_addr</td><td>in</td><td>[31:0]</td><td>å¯„å­˜å™¨å†…éƒ¨EX_MEMæµæ°´å¯„å­˜å™¨è¾“å‡ºçš„storeåœ°å€</td></tr><tr><td>PR_WD</td><td>in</td><td>[31:0]</td><td>å¯„å­˜å™¨å†…éƒ¨EX_MEMæµæ°´å¯„å­˜å™¨è¾“å‡ºçš„storeæ•°æ®</td></tr><tr><td>PR_byteen</td><td>in</td><td>[31:0]</td><td>å¯„å­˜å™¨å­—èŠ‚ä½¿èƒ½ä¿¡å·</td></tr><tr><td><strong>æ ¹æ®DEV_addr<br>ä»å„éƒ¨ä»¶è·å–æ•°æ®</strong></td><td></td><td></td><td></td></tr><tr><td>DEV_addr</td><td>out</td><td>[31:0]</td><td>å°†PR_addr[X:2]ç›´æ¥è¾“å‡ºå³å¯,Xç”±Nä¸ªè®¾å¤‡ä¸­åœ°å€ç©ºé—´éœ€æ±‚æœ€å¤§è€…å†³å®š</td></tr><tr><td>DM_RD</td><td>in</td><td>[31:0]</td><td>MEMåŒºDMçš„è¯»å‡ºæ•°æ®</td></tr><tr><td>TC0_RD</td><td>in</td><td>[31:0]</td><td>è®¡æ•°å™¨0çš„è¯»å‡ºæ•°æ®</td></tr><tr><td>TC1_RD</td><td>in</td><td>[31:0]</td><td>è®¡æ•°å™¨1çš„è¯»å‡ºæ•°æ®</td></tr><tr><td><strong>å¯¹DEV_addrå†™å…¥<br>(å­—èŠ‚)æ•°æ®ä½¿èƒ½ä¿¡å·</strong></td><td></td><td></td><td></td></tr><tr><td>DM_byteen</td><td>out</td><td>[3:0]</td><td>å­—èŠ‚ä½¿èƒ½ä¿¡å·</td></tr><tr><td>TC0_enable</td><td>out</td><td></td><td>TC0å†™å…¥ä½¿èƒ½ä¿¡å·</td></tr><tr><td>TC1_enable</td><td>out</td><td></td><td>TC1å†™å…¥ä½¿èƒ½ä¿¡å·</td></tr><tr><td>INT_byteen</td><td>out</td><td>[31:0]</td><td>ä¸­æ–­å‘ç”Ÿå™¨å­—èŠ‚ä½¿èƒ½ä¿¡å·</td></tr><tr><td><strong>loadç›¸å…³,å°†å†™å…¥<br>å¯„å­˜å™¨çš„å€¼ä¼ å›CPU</strong></td><td></td><td></td><td></td></tr><tr><td>PR_RD</td><td>out</td><td>[31:0]</td><td>è¾“å‡ºåˆ°WBé˜¶æ®µ,å†™å…¥GRFçš„æ•°æ®</td></tr></tbody></table></div><h4 id="åœ°å€å›¾"><a href="#åœ°å€å›¾" class="headerlink" title="åœ°å€å›¾"></a>åœ°å€å›¾</h4><div class="table-container"><table><thead><tr><th>æ¡ç›®</th><th>åœ°å€æˆ–åœ°å€èŒƒå›´</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>æ•°æ®å­˜å‚¨å™¨</td><td>0x0000_0000âˆ¼0x0000_2FFF</td><td></td></tr><tr><td>æŒ‡ä»¤å­˜å‚¨å™¨</td><td>0x0000_3000âˆ¼0x0000_6FFF</td><td></td></tr><tr><td>PC åˆå§‹å€¼</td><td>0x0000_30000x0000_3000</td><td></td></tr><tr><td>å¼‚å¸¸å¤„ç†ç¨‹åºå…¥å£åœ°å€</td><td>0x0000_41800x0000_4180</td><td></td></tr><tr><td>è®¡æ—¶å™¨ 0 å¯„å­˜å™¨åœ°å€</td><td>0x0000_7F00âˆ¼0x0000_7F0B</td><td>è®¡æ—¶å™¨ 0 çš„ 3 ä¸ªå¯„å­˜å™¨</td></tr><tr><td>è®¡æ—¶å™¨ 1 å¯„å­˜å™¨åœ°å€</td><td>0x0000_7F10âˆ¼0x0000_7F1B</td><td>è®¡æ—¶å™¨ 1 çš„ 3 ä¸ªå¯„å­˜å™¨</td></tr><tr><td>ä¸­æ–­å‘ç”Ÿå™¨å“åº”åœ°å€</td><td>0x0000_7F20âˆ¼0x0000_7F23</td></tr></tbody></table></div><h4 id="åœ°å€åŒ¹é…æ–¹å¼"><a href="#åœ°å€åŒ¹é…æ–¹å¼" class="headerlink" title="åœ°å€åŒ¹é…æ–¹å¼"></a>åœ°å€åŒ¹é…æ–¹å¼</h4><ul><li>è®¾å¤‡åŸºåœ°å€:åˆ†ä¸º<strong>é«˜ä½</strong>å’Œ<strong>ä½ä½</strong><ul><li>åŸºåœ°å€ä½ä½:ä½æ•°ç”±è®¾å¤‡å ç”¨ç©ºé—´å¤§å°å†³å®š,ä¹Ÿå°±æ˜¯åç§»åœ°å€çš„ä½æ•°</li><li>åŸºåœ°å€é«˜ä½:<code>Bridge</code>ç”¨äºè¯‘ç é€‰æ‹©è®¾å¤‡</li></ul></li></ul><h3 id="CP0"><a href="#CP0" class="headerlink" title="CP0"></a>CP0</h3><h4 id="å¯„å­˜å™¨"><a href="#å¯„å­˜å™¨" class="headerlink" title="å¯„å­˜å™¨"></a>å¯„å­˜å™¨</h4><div class="table-container"><table><thead><tr><th>å¯„å­˜å™¨</th><th>ç¼–å·</th><th>åŠŸèƒ½</th><th></th></tr></thead><tbody><tr><td>SR</td><td>12</td><td>é…ç½®å¼‚å¸¸çš„åŠŸèƒ½ã€‚</td><td></td></tr><tr><td>Cause</td><td>13</td><td>è®°å½•å¼‚å¸¸å‘ç”Ÿçš„åŸå› å’Œæƒ…å†µã€‚</td><td></td></tr><tr><td>EPC</td><td>14</td><td>è®°å½•å¼‚å¸¸å¤„ç†ç»“æŸåéœ€è¦è¿”å›çš„ PCã€‚</td></tr></tbody></table></div><div class="table-container"><table><thead><tr><th>å¯„å­˜å™¨</th><th>åŠŸèƒ½åŸŸ</th><th>ä½åŸŸ</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td>SRï¼ˆState Registerï¼‰</td><td>IMï¼ˆInterrupt Maskï¼‰</td><td>15:10</td><td>åˆ†åˆ«å¯¹åº”å…­ä¸ªå¤–éƒ¨ä¸­æ–­ï¼Œç›¸åº”ä½ç½® 1 è¡¨ç¤ºå…è®¸ä¸­æ–­ï¼Œç½® 0 è¡¨ç¤ºç¦æ­¢ä¸­æ–­ã€‚è¿™æ˜¯ä¸€ä¸ªè¢«åŠ¨çš„åŠŸèƒ½ï¼Œåªèƒ½é€šè¿‡ <code>mtc0</code> è¿™ä¸ªæŒ‡ä»¤ä¿®æ”¹ï¼Œé€šè¿‡ä¿®æ”¹è¿™ä¸ªåŠŸèƒ½åŸŸï¼Œæˆ‘ä»¬å¯ä»¥å±è”½ä¸€äº›ä¸­æ–­ã€‚</td></tr><tr><td>SRï¼ˆState Registerï¼‰</td><td>EXLï¼ˆException Levelï¼‰</td><td>1</td><td>ä»»ä½•å¼‚å¸¸å‘ç”Ÿæ—¶ç½®ä½ï¼Œè¿™ä¼šå¼ºåˆ¶è¿›å…¥æ ¸å¿ƒæ€ï¼ˆä¹Ÿå°±æ˜¯è¿›å…¥å¼‚å¸¸å¤„ç†ç¨‹åºï¼‰å¹¶ç¦æ­¢ä¸­æ–­ã€‚</td></tr><tr><td>SRï¼ˆState Registerï¼‰</td><td>IEï¼ˆInterrupt Enableï¼‰</td><td>0</td><td>å…¨å±€ä¸­æ–­ä½¿èƒ½ï¼Œè¯¥ä½ç½® 1 è¡¨ç¤ºå…è®¸ä¸­æ–­ï¼Œç½® 0 è¡¨ç¤ºç¦æ­¢ä¸­æ–­ã€‚</td></tr><tr><td>Cause</td><td>BDï¼ˆBranch Delayï¼‰</td><td>31</td><td>å½“è¯¥ä½ç½® 1 çš„æ—¶å€™ï¼ŒEPC æŒ‡å‘å½“å‰æŒ‡ä»¤çš„å‰ä¸€æ¡æŒ‡ä»¤ï¼ˆä¸€å®šä¸ºè·³è½¬ï¼‰ï¼Œå¦åˆ™æŒ‡å‘å½“å‰æŒ‡ä»¤ã€‚</td></tr><tr><td>Cause</td><td>IPï¼ˆInterrupt Pendingï¼‰</td><td>15:10</td><td>ä¸º 6 ä½å¾…å†³çš„ä¸­æ–­ä½ï¼Œåˆ†åˆ«å¯¹åº” 6 ä¸ªå¤–éƒ¨ä¸­æ–­ï¼Œç›¸åº”ä½ç½® 1 è¡¨ç¤ºæœ‰ä¸­æ–­ï¼Œç½® 0 è¡¨ç¤ºæ— ä¸­æ–­ï¼Œå°†ä¼šæ¯ä¸ªå‘¨æœŸè¢«ä¿®æ”¹ä¸€æ¬¡ï¼Œä¿®æ”¹çš„å†…å®¹æ¥è‡ªè®¡æ—¶å™¨å’Œå¤–éƒ¨ä¸­æ–­ã€‚</td></tr><tr><td>Cause</td><td>ExcCode</td><td>6:2</td><td>å¼‚å¸¸ç¼–ç ï¼Œè®°å½•å½“å‰å‘ç”Ÿçš„æ˜¯ä»€ä¹ˆå¼‚å¸¸ã€‚</td></tr><tr><td>EPC</td><td>-</td><td>-</td><td>è®°å½•å¼‚å¸¸å¤„ç†ç»“æŸåéœ€è¦è¿”å›çš„ PCã€‚</td></tr></tbody></table></div><h4 id="æ¨¡å—æ¥å£"><a href="#æ¨¡å—æ¥å£" class="headerlink" title="æ¨¡å—æ¥å£"></a>æ¨¡å—æ¥å£</h4><div class="table-container"><table><thead><tr><th>ç«¯å£</th><th>æ–¹å‘</th><th>ä½æ•°</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td>clk</td><td>IN</td><td>1</td><td>æ—¶é’Ÿä¿¡å·ã€‚</td></tr><tr><td>reset</td><td>IN</td><td>1</td><td>å¤ä½ä¿¡å·ã€‚</td></tr><tr><td>enable</td><td>IN</td><td>1</td><td>å†™ä½¿èƒ½ä¿¡å·ã€‚</td></tr><tr><td>CP0_addr</td><td>IN</td><td>5</td><td>å¯„å­˜å™¨åœ°å€ã€‚æ‰§è¡ŒMTC0/MFCOæŒ‡ä»¤æ—¶äº§ç”Ÿ</td></tr><tr><td>CP0_in</td><td>IN</td><td>32</td><td>CP0 å†™å…¥æ•°æ®ã€‚æ‰§è¡ŒMTC0æŒ‡ä»¤æ—¶äº§ç”Ÿ</td></tr><tr><td>CP0_out</td><td>OUT</td><td>32</td><td>CP0 è¯»å‡ºæ•°æ®ã€‚æ‰§è¡ŒMFC0æŒ‡ä»¤æ—¶äº§ç”Ÿï¼Œè¾“å‡ºæ•°æ®è‡³ GPR</td></tr><tr><td>VPC</td><td>IN</td><td>32</td><td>å—å®³ PCã€‚</td></tr><tr><td>BD_in</td><td>IN</td><td>1</td><td>æ˜¯å¦æ˜¯å»¶è¿Ÿæ§½æŒ‡ä»¤ã€‚</td></tr><tr><td>ExcCode_in</td><td>IN</td><td>5</td><td>è®°å½•å¼‚å¸¸ç±»å‹ã€‚</td></tr><tr><td>HW_int</td><td>IN</td><td>6</td><td>è¾“å…¥ä¸­æ–­ä¿¡å·ã€‚</td></tr><tr><td>EXL_clr</td><td>IN</td><td>1</td><td>ç”¨æ¥å¤ä½ EXLã€‚</td></tr><tr><td>EPC_out</td><td>OUT</td><td>32</td><td>EPC çš„å€¼ã€‚</td></tr><tr><td>Req</td><td>OUT</td><td>1</td><td>è¿›å…¥å¤„ç†ç¨‹åºè¯·æ±‚ã€‚</td></tr><tr><td>macroscopic_pc</td><td>OUT</td><td>[31:0]</td><td>å®è§‚PC</td></tr></tbody></table></div><h4 id="å¼‚å¸¸ç¼–ç "><a href="#å¼‚å¸¸ç¼–ç " class="headerlink" title="å¼‚å¸¸ç¼–ç "></a>å¼‚å¸¸ç¼–ç </h4><div class="table-container"><table><thead><tr><th>å¼‚å¸¸ä¸ä¸­æ–­ç </th><th>åŠ©è®°ç¬¦ä¸åç§°</th><th>æŒ‡ä»¤ä¸æŒ‡ä»¤ç±»å‹</th><th>æè¿°</th><th>æ£€æµ‹æ¨¡å—</th></tr></thead><tbody><tr><td>0</td><td><code>Int</code> ï¼ˆå¤–éƒ¨ä¸­æ–­ï¼‰</td><td>æ‰€æœ‰æŒ‡ä»¤</td><td>ä¸­æ–­è¯·æ±‚ï¼Œæ¥æºäºè®¡æ—¶å™¨ä¸å¤–éƒ¨ä¸­æ–­ã€‚</td><td>\</td></tr><tr><td>4</td><td><code>AdEL</code> ï¼ˆå–æŒ‡å¼‚å¸¸ï¼‰</td><td>æ‰€æœ‰æŒ‡ä»¤</td><td>PC åœ°å€æœªå­—å¯¹é½ã€‚</td><td>IF</td></tr><tr><td></td><td></td><td></td><td>PC åœ°å€è¶…è¿‡ <code>0x3000 ~ 0x6ffc</code>ã€‚</td><td>IF</td></tr><tr><td></td><td><code>AdEL</code> ï¼ˆå–æ•°å¼‚å¸¸ï¼‰</td><td><code>lw</code></td><td>å–æ•°åœ°å€æœªä¸ 4 å­—èŠ‚å¯¹é½ã€‚</td><td>MEM</td></tr><tr><td></td><td></td><td><code>lh</code></td><td>å–æ•°åœ°å€æœªä¸ 2 å­—èŠ‚å¯¹é½ã€‚</td><td>MEM</td></tr><tr><td></td><td></td><td><code>lh</code>, <code>lb</code></td><td>å– Timer å¯„å­˜å™¨çš„å€¼ã€‚</td><td>MEM</td></tr><tr><td></td><td></td><td>load å‹æŒ‡ä»¤</td><td>è®¡ç®—åœ°å€æ—¶åŠ æ³•æº¢å‡ºã€‚</td><td>EX</td></tr><tr><td></td><td></td><td>load å‹æŒ‡ä»¤</td><td>å–æ•°åœ°å€è¶…å‡º DMã€Timer0ã€Timer1ã€ä¸­æ–­å‘ç”Ÿå™¨çš„èŒƒå›´ã€‚</td><td>MEM</td></tr><tr><td>5</td><td><code>AdES</code> ï¼ˆå­˜æ•°å¼‚å¸¸ï¼‰</td><td><code>sw</code></td><td>å­˜æ•°åœ°å€æœª 4 å­—èŠ‚å¯¹é½ã€‚</td><td>MEM</td></tr><tr><td></td><td></td><td><code>sh</code></td><td>å­˜æ•°åœ°å€æœª 2 å­—èŠ‚å¯¹é½ã€‚</td><td>MEM</td></tr><tr><td></td><td></td><td><code>sh</code>, <code>sb</code></td><td>å­˜ Timer å¯„å­˜å™¨çš„å€¼ã€‚</td><td>MEM</td></tr><tr><td></td><td></td><td>store å‹æŒ‡ä»¤</td><td>è®¡ç®—åœ°å€åŠ æ³•æº¢å‡ºã€‚</td><td>EX</td></tr><tr><td></td><td></td><td>store å‹æŒ‡ä»¤</td><td>å‘è®¡æ—¶å™¨çš„ Count å¯„å­˜å™¨å­˜å€¼ã€‚</td><td>MEM</td></tr><tr><td></td><td></td><td>store å‹æŒ‡ä»¤</td><td>å­˜æ•°åœ°å€è¶…å‡º DMã€Timer0ã€Timer1ã€ä¸­æ–­å‘ç”Ÿå™¨çš„èŒƒå›´ã€‚</td><td>MEM</td></tr><tr><td>8</td><td><code>Syscall</code> ï¼ˆç³»ç»Ÿè°ƒç”¨ï¼‰</td><td><code>syscall</code></td><td>ç³»ç»Ÿè°ƒç”¨ã€‚</td><td>ID</td></tr><tr><td>10</td><td><code>RI</code>ï¼ˆæœªçŸ¥æŒ‡ä»¤ï¼‰</td><td>-</td><td>æœªçŸ¥çš„æŒ‡ä»¤ç ã€‚</td><td>ID</td></tr><tr><td>12</td><td><code>Ov</code>ï¼ˆæº¢å‡ºå¼‚å¸¸ï¼‰</td><td><code>add</code>, <code>addi</code>, <code>sub</code></td><td>ç®—æœ¯æº¢å‡ºã€‚</td><td>EX</td></tr></tbody></table></div><h3 id="é˜»å¡çŸ©é˜µ"><a href="#é˜»å¡çŸ©é˜µ" class="headerlink" title="é˜»å¡çŸ©é˜µ"></a>é˜»å¡çŸ©é˜µ</h3><div class="table-container"><table><thead><tr><th>IF/IDå½“å‰æŒ‡ä»¤</th><th></th><th></th><th>ID/EX</th><th></th><th></th><th>EX/MEM</th><th></th><th></th><th>MEM/WB</th><th></th><th></th></tr></thead><tbody><tr><td>æŒ‡ä»¤ç±»å‹</td><td>æºå¯„å­˜å™¨</td><td>$T_{use}$</td><td>cal_r<br>1/rd)<br></td><td>cal_i<br>(1/rt)<br></td><td>load<br>(2/rt)<br></td><td>cal_r<br>(0/rd)</td><td>cal_i<br>(0/rt)</td><td>load<br>(1/rt)</td><td>cal_r<br>(0/rd)</td><td>cal_i<br>(0/rt)</td><td>load<br>(0/rt)</td></tr><tr><td>beq</td><td>rs/rt</td><td>0</td><td>X</td><td>X</td><td>X</td><td></td><td></td><td>X</td><td></td><td></td><td></td></tr><tr><td>cal_r</td><td>rs_rt</td><td>1</td><td></td><td></td><td>X</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>cal_i</td><td>rs</td><td>1</td><td></td><td></td><td>X</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>load</td><td>rs(base)</td><td>1</td><td></td><td></td><td>X</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>store</td><td>rs(base)</td><td>1</td><td></td><td></td><td>X</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>store</td><td>rt</td><td>2</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table></div><h2 id="æš‚åœå®ç°"><a href="#æš‚åœå®ç°" class="headerlink" title="æš‚åœå®ç°"></a>æš‚åœå®ç°</h2><blockquote><p>ä½¿ç”¨è¯¾ç¨‹è®²è§£çš„ATæ³•,åœ¨æµæ°´çº¿è¿è¡ŒæœŸé—´,IDåŒºæä¾›$T_{USE}$,EX,MEMåŒºæä¾›$T_{NEW}$,åœ¨å†’é™©æ§åˆ¶æ¨¡å—ä¸­é‡‡ç”¨ä»¥ä¸‹åˆ¤æ–­é€»è¾‘:</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">assign</span> STALL =  (ID_A1 == EX_A3 &amp;&amp; ID_A1_USE &lt; EX_NEW &amp;&amp; EX_A3 != <span class="hljs-number">0</span>)  <br>           || (ID_A2 == EX_A3 &amp;&amp; ID_A2_USE &lt; EX_NEW &amp;&amp; EX_A3 != <span class="hljs-number">0</span>)<br>           || (ID_A1 == MEM_A3 &amp;&amp; ID_A1_USE &lt; MEM_A2_NEW &amp;&amp; MEM_A3 != <span class="hljs-number">0</span>)<br>           || (ID_A2 == MEM_A3 &amp;&amp; ID_A2_USE &lt; MEM_A2_NEW &amp;&amp; MEM_A3 != <span class="hljs-number">0</span>);<br></code></pre></td></tr></table></figure><p>STALLä¿¡å·ä¼šæ§åˆ¶ä¸‰ä¸ªè¡Œä¸º:</p><ol><li>æš‚åœIFåŒºçš„PCæ¨¡å—</li><li>æš‚åœIF_IDé—´æµæ°´å¯„å­˜å™¨</li><li>åˆ·æ–°ID_EXé—´æµæ°´å¯„å­˜å™¨(ç­‰åŒäºreset)</li></ol><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">assign</span> Enable_PC = !STALL;<br><span class="hljs-keyword">assign</span> Enable_IF_ID = !STALL;<br><span class="hljs-keyword">assign</span> Flush_ID_EX = STALL;<br></code></pre></td></tr></table></figure></blockquote><h2 id="è½¬å‘å®ç°"><a href="#è½¬å‘å®ç°" class="headerlink" title="è½¬å‘å®ç°"></a>è½¬å‘å®ç°</h2><blockquote><p>è½¬å‘æœ‰äº”æ¡å¯èƒ½çš„æ•°æ®é€šè·¯:</p><ol><li>$EX_MEM\rightarrow ID$</li><li>$MEM_WB\rightarrow ID$</li><li>$EX_MEM\rightarrow EX$</li><li>$MEM_WB\rightarrow EX$</li><li>$MEM_WB\rightarrow MEM$</li></ol><p>è¿™é‡Œä»¥IDåŒºçš„RD1è½¬å‘æ•°æ®é€»è¾‘ä¸ºä¾‹:</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">assign</span> ID_RD1_forward = (ID_A1 == <span class="hljs-number">5&#x27;b0</span>) ? <span class="hljs-number">0</span> :<br>                        (ID_A1 == MEM_A3) ? MEM_WD :<br>                        (ID_A1 == WB_A3) ? WB_WD :<br>                        ID_RD1;<br></code></pre></td></tr></table></figure></blockquote><h2 id="å¯„å­˜å™¨å†…éƒ¨è½¬å‘å®ç°"><a href="#å¯„å­˜å™¨å†…éƒ¨è½¬å‘å®ç°" class="headerlink" title="å¯„å­˜å™¨å†…éƒ¨è½¬å‘å®ç°"></a>å¯„å­˜å™¨å†…éƒ¨è½¬å‘å®ç°</h2><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs Verilog"><span class="hljs-comment">// è€ƒè™‘å¯„å­˜å™¨å†…éƒ¨è½¬å‘</span><br><span class="hljs-keyword">assign</span> RD1 = (A1 == A3 &amp;&amp; A1 != <span class="hljs-number">0</span> &amp;&amp; !reset) ? WD : grf[A1]; <br><span class="hljs-keyword">assign</span> RD2 = (A2 == A3 &amp;&amp; A2 != <span class="hljs-number">0</span> &amp;&amp; !reset) ? WD : grf[A2];<br></code></pre></td></tr></table></figure><h2 id="æµ‹è¯•æ–¹æ¡ˆ"><a href="#æµ‹è¯•æ–¹æ¡ˆ" class="headerlink" title="æµ‹è¯•æ–¹æ¡ˆ"></a>æµ‹è¯•æ–¹æ¡ˆ</h2><ol><li><code>Python</code>è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•mipsæ–‡ä»¶</li><li><code>Mars</code>è¿è¡Œmipsæ–‡ä»¶,ç”Ÿæˆæ­£ç¡®ç»“æœå’Œæœºå™¨ç </li><li><code>iverilog</code>è¿è¡ŒCPUæ–‡ä»¶,ç”Ÿæˆæµ‹è¯•ç»“æœ</li><li><code>Python</code>æ¯”è¾ƒä¸¤ä»½ç­”æ¡ˆ</li></ol><h2 id="æ€è€ƒé¢˜"><a href="#æ€è€ƒé¢˜" class="headerlink" title="æ€è€ƒé¢˜"></a>æ€è€ƒé¢˜</h2><p>1ã€è¯·æŸ¥é˜…ç›¸å…³èµ„æ–™ï¼Œè¯´æ˜é¼ æ ‡å’Œé”®ç›˜çš„è¾“å…¥ä¿¡å·æ˜¯å¦‚ä½•è¢« CPU çŸ¥æ™“çš„ï¼Ÿ</p><blockquote><p>å½“é”®ç›˜æˆ–è€…é¼ æ ‡æŒ‰ä¸‹æŒ‰é”®æ—¶,è®¾å¤‡ä¼šå‘å‡ºä¸€ä¸ªä¸­æ–­ä¿¡å·,ä¸­æ–­ä¿¡å·ç»è¿‡ä¸­æ–­æ§åˆ¶å™¨ä¼ åˆ°CPU,CPUæ ¹æ®ä¸åŒçš„ä¸­æ–­å·æ‰§è¡Œä¸åŒçš„ä¸­æ–­å“åº”ç¨‹åº,ç„¶åè¿›è¡Œç›¸åº”çš„IOæ“ä½œ</p></blockquote><p>2ã€è¯·æ€è€ƒä¸ºä»€ä¹ˆæˆ‘ä»¬çš„ CPU å¤„ç†ä¸­æ–­å¼‚å¸¸å¿…é¡»æ˜¯å·²ç»æŒ‡å®šå¥½çš„åœ°å€ï¼Ÿå¦‚æœä½ çš„ CPU æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰å…¥å£åœ°å€ï¼Œå³å¤„ç†ä¸­æ–­å¼‚å¸¸çš„ç¨‹åºç”±ç”¨æˆ·æä¾›ï¼Œå…¶è¿˜èƒ½æä¾›æˆ‘ä»¬æ‰€å¸Œæœ›çš„åŠŸèƒ½å—ï¼Ÿå¦‚æœå¯ä»¥ï¼Œè¯·è¯´æ˜è¿™æ ·å¯èƒ½ä¼šå‡ºç°ä»€ä¹ˆé—®é¢˜ï¼Ÿå¦åˆ™ä¸¾ä¾‹è¯´æ˜ã€‚ï¼ˆå‡è®¾ç”¨æˆ·æä¾›çš„ä¸­æ–­å¤„ç†ç¨‹åºåˆæ³•ï¼‰</p><blockquote><p>ç»Ÿä¸€çš„CPUå¤„ç†ä¸­æ–­å¼‚å¸¸åœ°å€èƒ½å¤Ÿå®ç°è½¯ä»¶çš„å…¼å®¹.</p><p>ä¼šå½±å“CPUçš„å¤„ç†é€»è¾‘</p></blockquote><p>3ã€ä¸ºä½•ä¸å¤–è®¾é€šä¿¡éœ€è¦ Bridgeï¼Ÿ</p><blockquote><p>è®©CPUè®¿é—®ä¸åŒå¤–è®¾åªéœ€è¦é€šè¿‡å¯¹åº”çš„åœ°å€,è¿™ç§æ“ä½œéµå¾ªäº†â€é«˜å†…èš,ä½è€¦åˆâ€çš„åŸåˆ™</p></blockquote><p>4ã€è¯·é˜…è¯»å®˜æ–¹æä¾›çš„å®šæ—¶å™¨æºä»£ç ï¼Œé˜è¿°ä¸¤ç§ä¸­æ–­æ¨¡å¼çš„å¼‚åŒï¼Œå¹¶åˆ†åˆ«é’ˆå¯¹æ¯ä¸€ç§æ¨¡å¼ç»˜åˆ¶çŠ¶æ€ç§»å›¾ã€‚</p><blockquote><p>å½“è®¡æ•°å™¨å€’è®¡æ•°ä¸º0æ—¶,è®¡æ•°å™¨åœæ­¢è®¡æ•°,Ctrlå¯„å­˜å™¨çš„è®¡æ•°ä½¿èƒ½è‡ªåŠ¨å˜ä¸º0,å¹¶ä¸”ä¸­æ–­ä¿¡å·æ—¶é’Ÿä¿æŒæœ‰æ•ˆ,ç›´åˆ°å±è”½ä¸­æ–­æˆ–é‡æ–°å¼€å§‹è®¡æ•°</p></blockquote><p><img src="image-20241121014635046.png" alt="ä¸­æ–­æ¨¡å¼0" style="zoom:50%;"></p><blockquote><p>è®¡æ•°å™¨æ¨¡å¼1:</p><p>å½“è®¡æ•°å™¨å€’è®¡æ•°ä¸º0,è‡ªåŠ¨è¯»å–PRESENTå¯„å­˜å™¨çš„å€¼,ç„¶åé‡æ–°å¼€å§‹å€’è®¡æ•°,è¿™ç§æ¨¡å¼ä¸‹ä¸­æ–­ä¿¡å·åªä¼šäº§ç”Ÿä¸€ä¸ªä¸­æ–­å‘¨æœŸ</p></blockquote><p><img src="image-20241121014944531.png" alt="ä¸­æ–­æ¨¡å¼1" style="zoom:50%;"></p><p>5ã€å€˜è‹¥ä¸­æ–­ä¿¡å·æµå…¥çš„æ—¶å€™ï¼Œåœ¨æ£€æµ‹å®è§‚ PC çš„ä¸€çº§å¦‚æœæ˜¯ä¸€æ¡ç©ºæ³¡ï¼ˆä½ çš„ CPU è¯¥çº§æ‰€æœ‰ä¿¡æ¯å‡ä¸ºç©ºï¼‰æŒ‡ä»¤ï¼Œæ­¤æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆé—®é¢˜ï¼Ÿåœ¨æ­¤ä¾‹åŸºç¡€ä¸Šè¯·æ€è€ƒï¼šåœ¨ P7 ä¸­ï¼Œæ¸…ç©ºæµæ°´çº¿äº§ç”Ÿçš„ç©ºæ³¡æŒ‡ä»¤åº”è¯¥ä¿ç•™åŸæŒ‡ä»¤çš„å“ªäº›ä¿¡æ¯ï¼Ÿ</p><blockquote><p>å®è§‚PCçªç„¶å˜ä¸º0x0000_0000</p><p>ä¿ç•™åŸæŒ‡ä»¤çš„PCä¿¡æ¯</p></blockquote><p>6ã€ä¸ºä»€ä¹ˆ <code>jalr</code> æŒ‡ä»¤ä¸ºä»€ä¹ˆä¸èƒ½å†™æˆ <code>jalr $31, $31</code>ï¼Ÿ</p><blockquote><p>è‹¥<code>jalr $31, $31</code>æŒ‡ä»¤çš„å»¶è¿Ÿæ§½å†…å‘ç”Ÿå¼‚å¸¸æˆ–è€…éœ€è¦å“åº”ä¸­æ–­,é‚£ä¹ˆåœ¨å¤„ç†å¼‚å¸¸ç»“æŸåä¼šå†æ¬¡æ‰§è¡Œ<code>jalr $31, $31</code>æŒ‡ä»¤,è¿™æ—¶çš„$31å€¼å·²ç»è¢«ä¿®æ”¹,ä¼šè·³è½¬åˆ°ä¸æ­£ç¡®çš„PCåœ°å€</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>è®¡ç®—æœºç»„æˆåŸç†</category>
      
    </categories>
    
    
    <tags>
      
      <tag>CO</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>éšæœºå˜é‡åŠå…¶åˆ†å¸ƒ</title>
    <link href="/2024/11/30/%E9%9A%8F%E6%9C%BA%E5%8F%98%E9%87%8F%E5%8F%8A%E5%85%B6%E5%88%86%E5%B8%83/"/>
    <url>/2024/11/30/%E9%9A%8F%E6%9C%BA%E5%8F%98%E9%87%8F%E5%8F%8A%E5%85%B6%E5%88%86%E5%B8%83/</url>
    
    <content type="html"><![CDATA[<h2 id="éšæœºå˜é‡"><a href="#éšæœºå˜é‡" class="headerlink" title="éšæœºå˜é‡"></a>éšæœºå˜é‡</h2><p>éšæœºè¯•éªŒçš„æ ·æœ¬ç©ºé—´S={e},X=X(e)æ˜¯åœ¨æ ·æœ¬ç©ºé—´Sä¸Šçš„å®å€¼å•å€¼å‡½æ•°,åˆ™ç§°X=X(e)ä¸ºéšæœºå˜é‡,ç®€è®°ä¸ºX</p><h3 id="åˆ†ç±»"><a href="#åˆ†ç±»" class="headerlink" title="åˆ†ç±»"></a>åˆ†ç±»</h3><ul><li>ç¦»æ•£å‹</li><li>è¿ç»­å‹</li></ul><h2 id="åˆ†å¸ƒå‡½æ•°"><a href="#åˆ†å¸ƒå‡½æ•°" class="headerlink" title="åˆ†å¸ƒå‡½æ•°"></a>åˆ†å¸ƒå‡½æ•°</h2><p>$F(x)=P(X\leq x)$</p><h3 id="æ€§è´¨"><a href="#æ€§è´¨" class="headerlink" title="æ€§è´¨"></a>æ€§è´¨</h3><ol><li>$0\leq F(x)\leq 1$</li><li>F(x)å•è°ƒä¸å‡</li><li>F(x)å³è¿ç»­$F(x+0)=\underset{\Delta x\rightarrow 0+}{lim}F(x+\Delta x)=F(x)$</li></ol><h2 id="0-1åˆ†å¸ƒ"><a href="#0-1åˆ†å¸ƒ" class="headerlink" title="0-1åˆ†å¸ƒ"></a>0-1åˆ†å¸ƒ</h2><p>æœä»0-1åˆ†å¸ƒçš„è¯•éªŒå«ä½œè´åŠªåˆ©è¯•éªŒ</p><p>é‡å¤næ¬¡:<strong>né‡ä¼¯åŠªåˆ©è¯•éªŒ</strong></p><h2 id="äºŒé¡¹åˆ†å¸ƒ"><a href="#äºŒé¡¹åˆ†å¸ƒ" class="headerlink" title="äºŒé¡¹åˆ†å¸ƒ"></a>äºŒé¡¹åˆ†å¸ƒ</h2><p>né‡ä¼¯åŠªåˆ©è¯•éªŒä¸­,äº‹ä»¶Aåœ¨næ¬¡è¯•éªŒä¸­å‘ç”Ÿçš„æ¬¡æ•°-Xæ˜¯ä¸€ä¸ªç¦»æ•£å‹éšæœºå˜é‡</p><p>$P(k)=P(X=k)=C{}^k_np^k(1-p)^{n-k}, k=0,1,â€¦,n$</p><h3 id="æ€§è´¨-1"><a href="#æ€§è´¨-1" class="headerlink" title="æ€§è´¨"></a>æ€§è´¨</h3><ul><li>$C{}^k_np^k(1-p)^{n-k}\geq0$</li><li>$\Sigma{}^n_{k=0}C{}^k_np^k(1-p)^{n-k}=[p+(1-p)]^n=1$</li><li>0-1åˆ†å¸ƒæ˜¯n=1çš„äºŒé¡¹åˆ†å¸ƒ</li></ul><h3 id="äºŒé¡¹åˆ†å¸ƒæ•°å­¦æœŸæœ›"><a href="#äºŒé¡¹åˆ†å¸ƒæ•°å­¦æœŸæœ›" class="headerlink" title="äºŒé¡¹åˆ†å¸ƒæ•°å­¦æœŸæœ›"></a>äºŒé¡¹åˆ†å¸ƒæ•°å­¦æœŸæœ›</h3><script type="math/tex; mode=display">\begin{aligned}&X\sim B(n,p)\\&E(X)=\sum^n_{k=0}kC^k_np^k(1-p)^{n-k}=np\sum^n_{k=1}C^{k-1}_{n-1}p^{k-1}(1-p)^{n-k}=np(p+q)^{n-1}=np\\\end{aligned}</script><h3 id="äºŒé¡¹åˆ†å¸ƒæ–¹å·®"><a href="#äºŒé¡¹åˆ†å¸ƒæ–¹å·®" class="headerlink" title="äºŒé¡¹åˆ†å¸ƒæ–¹å·®"></a>äºŒé¡¹åˆ†å¸ƒæ–¹å·®</h3><p><img src="image-20241130210914935.png" alt="image-20241130210914935"></p><h2 id="æ³Šæ¾å®šç†"><a href="#æ³Šæ¾å®šç†" class="headerlink" title="æ³Šæ¾å®šç†"></a>æ³Šæ¾å®šç†</h2><script type="math/tex; mode=display">\underset{n\rightarrow\infty}{lim}C{}^k_np^k(1-p)^{n-k}=e^{-\lambda}\frac{\lambda^k}{k!}(\lambda=np)</script><p>è¿‘ä¼¼å…¬å¼:$C{}^k_np^k(1-p)^{n-k}\approx e^{-\lambda}\frac{\lambda^k}{k!}(\lambda=np)$</p>]]></content>
    
    
    <categories>
      
      <category>æ¦‚ç‡ä¸æ•°ç†æ¨¡å‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ¦‚ç»Ÿ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¤šç»´éšæœºå˜é‡åŠå…¶åˆ†å¸ƒ</title>
    <link href="/2024/11/30/%E5%A4%9A%E7%BB%B4%E9%9A%8F%E6%9C%BA%E5%8F%98%E9%87%8F/"/>
    <url>/2024/11/30/%E5%A4%9A%E7%BB%B4%E9%9A%8F%E6%9C%BA%E5%8F%98%E9%87%8F/</url>
    
    <content type="html"><![CDATA[<h1 id="å¤šç»´éšæœºå˜é‡åŠå…¶åˆ†å¸ƒ"><a href="#å¤šç»´éšæœºå˜é‡åŠå…¶åˆ†å¸ƒ" class="headerlink" title="å¤šç»´éšæœºå˜é‡åŠå…¶åˆ†å¸ƒ"></a>å¤šç»´éšæœºå˜é‡åŠå…¶åˆ†å¸ƒ</h1><h2 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h2><p>$\Omega$ä¸ºéšæœºè¯•éªŒçš„æ ·æœ¬ç©ºé—´,</p><script type="math/tex; mode=display">\forall \omega\in \Omega\rightarrow \exists(X(\omega),Y(\omega))\in R^2\\</script><p>(X,Y)ä¸ºäºŒä½éšæœºå˜é‡</p><h2 id="è”åˆåˆ†å¸ƒå‡½æ•°"><a href="#è”åˆåˆ†å¸ƒå‡½æ•°" class="headerlink" title="è”åˆåˆ†å¸ƒå‡½æ•°"></a>è”åˆåˆ†å¸ƒå‡½æ•°</h2><script type="math/tex; mode=display">F(x,y)=P(X\leq x,Y\leq y)\\</script><h2 id="è¾¹ç¼˜åˆ†å¸ƒå‡½æ•°"><a href="#è¾¹ç¼˜åˆ†å¸ƒå‡½æ•°" class="headerlink" title="è¾¹ç¼˜åˆ†å¸ƒå‡½æ•°"></a>è¾¹ç¼˜åˆ†å¸ƒå‡½æ•°</h2><script type="math/tex; mode=display">F_X(x)=P(X\leq x)</script><script type="math/tex; mode=display">F_Y(y)=P(Y\leq y)\\</script><h3 id="æ­£æ€åˆ†å¸ƒ"><a href="#æ­£æ€åˆ†å¸ƒ" class="headerlink" title="æ­£æ€åˆ†å¸ƒ"></a>æ­£æ€åˆ†å¸ƒ</h3><script type="math/tex; mode=display">f_X(x)=\frac{1}{\sqrt{2\pi}\sigma_1}e^{-\frac{(x-\mu_1)^2}{2\sigma_1^2}},-\infty<x<+\infty\\</script><h2 id="è¾¹ç¼˜å¯†åº¦å‡½æ•°"><a href="#è¾¹ç¼˜å¯†åº¦å‡½æ•°" class="headerlink" title="è¾¹ç¼˜å¯†åº¦å‡½æ•°"></a>è¾¹ç¼˜å¯†åº¦å‡½æ•°</h2><script type="math/tex; mode=display">f_X(x)=\int^{+\infty}_{-\infty}f(x,v)dv</script><script type="math/tex; mode=display">F_X(x)=F(x,+\infty)=\int^x_{-\infty}\int^{+\infty}_{-\infty}f(u,v)dvdu\\</script><h2 id="æ¡ä»¶åˆ†å¸ƒå‡½æ•°"><a href="#æ¡ä»¶åˆ†å¸ƒå‡½æ•°" class="headerlink" title="æ¡ä»¶åˆ†å¸ƒå‡½æ•°"></a>æ¡ä»¶åˆ†å¸ƒå‡½æ•°</h2><script type="math/tex; mode=display">\dfrac{\dfrac{\delta F(x,y)}{\delta y}}{\dfrac{d F_Y(y)}{dy}}=\dfrac{\int^x_{-\infty}f(u,y)du}{f_Y(y)}=\int^x_{-\infty}\dfrac{f(u,y)}{f_Y(y)}du</script><h2 id="éšæœºå˜é‡çš„ç‹¬ç«‹æ€§"><a href="#éšæœºå˜é‡çš„ç‹¬ç«‹æ€§" class="headerlink" title="éšæœºå˜é‡çš„ç‹¬ç«‹æ€§"></a>éšæœºå˜é‡çš„ç‹¬ç«‹æ€§</h2><p>è®¾(X,Y)ä¸ºäºŒç»´éšæœºå˜é‡,è‹¥å¯¹äºä»»ä½•å®æ•°x,y:</p><p>$P(X\leq x,Y\leq y)=p(X\leq x)P(Y\leq y)$</p><p>åˆ™Xå’ŒYç›¸äº’ç‹¬ç«‹</p><p><img src="image-20241018112647390.png" alt="image-20241018112647390"></p><script type="math/tex; mode=display">P\{X=1\}=\frac{1}{3}\\P\{Y=0\}=\frac{1}{3}\\P\{X=1\wedge Y=0\}=\frac{1}{6}\neq P\{X=1\}\times P\{Y=0\}ä¸ç‹¬ç«‹</script><h3 id="æ¨è®º1"><a href="#æ¨è®º1" class="headerlink" title="æ¨è®º1"></a>æ¨è®º1</h3><script type="math/tex; mode=display">è®¾f(x,y)æ˜¯è¿ç»­å‹äºŒç»´éšæœºå˜é‡(X,Y)çš„è”åˆå¯†åº¦å‡½æ•°,r(x),g(y)ä¸ºéè´Ÿå¯ç§¯å‡½æ•°\\è‹¥f(x,y)=r(x)g(y)\\åˆ™X,Yç›¸äº’ç‹¬ç«‹,ä¸”\\f_X(x)=\frac{r(x)}{\int^{+\infty}_{-\infty}g(y)dy}\\f_Y(y)=\frac{g(y)}{\int^{+\infty}_{-\infty}g(y)dy}\\</script><h3 id="æ¨è®º2"><a href="#æ¨è®º2" class="headerlink" title="æ¨è®º2"></a>æ¨è®º2</h3><script type="math/tex; mode=display">\begin{aligned}X,Yä¸ºç›¸äº’ç‹¬ç«‹çš„éšæœºå˜é‡,\\u(x),v(y)ä¸ºè¿ç»­å‡½æ•°,\\åˆ™U=u(x),V=v(Y)ä¹Ÿç›¸äº’ç‹¬ç«‹,\\è®¾Xä¸Yçš„æ¦‚ç‡å¯†åº¦å‡½æ•°åˆ†åˆ«ä¸ºf_X(x),f_Y(y),åˆ™\\f(x,y)=f_X(x)f_y(y)\end{aligned}</script><h3 id="å…¬å¼"><a href="#å…¬å¼" class="headerlink" title="å…¬å¼"></a>å…¬å¼</h3><script type="math/tex; mode=display">f_{Y|X}(y|x)=\frac{f(x,y)}{f_X(x)}\\</script><p><img src="image-20241018114119486.png" alt="image-20241018114119486"></p><script type="math/tex; mode=display">\frac{1}{2\pi\sigma_1\sigma_2\sqrt{1-\rho^2}}\exp\{\frac{-1}{2(1-\rho^2)}[\frac{(x-\mu_1)^2}{\sigma_1^2}-2\rho\frac{(x-\mu_1)(y-\mu_2)}{\sigma_1\sigma_2}+\frac{(y-\mu_2)^2}{\sigma_2^2}]\}\\</script>]]></content>
    
    
    <categories>
      
      <category>æ¦‚ç‡ä¸æ•°ç†æ¨¡å‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ¦‚ç»Ÿ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å‡è®¾æ£€éªŒ</title>
    <link href="/2024/11/29/%E5%81%87%E8%AE%BE%E6%A3%80%E9%AA%8C/"/>
    <url>/2024/11/29/%E5%81%87%E8%AE%BE%E6%A3%80%E9%AA%8C/</url>
    
    <content type="html"><![CDATA[<h1 id="å‡è®¾æ£€éªŒ"><a href="#å‡è®¾æ£€éªŒ" class="headerlink" title="å‡è®¾æ£€éªŒ"></a>å‡è®¾æ£€éªŒ</h1><h2 id="å†…å®¹"><a href="#å†…å®¹" class="headerlink" title="å†…å®¹"></a>å†…å®¹</h2><ul><li>å‚æ•°æ£€éªŒ<ul><li>æ€»ä½“å‡å€¼,å‡å€¼å·®çš„æ£€éªŒ</li><li>æ€»ä½“æ–¹å·®,æ–¹å·®æ¯”çš„æ£€éªŒ</li></ul></li><li>éå‚æ•°æ£€éªŒ<ul><li>åˆ†å¸ƒæ‹Ÿåˆæ£€éªŒ</li><li>ç§©å’Œæ£€éªŒ</li></ul></li></ul><p>ç¬¬ä¸€ç±»é”™è¯¯-$\alpha$:å¼ƒçœŸé”™è¯¯</p><p>ç¬¬äºŒç±»é”™è¯¯-$\beta$:å–ä¼ªé”™è¯¯</p><p>åªå¯¹çŠ¯ç¬¬ä¸€ç±»é”™è¯¯çš„æ¦‚ç‡åŠ ä»¥æ§åˆ¶,è€Œä¸è€ƒè™‘çŠ¯ç¬¬äºŒç±»é”™è¯¯çš„æ¦‚ç‡çš„æ£€éªŒ,ç§°ä¸º<strong>æ˜¾è‘—æ€§æ£€éªŒ</strong></p><p>æ˜¾è‘—æ€§æ°´å¹³$\alpha$=P{çŠ¯ç¬¬ä¸€ç±»é”™è¯¯}</p><p>é€šå¸¸æŠŠæœ‰æŠŠæ¡,æœ‰ç»éªŒçš„ç»“è®ºä½œä¸ºåŸå‡è®¾,æˆ–è€…å°½å¯èƒ½ä½¿åæœä¸¥é‡çš„é”™è¯¯æˆä¸ºç¬¬ä¸€ç±»é”™è¯¯</p><h2 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h2><ol><li>å»ºè®¾åŸå‡è®¾$H_0$ä¸å¤‡é€‰å‡è®¾$H_1$</li><li>å½“$H_0$ä¸ºçœŸæ—¶,é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„æ£€éªŒç»Ÿè®¡é‡$V$,ä»–çš„åˆ†å¸ƒæ˜¯å·²çŸ¥çš„,ç”±$H_1$ç¡®å®šæ‹’ç»åŸŸçš„å½¢å¼</li><li>ç»™å®šæ˜¾è‘—æ€§æ°´å¹³,å¯¹åº”çš„æ‹’ç»åŸŸ<ol><li>åŒä¾§æ£€éªŒ$(V<V_{\alpha 2}\cup (v>V_{1-\alpha/2})$</V_{\alpha></li><li>å³è¾¹æ£€éªŒ$(V&gt;V_{1-\alpha}$</li></ol></li></ol><h2 id="å•ä¸ªæ€»ä½“å‡å€¼çš„æ£€éªŒ"><a href="#å•ä¸ªæ€»ä½“å‡å€¼çš„æ£€éªŒ" class="headerlink" title="å•ä¸ªæ€»ä½“å‡å€¼çš„æ£€éªŒ"></a>å•ä¸ªæ€»ä½“å‡å€¼çš„æ£€éªŒ</h2><h3 id="sigma-å·²çŸ¥-å…³äº-mu-çš„æ£€éªŒ-Uæ£€éªŒ-åˆç§°Zæ£€éªŒ"><a href="#sigma-å·²çŸ¥-å…³äº-mu-çš„æ£€éªŒ-Uæ£€éªŒ-åˆç§°Zæ£€éªŒ" class="headerlink" title="$\sigma$å·²çŸ¥,å…³äº$\mu$çš„æ£€éªŒ(Uæ£€éªŒ)(åˆç§°Zæ£€éªŒ)"></a>$\sigma$å·²çŸ¥,å…³äº$\mu$çš„æ£€éªŒ(Uæ£€éªŒ)(åˆç§°Zæ£€éªŒ)</h3><p>$Z=\frac{\overline{X}-\mu_0}{\sigma/\sqrt n}$</p><p><img src="image-20241129112156834.png" alt="Uæ£€éªŒæ³•(æ–¹å·®å·²çŸ¥)"></p><h3 id="sigma-2-æœªçŸ¥-å…³äº-mu-çš„æ£€éªŒ-Tæ£€éªŒ"><a href="#sigma-2-æœªçŸ¥-å…³äº-mu-çš„æ£€éªŒ-Tæ£€éªŒ" class="headerlink" title="$\sigma^2$æœªçŸ¥,å…³äº$\mu$çš„æ£€éªŒ(Tæ£€éªŒ)"></a>$\sigma^2$æœªçŸ¥,å…³äº$\mu$çš„æ£€éªŒ(Tæ£€éªŒ)</h3><p>$X\sim N(\mu,\sigma^2),éœ€æ£€éªŒ:H_0=\mu=\mu_0,H_1:\mu\neq \mu_0$</p><p>$T=\frac{\overline{X}-\mu_0}{\frac{S}{\sqrt n}}\sim t(n-1)$</p><p><img src="image-20241129105315451.png" alt="Tæ£€éªŒæ³•(æ–¹å·®æœªçŸ¥)"></p><h2 id="ä¾‹é¢˜"><a href="#ä¾‹é¢˜" class="headerlink" title="ä¾‹é¢˜"></a>ä¾‹é¢˜</h2><p><img src="image-20241129105446429.png" alt="image-20241129105446429"></p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs MATLAB">X = [<span class="hljs-number">159</span> <span class="hljs-number">280</span> <span class="hljs-number">101</span> <span class="hljs-number">212</span> <span class="hljs-number">224</span> <span class="hljs-number">379</span> <span class="hljs-number">179</span> <span class="hljs-number">264</span> <span class="hljs-number">222</span> <span class="hljs-number">362</span> <span class="hljs-number">168</span> <span class="hljs-number">250</span> <span class="hljs-number">149</span> <span class="hljs-number">260</span> <span class="hljs-number">485</span> <span class="hljs-number">170</span>];<br>n=<span class="hljs-built_in">length</span>(X);<br>mu_0=<span class="hljs-number">225</span>;<br>mu=<span class="hljs-built_in">mean</span>(X);<br>s=std(X);<br>t=(mu-mu_0)/(s/<span class="hljs-built_in">sqrt</span>(n));<br><span class="hljs-built_in">disp</span>([<span class="hljs-string">&#x27;t=&#x27;</span>,num2str(t)]);<br>p=<span class="hljs-number">0.95</span>;<br>z = icdf(<span class="hljs-string">&#x27;T&#x27;</span>, p, n<span class="hljs-number">-1</span>);<br><span class="hljs-keyword">if</span> t&lt;z<br>    <span class="hljs-built_in">disp</span>(<span class="hljs-string">&#x27;æ²¡æœ‰è½åœ¨æ‹’ç»åŸŸå†…&#x27;</span>);<br><span class="hljs-keyword">else</span><br>    <span class="hljs-built_in">disp</span>(<span class="hljs-string">&#x27;è½åœ¨æ‹’ç»åŸŸå†…&#x27;</span>);<br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure><h3 id="sigma-çš„åŒè¾¹æ£€éªŒ-mu-æœªçŸ¥"><a href="#sigma-çš„åŒè¾¹æ£€éªŒ-mu-æœªçŸ¥" class="headerlink" title="$\sigma$çš„åŒè¾¹æ£€éªŒ($\mu$æœªçŸ¥)"></a>$\sigma$çš„åŒè¾¹æ£€éªŒ($\mu$æœªçŸ¥)</h3><p>è®¾$X\sim N(\mu,\sigma^2),\muæœªçŸ¥,éœ€æ£€éªŒ:$</p><p>$H_0:\sigma^2=\sigma_0^2,H_1:\sigma^2\neq \sigma_0^2$</p><p>$\chi^2=\frac{(n-1)S^2}{\sigma_0^2}\sim \chi^2(n-1)$</p><p>$P\left\{\frac{(n-1)S^2}{\sigma_0}\leq\chi_{\alpha/2}^2(n-1)æˆ–\frac{(n-1)S^2}{\sigma_0^2}\geq \chi_{1-\alpha/2}^2(n-1)\right\}=\alpha$</p><p><img src="image-20241129112119948.png" alt="æ–¹å·®çš„æ£€éªŒ(å‡å€¼æœªçŸ¥)"></p><h2 id="ä¸¤ä¸ªæ­£æ€æ€»ä½“å‡å€¼å·®çš„æ£€éªŒ-tæ£€éªŒ"><a href="#ä¸¤ä¸ªæ­£æ€æ€»ä½“å‡å€¼å·®çš„æ£€éªŒ-tæ£€éªŒ" class="headerlink" title="ä¸¤ä¸ªæ­£æ€æ€»ä½“å‡å€¼å·®çš„æ£€éªŒ(tæ£€éªŒ)"></a>ä¸¤ä¸ªæ­£æ€æ€»ä½“å‡å€¼å·®çš„æ£€éªŒ(tæ£€éªŒ)</h2><p>$t=\frac{(\overline X-\overline Y)-\delta}{S_\omega\sqrt{\frac 1{n_1}+\frac 1{n_2}}}$</p><p>$S_\omega=\frac{(n_1-1)S_1^2+(n_2-1)S_2^2}{n_1+n_2-2},S_\omega=\sqrt {S_\omega^2}$</p><p>æ‹’ç»åŸŸ:$\frac{(\overline X-\overline Y)-\delta}{S_\omega\sqrt{\frac 1{n_1}+\frac 1{n_2}}}\geq t_{\alpha/2}(n_1+n_2-2)$</p><p><img src="image-20241130110711968.png" alt="P185ä¾‹2"></p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs matlab"><span class="hljs-comment">%% P185 ä¾‹2</span><br>A=[<span class="hljs-number">79.98</span> <span class="hljs-number">80.04</span> <span class="hljs-number">80.02</span> <span class="hljs-number">80.04</span> <span class="hljs-number">80.03</span> <span class="hljs-number">80.03</span> <span class="hljs-number">80.04</span> <span class="hljs-number">79.97</span> <span class="hljs-number">80.05</span> <span class="hljs-number">80.03</span> <span class="hljs-number">80.02</span> <span class="hljs-number">80.00</span> <span class="hljs-number">80.02</span>];<br>B=[<span class="hljs-number">80.02</span> <span class="hljs-number">79.94</span> <span class="hljs-number">79.98</span> <span class="hljs-number">79.97</span> <span class="hljs-number">79.97</span> <span class="hljs-number">80.03</span> <span class="hljs-number">79.95</span> <span class="hljs-number">79.97</span>];<br>n1=<span class="hljs-built_in">length</span>(A);<br>n2=<span class="hljs-built_in">length</span>(B);<br>mean1=<span class="hljs-built_in">mean</span>(A);<br>mean2=<span class="hljs-built_in">mean</span>(B);<br>s1=std(A);<br>s2=std(B);<br>sw=<span class="hljs-built_in">sqrt</span>(((n1<span class="hljs-number">-1</span>)*s1^<span class="hljs-number">2</span>+(n2<span class="hljs-number">-1</span>)*s2^<span class="hljs-number">2</span>) / (n1+n2<span class="hljs-number">-2</span>));<br>t=(mean1-mean2)/(sw*<span class="hljs-built_in">sqrt</span>(<span class="hljs-number">1</span>/n1+<span class="hljs-number">1</span>/n2));<br><span class="hljs-built_in">disp</span>([<span class="hljs-string">&#x27;t=&#x27;</span>,num2str(t)]);<br>p=<span class="hljs-number">0.95</span>;<br>z=icdf(<span class="hljs-string">&#x27;T&#x27;</span>,p,n1+n2<span class="hljs-number">-2</span>);<br><span class="hljs-keyword">if</span> t &gt; z<br>    <span class="hljs-built_in">disp</span>(<span class="hljs-string">&#x27;æ‹’ç»H0&#x27;</span>);<br><span class="hljs-keyword">else</span><br>    <span class="hljs-built_in">disp</span>(<span class="hljs-string">&#x27;æ¥å—H0&#x27;</span>);<br><span class="hljs-keyword">end</span><br><br><span class="hljs-comment">%% ç»˜åˆ¶ç®±çº¿å›¾(åœ¨ä¸åŒå›¾ä¸­)</span><br><span class="hljs-built_in">figure</span><br>subplot(<span class="hljs-number">2</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>)<br>boxplot(A)<br>subplot(<span class="hljs-number">2</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>)<br><br><span class="hljs-comment">%% ç»˜åˆ¶ç®±çº¿å›¾(åœ¨åŒä¸€å›¾ä¸­)</span><br>A=A.&#x27;;<br>B=B.&#x27;;<br>group = [<span class="hljs-built_in">repmat</span>(<span class="hljs-string">&#x27;A&#x27;</span>,<span class="hljs-built_in">size</span>(A,<span class="hljs-number">1</span>),<span class="hljs-number">1</span>);<span class="hljs-built_in">repmat</span>(<span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-built_in">size</span>(B,<span class="hljs-number">1</span>),<span class="hljs-number">1</span>)];<br>boxplot([A;B],group)<br></code></pre></td></tr></table></figure><h2 id="åŸºäºæˆå¯¹æ•°æ®çš„æ£€éªŒ-tæ£€éªŒ"><a href="#åŸºäºæˆå¯¹æ•°æ®çš„æ£€éªŒ-tæ£€éªŒ" class="headerlink" title="åŸºäºæˆå¯¹æ•°æ®çš„æ£€éªŒ(tæ£€éªŒ)"></a>åŸºäºæˆå¯¹æ•°æ®çš„æ£€éªŒ(tæ£€éªŒ)</h2><p><img src="image-20241130113514692.png" alt="P186ä¾‹3"></p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs matlab"><span class="hljs-comment">%% P186 ä¾‹3</span><br><span class="hljs-comment">% H0:\mu_D=0,\mu_D\neq 0</span><br>x=[<span class="hljs-number">0.20</span><span class="hljs-number">0.30</span><span class="hljs-number">0.40</span><span class="hljs-number">0.50</span><span class="hljs-number">0.60</span><span class="hljs-number">0.70</span><span class="hljs-number">0.80</span><span class="hljs-number">0.90</span> <span class="hljs-number">1.00</span>];<br>y=[<span class="hljs-number">0.10</span><span class="hljs-number">0.21</span><span class="hljs-number">0.52</span><span class="hljs-number">0.32</span><span class="hljs-number">0.78</span><span class="hljs-number">0.59</span><span class="hljs-number">0.68</span><span class="hljs-number">0.77</span> <span class="hljs-number">0.89</span>];<br>n=<span class="hljs-built_in">length</span>(x);<br>d=x-y;<br>alpha=<span class="hljs-number">0.01</span>;<br>z=icdf(<span class="hljs-string">&#x27;T&#x27;</span>,<span class="hljs-number">1</span>-alpha/<span class="hljs-number">2</span>,n<span class="hljs-number">-1</span>);<br>mean_d=<span class="hljs-built_in">mean</span>(d);<br>s_d=std(d);<br>t=<span class="hljs-built_in">abs</span>(mean_d/(s_d/<span class="hljs-built_in">sqrt</span>(n)));<br><span class="hljs-keyword">if</span> t&lt;z<br>    <span class="hljs-built_in">disp</span>(<span class="hljs-string">&#x27;æ— æ˜æ˜¾å·®å¼‚&#x27;</span>);<br><span class="hljs-keyword">else</span><br>    <span class="hljs-built_in">disp</span>(<span class="hljs-string">&#x27;æœ‰æ˜æ˜¾å·®å¼‚&#x27;</span>);<br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure><h2 id="æ–¹å·®æ¯”çš„æ£€éªŒ-Fæ£€éªŒ"><a href="#æ–¹å·®æ¯”çš„æ£€éªŒ-Fæ£€éªŒ" class="headerlink" title="æ–¹å·®æ¯”çš„æ£€éªŒ(Fæ£€éªŒ)"></a>æ–¹å·®æ¯”çš„æ£€éªŒ(Fæ£€éªŒ)</h2><p>$F=\frac{S_1^2}{S_2^2}$</p><p>$H_1:\sigma_1^2&gt;\sigma_2^2\rightarrow \chi^2\geq \chi_\alpha^2(n-1)$</p><p>$H_1:\sigma_1^2&lt;\sigma_2^2\rightarrow \chi^2\leq \chi_{1-\alpha}^2(n-1)$</p><p>$H_1:\sigma_1^2&gt;\sigma_2^2\rightarrow \chi^2\geq \chi_{\alpha/2}^2(n-1)æˆ–\chi^2\leq \chi_{1-\alpha/2}^2(n-1)$</p>]]></content>
    
    
    <categories>
      
      <category>æ¦‚ç‡ä¸æ•°ç†æ¨¡å‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ¦‚ç»Ÿ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ•°å­¦å»ºæ¨¡-ç°è‰²å…³è”åˆ†æ</title>
    <link href="/2024/11/28/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1-%E7%81%B0%E8%89%B2%E5%85%B3%E8%81%94%E5%88%86%E6%9E%90/"/>
    <url>/2024/11/28/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1-%E7%81%B0%E8%89%B2%E5%85%B3%E8%81%94%E5%88%86%E6%9E%90/</url>
    
    <content type="html"><![CDATA[<h1 id="ç°è‰²å…³è”åˆ†æ"><a href="#ç°è‰²å…³è”åˆ†æ" class="headerlink" title="ç°è‰²å…³è”åˆ†æ"></a>ç°è‰²å…³è”åˆ†æ</h1><h2 id="ç¡®å®šåˆ†ææ•°åˆ—"><a href="#ç¡®å®šåˆ†ææ•°åˆ—" class="headerlink" title="ç¡®å®šåˆ†ææ•°åˆ—"></a>ç¡®å®šåˆ†ææ•°åˆ—</h2><p>å‚è€ƒæ•°åˆ—(æ¯åºåˆ—):èƒ½åæ˜ ç³»ç»Ÿè¡Œä¸ºç‰¹å¾çš„æ•°æ®åºåˆ—,è®°ä½œ$x_0$</p><p>æ¯”è¾ƒæ•°åˆ—(å­åºåˆ—):èƒ½åæ˜ ç³»ç»Ÿè¡Œä¸ºçš„å› ç´ ç»„æˆçš„æ•°æ®åºåˆ—,è®°ä½œ$x _i(i=1,2\dots)$</p><h2 id="ç¡®å®šç°è‰²å…³è”ç³»æ•°"><a href="#ç¡®å®šç°è‰²å…³è”ç³»æ•°" class="headerlink" title="ç¡®å®šç°è‰²å…³è”ç³»æ•°"></a>ç¡®å®šç°è‰²å…³è”ç³»æ•°</h2><p>ä¸¤çº§æœ€å°å·®$a=\min\limits_s\min\limits_t\left|x_0(t)-x_s(t)\right|$</p><p>ä¸¤çº§æœ€å¤§å·®$b=\max\limits_s\max\limits_t\left|x_0(t)-x_s(t)\right|$</p><p> $\gamma(x_0(k),x_i(k))=\frac{a+\rho b}{\left|x_o(k)-x_i(k)\right|+\rho b}$</p><p>$\rho$ä¸ºåˆ†è¾¨ç³»æ•°,ä¸€èˆ¬å–å€¼0.5</p><p>ç°è‰²å…³è”åº¦$\gamma(x_0,x_i)=\frac{1}{n}\sum_{k=1}^n\gamma(x_0(k),x_i(k))$</p><h2 id="ä½œç”¨"><a href="#ä½œç”¨" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h2><p>ç¡®å®šç³»ç»Ÿä¸­å“ªäº›æ˜¯ä¸»è¦å› ç´ ,å“ªäº›æ˜¯æ¬¡è¦å› ç´ </p><h2 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h2><ol><li>é¢„å¤„ç†,æ­£å‘åŒ–,æ ‡å‡†åŒ–</li><li>ç¡®å®šæ¯åºåˆ—å’Œå­åºåˆ—</li><li>å°†æ¯åºåˆ—å’Œå­åºåˆ—ä¸¤ä¸¤ç›¸å‡</li><li>å°†æ¯ä¸ªå…ƒç´ è®¡ç®—ç°è‰²å…³è”ç³»æ•°$\gamma$</li><li>å°†å„æŒ‡æ ‡çš„ç°è‰²å…³è”ç³»æ•°æ±‚å¹³å‡å€¼ä½œä¸ºç°è‰²å…³è”åº¦</li><li>æ ¹æ®ç°è‰²å…³è”åº¦å¤§å°ä¸‹ç»“è®º</li></ol><p><img src="image-20241128163650433.png" alt="image-20241128163650433"></p>]]></content>
    
    
    <categories>
      
      <category>æ•°å­¦å»ºæ¨¡</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ•°å­¦å»ºæ¨¡</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ•°å­¦å»ºæ¨¡-Topsis</title>
    <link href="/2024/11/28/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1-Topsis/"/>
    <url>/2024/11/28/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1-Topsis/</url>
    
    <content type="html"><![CDATA[<h1 id="TOPSISä¼˜åŠ£è§£è·ç¦»æ³•"><a href="#TOPSISä¼˜åŠ£è§£è·ç¦»æ³•" class="headerlink" title="TOPSISä¼˜åŠ£è§£è·ç¦»æ³•"></a>TOPSISä¼˜åŠ£è§£è·ç¦»æ³•</h1><h2 id="æ­£å‘åŒ–å¤„ç†"><a href="#æ­£å‘åŒ–å¤„ç†" class="headerlink" title="æ­£å‘åŒ–å¤„ç†"></a>æ­£å‘åŒ–å¤„ç†</h2><p>å°†æ‰€æœ‰æŒ‡æ ‡è½¬æ¢ä¸ºæå¤§å‹:è½¬æ¢å…¬å¼$max-x$</p><h2 id="æ ‡å‡†åŒ–å¤„ç†"><a href="#æ ‡å‡†åŒ–å¤„ç†" class="headerlink" title="æ ‡å‡†åŒ–å¤„ç†"></a>æ ‡å‡†åŒ–å¤„ç†</h2><p>ç›®çš„:æ¶ˆé™¤é‡çº²å½±å“<br>$z_{ij}=\frac{x_{ij}}{\sqrt{ {\sum^n_{i=1}x_{ij}^2} }}$<br>è¿›è¡Œè·ç¦»æ³•æ‰“åˆ†,è¯„åˆ†:$\frac{x-\text{min}}{\text{max} -\text{min}}$,ç„¶åå½’ä¸€åŒ–</p><h2 id="ç”¨ä¼˜åŠ£è§£æ‰“åˆ†"><a href="#ç”¨ä¼˜åŠ£è§£æ‰“åˆ†" class="headerlink" title="ç”¨ä¼˜åŠ£è§£æ‰“åˆ†"></a>ç”¨ä¼˜åŠ£è§£æ‰“åˆ†</h2><script type="math/tex; mode=display">Z=\begin{vmatrix}z_{11}&z_{12}&\dots&z_{1m}\\z_{21}&z_{22}&\dots&z_{2m}\\\vdots&\vdots&\ddots&\vdots\\z_{n1}&z_{n2}&\dots&z_{nm}\end{vmatrix}(nä¸ªè¯„ä»·å¯¹è±¡,mä¸ªè¯„ä»·æŒ‡æ ‡)</script><p>åœ¨æ¯ä¸ªæŒ‡æ ‡é‡ŒæŒ‘å‡ºæœ€å¤§å€¼å’Œæœ€å°å€¼,æ„æˆæœ€å¤§å‘é‡$Z^+$å’Œæœ€å°å‘é‡$Z^-$</p><p>å³$Z^+=(Z_1^+,Z_2^+,\dots,Z^+_m)=(\max\{ z_{11},z_{21},\dots z_{n1} \},\dots)$</p><p>$Z^-=(Z_1^-,Z_2^-,\dots,Z^-_m)=(\min\{ z_{11},z_{21},\dots z_{n1} \},\dots)$</p><p>å¯¹äºç¬¬iä¸ªå¯¹è±¡,è®¡ç®—å®ƒæ¯ä¸ªæŒ‡æ ‡ç›¸å¯¹æœ€å¤§å€¼çš„è·ç¦»$D^+=\sqrt{ \sum^m_{j=1}(Z_j^+-z_{ij})^2w_j },i=1,2,\dots,n$</p><p>å¾—åˆ†:$S_i=\frac{D_i^-}{D_i^++D_i^-}$(è¿˜æ²¡æœ‰å½’ä¸€åŒ–)</p><h1 id="è¯„ä»·ç±»æ¨¡å‹åˆ†ç±»"><a href="#è¯„ä»·ç±»æ¨¡å‹åˆ†ç±»" class="headerlink" title="è¯„ä»·ç±»æ¨¡å‹åˆ†ç±»"></a>è¯„ä»·ç±»æ¨¡å‹åˆ†ç±»</h1><ul><li>ä¸»è§‚èµ‹å€¼æ³•<ul><li>å±‚æ¬¡åˆ†ææ³•</li><li>æ¨¡ç³Šç»¼åˆè¯„ä»·</li></ul></li><li>å®¢è§‚èµ‹å€¼æ³•<ul><li>TOPSIS</li><li>ä¸»æˆåˆ†åˆ†ææ³•</li><li>ç°è‰²ç»¼åˆè¯„ä»·</li><li>èšç±»åˆ†ææ³•</li><li>ç¥ç»ç½‘ç»œè¯„ä»·æ³•</li></ul></li></ul><h1 id="MATLABä»£ç "><a href="#MATLABä»£ç " class="headerlink" title="MATLABä»£ç "></a>MATLABä»£ç </h1><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs matlab"><span class="hljs-comment">%% TOPSISä¼˜åŠ£è§£-åº”ç”¨</span><br><span class="hljs-comment">%% è¯»å–è¡¨æ ¼</span><br>opts = detectImportOptions(<span class="hljs-string">&#x27;univ_data.xlsx&#x27;</span>);<br>opts.VariableTypes = &#123;<span class="hljs-string">&#x27;double&#x27;</span>, <span class="hljs-string">&#x27;double&#x27;</span>, <span class="hljs-string">&#x27;double&#x27;</span>, <span class="hljs-string">&#x27;double&#x27;</span>, <span class="hljs-string">&#x27;double&#x27;</span>&#125;;<br>opts.PreserveVariableNames = <span class="hljs-built_in">true</span>;<br>data = <span class="hljs-built_in">readtable</span>(<span class="hljs-string">&#x27;univ_data.xlsx&#x27;</span>, opts);<br>data = data(:, <span class="hljs-number">2</span>:<span class="hljs-keyword">end</span>);<br>data = table2array(data);<br><br><span class="hljs-comment">%% æ­£å‘åŒ–</span><br><span class="hljs-comment">%% äººå‡è®ºæ–‡å‘è¡¨æ•°é‡ä»‹äº2~4æœ€å¥½</span><br>data(:,<span class="hljs-number">1</span>) = int2max(data(:,<span class="hljs-number">1</span>), <span class="hljs-number">2</span>, <span class="hljs-number">4</span>);<br><br><span class="hljs-comment">%% å¸ˆç”Ÿæ¯”æ¥è¿‘0.7è¶Šå¥½</span><br>data(:, <span class="hljs-number">2</span>) = mid2max(data(:, <span class="hljs-number">2</span>), <span class="hljs-number">0.7</span>);<br><br><span class="hljs-comment">%% ç§‘ç ”ç»è´¹è¶Šå¤šè¶Šå¥½</span><br>data(:, <span class="hljs-number">3</span>) = data(:, <span class="hljs-number">3</span>);<br><br><span class="hljs-comment">%% é€¾æœŸæ¯•ä¸šç‡è¶Šå°è¶Šå¥½</span><br>data(:, <span class="hljs-number">4</span>) = min2max(data(:, <span class="hljs-number">4</span>));<br><br><span class="hljs-comment">%% æ ‡å‡†åŒ–</span><br>[n,m] = <span class="hljs-built_in">size</span>(data);<br>s = <span class="hljs-built_in">repmat</span>(sum(data,<span class="hljs-number">1</span>), n, <span class="hljs-number">1</span>);<br>data = data ./ s;<br><br><span class="hljs-comment">%% ä¼˜åŠ£è§£æ‰“åˆ†</span><br><span class="hljs-comment">% ç”±ç†µæƒæ³•è®¡ç®—å¾—åˆ°çš„æƒå€¼w</span><br>w = [<span class="hljs-number">0.2241</span>;<span class="hljs-number">0.2566</span>;<span class="hljs-number">0.1891</span>;<span class="hljs-number">0.3302</span>];<br>Z_max = <span class="hljs-built_in">repmat</span>(<span class="hljs-built_in">max</span>(data), n, <span class="hljs-number">1</span>);<br>Z_min = <span class="hljs-built_in">repmat</span>(<span class="hljs-built_in">min</span>(data), n, <span class="hljs-number">1</span>);<br>D_max = sum(((data - Z_max) .^ <span class="hljs-number">2</span>) * w, <span class="hljs-number">2</span>).^<span class="hljs-number">0.5</span>;<br>D_min = sum(((data - Z_min) .^ <span class="hljs-number">2</span>) * w, <span class="hljs-number">2</span>).^<span class="hljs-number">0.5</span>;<br><br><br>S = D_min ./ (D_max + D_min);<br><br>res = S./sum(S)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>æ•°å­¦å»ºæ¨¡</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ•°å­¦å»ºæ¨¡</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ•°å­¦å»ºæ¨¡-ç†µæƒæ³•</title>
    <link href="/2024/11/27/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1-%E7%86%B5%E6%9D%83%E6%B3%95/"/>
    <url>/2024/11/27/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1-%E7%86%B5%E6%9D%83%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h1 id="ç†µæƒæ³•"><a href="#ç†µæƒæ³•" class="headerlink" title="ç†µæƒæ³•"></a>ç†µæƒæ³•</h1><p>ä¿¡æ¯ç†µ</p><p>æœ¬è´¨:<strong>å¯¹ä¿¡æ¯é‡çš„æœŸæœ›å€¼</strong></p><p>$H(x)=\sum^n_{i=1}\left[p(x_i)I(x_i)\right]$</p><p>ä¿¡æ¯çš„æœŸæœ›å€¼è¶Šå¤§,å·²æŒæ¡çš„ä¿¡æ¯é‡è¶Šå°‘</p><h2 id="æ­£å‘åŒ–å¤„ç†h"><a href="#æ­£å‘åŒ–å¤„ç†h" class="headerlink" title="æ­£å‘åŒ–å¤„ç†h"></a>æ­£å‘åŒ–å¤„ç†h</h2><ul><li>æå°å‹è½¬æ¢ä¸ºæå¤§å‹:$\max(x)-x$</li><li>è¶Šé è¿‘ç‰¹å®šå€¼è¶Šå¥½çš„ä¸­é—´å‹æŒ‡æ ‡è½¬æœ€å¤§å‹:$M=\max\{|x_i-x_{best}|\},å„ä»¤\tilde x_i=1-\frac{|x_i-x_{best}|}{M}$</li><li>è½åœ¨æŸä¸ªåŒºé—´æœ€å¥½çš„ä¸­é—´å‹æŒ‡æ ‡è½¬æœ€å¤§å‹:$M=\max\{a-\min\{x_i\},\max\{x_i\}-b\}$,å†ä»¤$\tilde x_i=\begin{cases}1-\frac{a-x_i}{M},x_i<a\\1,a\leq x_i\leq b\\1-\frac{x_i-b}{m},x_i>b\end{cases}$</a\\1,a\leq></li></ul><h2 id="æ ‡å‡†åŒ–å¤„ç†"><a href="#æ ‡å‡†åŒ–å¤„ç†" class="headerlink" title="æ ‡å‡†åŒ–å¤„ç†"></a>æ ‡å‡†åŒ–å¤„ç†</h2><p>nä¸ªè¯„ä»·å¯¹è±¡,mä¸ªè¯„ä»·æŒ‡æ ‡(å·²ç»æ­£å‘åŒ–å¤„ç†),æ„æˆçŸ©é˜µ:$X=\begin{vmatrix}x_{11}&amp;x_{12}&amp;\dots&amp;x_{1m}\\x_{21}&amp;x_{22}&amp;\dots&amp;x_{2m}\\\vdots&amp;\vdots&amp;\ddots&amp;\vdots\\x_{n1}&amp;x_{n2}&amp;\dots&amp;x_{nm}\end{vmatrix}$</p><p>è®¾æ ‡å‡†åŒ–åçš„çŸ©é˜µä¸ºZ,åˆ™Zçš„æ¯ä¸€ä¸ªå…ƒç´ :$z_{ij}=\frac{x_{ij}}{\sqrt{\sum^n_{i=1}x_{ij}^2}}$</p><h2 id="è®¡ç®—æ¯”é‡çŸ©é˜µ"><a href="#è®¡ç®—æ¯”é‡çŸ©é˜µ" class="headerlink" title="è®¡ç®—æ¯”é‡çŸ©é˜µ"></a>è®¡ç®—æ¯”é‡çŸ©é˜µ</h2><p>æ¯”é‡çŸ©é˜µPçš„æ¯ä¸€ä¸ªå…ƒç´ $p_{ij}=\frac{\tilde z_{ij}}{\sum\limits^n_{i=1}\tilde z_{ij}}$,å®¹æ˜“éªŒè¯:$\sum\limits_{i=1}^np_{ij}=1$</p><p>ä¿¡æ¯ç†µ$H(x)=\sum\limits^n_{i=1}\left[p(x_i)I(x_i)\right]=-\sum\limits^n_{i=1}\left[p(x_i)\ln(p(x_i))\right]$</p><p>ç¨åŠ ä¿®æ”¹,ä»¤ä¿¡æ¯ç†µä¸º$e_j=-\frac{1}{\ln n}\sum\limits^n_{i=1}p_{ij}\ln(p_{ij})$</p>]]></content>
    
    
    <categories>
      
      <category>æ•°å­¦å»ºæ¨¡</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ•°å­¦å»ºæ¨¡</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ•°å­¦å»ºæ¨¡-æ¨¡ç³Šç»¼åˆè¯„ä»·</title>
    <link href="/2024/11/27/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1-%E6%A8%A1%E7%B3%8A%E7%BB%BC%E5%90%88%E8%AF%84%E4%BB%B7/"/>
    <url>/2024/11/27/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1-%E6%A8%A1%E7%B3%8A%E7%BB%BC%E5%90%88%E8%AF%84%E4%BB%B7/</url>
    
    <content type="html"><![CDATA[<h1 id="æ¨¡ç³Šç»¼åˆè¯„ä»·"><a href="#æ¨¡ç³Šç»¼åˆè¯„ä»·" class="headerlink" title="æ¨¡ç³Šç»¼åˆè¯„ä»·"></a>æ¨¡ç³Šç»¼åˆè¯„ä»·</h1><h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>ç°å®ä¸­çš„è®¸å¤šç°è±¡åŠå…³ç³»æ¯”è¾ƒæ¨¡ç³Š,å¦‚é«˜ä¸çŸ®,é•¿ä¸çŸ­</p><h2 id="æ¨¡ç³Šé›†åˆ"><a href="#æ¨¡ç³Šé›†åˆ" class="headerlink" title="æ¨¡ç³Šé›†åˆ"></a>æ¨¡ç³Šé›†åˆ</h2><h3 id="ä¼ ç»Ÿé›†åˆçš„æ¦‚å¿µ"><a href="#ä¼ ç»Ÿé›†åˆçš„æ¦‚å¿µ" class="headerlink" title="ä¼ ç»Ÿé›†åˆçš„æ¦‚å¿µ"></a>ä¼ ç»Ÿé›†åˆçš„æ¦‚å¿µ</h3><ul><li>äº’å¼‚æ€§</li><li>é€»è¾‘æ€§</li><li>ç‹¬ç«‹æ€§</li><li>æ— åºæ€§</li><li>çº¯ç²¹æ€§</li><li>å®Œå¤‡æ€§</li></ul><h3 id="ä¼ ç»Ÿé›†åˆçš„ç‰¹å¾å‡½æ•°"><a href="#ä¼ ç»Ÿé›†åˆçš„ç‰¹å¾å‡½æ•°" class="headerlink" title="ä¼ ç»Ÿé›†åˆçš„ç‰¹å¾å‡½æ•°"></a>ä¼ ç»Ÿé›†åˆçš„ç‰¹å¾å‡½æ•°</h3><p>Uä¸ºè®ºåŸŸ,$f_A$æ˜¯Aé›†åˆçš„ç‰¹å¾å‡½æ•°,æœ‰</p><p>$f_A:U\rightarrow \{0,1\}$</p><h3 id="æ¨¡ç³Šé›†åˆçš„éš¶å±åº¦"><a href="#æ¨¡ç³Šé›†åˆçš„éš¶å±åº¦" class="headerlink" title="æ¨¡ç³Šé›†åˆçš„éš¶å±åº¦"></a>æ¨¡ç³Šé›†åˆçš„éš¶å±åº¦</h3><p>å®šä¹‰Uä¸ºè®ºåŸŸ,$\mu_A$ä¸ºAé›†åˆçš„ç‰¹å¾å‡½æ•°,æœ‰:<br>$\mu_A:U\rightarrow [0,1]$</p><h3 id="æ¨¡ç³Šé›†åˆçš„è¡¨ç¤ºæ–¹æ³•"><a href="#æ¨¡ç³Šé›†åˆçš„è¡¨ç¤ºæ–¹æ³•" class="headerlink" title="æ¨¡ç³Šé›†åˆçš„è¡¨ç¤ºæ–¹æ³•"></a>æ¨¡ç³Šé›†åˆçš„è¡¨ç¤ºæ–¹æ³•</h3><p>å¯¹äºè®ºåŸŸ$U=&lt;x_1,x_2,\dots,x_n$,æ¨¡ç³Šé›†åˆ$A$,éš¶å±åº¦$A(x_i)(i=1,2\dots n)$</p><p>æ‰å¾·è¡¨ç¤ºæ³•:$A=\frac{A(x_1)}{x_1}+{A(x_2)}{x_2}+\dots+\frac{A(x_n)}{x_n}$</p><h3 id="æ¨¡ç³Šé›†åˆçš„åˆ†ç±»"><a href="#æ¨¡ç³Šé›†åˆçš„åˆ†ç±»" class="headerlink" title="æ¨¡ç³Šé›†åˆçš„åˆ†ç±»"></a>æ¨¡ç³Šé›†åˆçš„åˆ†ç±»</h3><p>æå°å‹:$\mu_A(x)=\begin{cases}1,x<a\\\frac{b-x}{b-a},a\leq x\leq b\\0,x>b\end{cases}$</a\\\frac{b-x}{b-a},a\leq></p><p>ä¸­é—´å‹:$\mu_A(x)=\begin{cases}0,x&lt;a\\\frac{x-a}{b-a},a\leq x&lt;b\\1,b\leq x&lt;c\\\frac{d-x}{d-c},c\leq x&lt; d\\0,x\geq d\end{cases}$</p><p>æå¤§å‹:$\mu_A(x)=\begin{cases}0,x<a\\\frac{b-x}{b-a},a\leq x\leq b\\1,x>b\end{cases}$</a\\\frac{b-x}{b-a},a\leq></p><h2 id="Fåˆ†å¸ƒç¡®å®šéš¶å±å‡½æ•°"><a href="#Fåˆ†å¸ƒç¡®å®šéš¶å±å‡½æ•°" class="headerlink" title="Fåˆ†å¸ƒç¡®å®šéš¶å±å‡½æ•°"></a>Fåˆ†å¸ƒç¡®å®šéš¶å±å‡½æ•°</h2><p>æŸ¯è¥¿åˆ†å¸ƒ:$\frac{1}{\pi \gamma \left[1+\left(\frac{x-x_0}{\gamma}^2\right)\right]}$</p>]]></content>
    
    
    <categories>
      
      <category>æ•°å­¦å»ºæ¨¡</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ•°å­¦å»ºæ¨¡</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ•°å­¦å»ºæ¨¡-å±‚æ¬¡åˆ†ææ³•</title>
    <link href="/2024/11/24/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1-%E5%B1%82%E6%AC%A1%E5%88%86%E6%9E%90%E6%B3%95/"/>
    <url>/2024/11/24/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1-%E5%B1%82%E6%AC%A1%E5%88%86%E6%9E%90%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h1 id="å±‚æ¬¡åˆ†ææ³•"><a href="#å±‚æ¬¡åˆ†ææ³•" class="headerlink" title="å±‚æ¬¡åˆ†ææ³•"></a>å±‚æ¬¡åˆ†ææ³•</h1><p><img src="image-20241124170552772.png" alt="image-20241124170552772"></p><h2 id="åˆ¤æ–­çŸ©é˜µ"><a href="#åˆ¤æ–­çŸ©é˜µ" class="headerlink" title="åˆ¤æ–­çŸ©é˜µ"></a>åˆ¤æ–­çŸ©é˜µ</h2><p>å°†å„è¦ç´ ä¹‹é—´ç›¸äº’ä¸¤ä¸¤æ¯”è¾ƒ,å¹¶ç¡®å®šå„å‡†åˆ™å±‚å¯¹ç›®æ ‡å±‚çš„æƒé‡</p><p>åˆ¤æ–­çŸ©é˜µ$A=(a_{ij})_{m\times n}=\begin{pmatrix}a_{11}&amp;a_{12}&amp;\dots&amp;a_{1n}\\\dots&amp;\dots&amp;\dots&amp;\dots\end{pmatrix}$</p><p>å…¶ä¸­Aä¸­çš„å…ƒç´ æ»¡è¶³:</p><ol><li>$a_{ij}&gt;0$</li><li>$a_{ij}=\frac{1}{a_{ji}}$</li><li>$a_{ii}=1$</li></ol><p><img src="image-20241124170637435.png" alt="Santyçš„1-9æ ‡åº¦æ–¹æ³•"></p><h2 id="ä¸€è‡´çŸ©é˜µ"><a href="#ä¸€è‡´çŸ©é˜µ" class="headerlink" title="ä¸€è‡´çŸ©é˜µ"></a>ä¸€è‡´çŸ©é˜µ</h2><p>ä¸€è‡´æ€§çš„åˆ¤æ–­æ–¹æ³•:</p><ol><li>æ­£äº’åçŸ©é˜µAçš„ç§©ä¸º1,Açš„å”¯ä¸€éé›¶ç‰¹å¾æ ¹ä¸ºn</li><li>æ­£äº’åçŸ©é˜µAçš„ä»»ä¸€åˆ—å‘é‡éƒ½æ˜¯å¯¹äºç‰¹å¾æ ¹nçš„ç‰¹å¾å‘é‡</li><li>å½“æ­£äº’åçŸ©é˜µAä¸ä¸ºä¸€è‡´é˜µæ—¶,å…¶æœ€å¤§ç‰¹å¾æ ¹$\lambda_{max}&gt;n$,$\lambda$ä¸nç›¸å·®è¶Šå¤§,å…¶ä¸ä¸€è‡´ç¨‹åº¦è¶Šå¤§</li></ol><h2 id="ä¸€è‡´æ€§æ£€éªŒ"><a href="#ä¸€è‡´æ€§æ£€éªŒ" class="headerlink" title="ä¸€è‡´æ€§æ£€éªŒ"></a>ä¸€è‡´æ€§æ£€éªŒ</h2><p><em>Consistency Index</em>:$CI=\frac{\lambda_{max}-n}{n-1}\$</p><p>$CI=\begin{cases}0,å®Œå…¨ä¸€è‡´æ€§\\æ¥è¿‘0,æ»¡æ„çš„ä¸€è‡´æ€§\\è¶Šå¤§,ä¸€è‡´æ€§è¶Šå·®\end{cases}$</p><p><strong>éšæœºä¸€è‡´æ€§æŒ‡æ ‡RI</strong>,æ„é€ 500ä¸ªåˆ¤æ–­çŸ©é˜µ$A_1,A_2,â€¦,A_{500}$,åˆ†åˆ«è®¡ç®—$\lambda_{max}$,å¾—åˆ°å…¶å„è‡ªçš„ä¸€è‡´æ€§æŒ‡æ ‡$CI_1,CI_2,â€¦,CI_{500}$</p><p>å®šä¹‰<strong>ä¸€è‡´æ€§æŒ‡æ ‡RI</strong>=$\Large\frac{CI_1+CI_2+â€¦+CI_{500}}{500}=\frac{\frac{\lambda_1+\lambda_2+â€¦+\lambda_{500}}{500}-n}{n-1}$</p><p><strong>ä¸€è‡´æ€§æ¯”ä¾‹</strong>$CR=\frac{CI}{RI}\begin{cases}&lt;0.1,åˆ¤æ–­çŸ©é˜µä¸€è‡´\\\geq 0.1, åˆ¤æ–­çŸ©é˜µä¸ä¸€è‡´\end{cases}$</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><ol><li>è§£å†³è¯„ä»·ç±»é—®é¢˜</li><li>ç”»å‡ºå±‚çº§ç»“æ„å›¾(<strong>ç›®æ ‡å±‚,å‡†åˆ™å±‚,æ–¹æ¡ˆå±‚</strong>)</li><li>æ„é€ <strong>åˆ¤æ–­çŸ©é˜µ</strong></li><li>ä¾ç…§è¯„ä»·æŒ‡æ ‡å¯¹å„ä¸ªæ–¹æ¡ˆè¿›è¡Œæ‰“åˆ†</li><li>æ±‚å‡ºæƒé‡,å¡«è¡¨,æ±‚å¾—æœ€åå¾—åˆ†</li><li>å±‚æ¬¡æ€»æ’åºä¸€è‡´æ€§æ£€éªŒ</li></ol><h2 id="MATLABä»£ç "><a href="#MATLABä»£ç " class="headerlink" title="MATLABä»£ç "></a>MATLABä»£ç </h2><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs matlab"><span class="hljs-comment">%% å±‚æ¬¡åˆ†ææ³•</span><br><span class="hljs-comment">%% è·å–åˆ¤æ–­çŸ©é˜µ</span><br><span class="hljs-built_in">disp</span>(<span class="hljs-string">&#x27;è¯·è¾“å…¥åˆ¤æ–­çŸ©é˜µA:&#x27;</span>)<br>A=input(<span class="hljs-string">&#x27;A=&#x27;</span>);<br>[n,n]=<span class="hljs-built_in">size</span>(A)<br><br><span class="hljs-comment">%% ç®—æ•°å¹³å‡æ³•æ±‚æƒé‡</span><br>sum_A = sum(A);<br>SUM_A = <span class="hljs-built_in">repmat</span>(sum_A, n, <span class="hljs-number">1</span>);<br>stand_A = A ./ SUM_A;<br><br><span class="hljs-built_in">disp</span>(<span class="hljs-string">&#x27;ç®—æ•°å¹³å‡æ³•æ±‚æƒé‡çš„ç»“æœä¸º:&#x27;</span>);<br>w1=sum(stand_A,<span class="hljs-number">2</span>)./n;<br><span class="hljs-built_in">disp</span>(w1)<br><br><span class="hljs-comment">%% ç‰¹å¾å€¼æ³•æ±‚æƒé‡</span><br>[V,D]=eig(A); <span class="hljs-comment">% Vä¸ºç‰¹å¾å‘é‡,Dä¸ºç‰¹å¾å€¼</span><br>MAX_eig = <span class="hljs-built_in">max</span>(<span class="hljs-built_in">max</span>(D)); <span class="hljs-comment">% æœ€å¤§ç‰¹å¾å€¼</span><br>[r,c] = <span class="hljs-built_in">find</span>(D == MAX_eig, <span class="hljs-number">1</span>); <span class="hljs-comment">% æœ€å¤§ç‰¹å¾å€¼æ‰€åœ¨ç‰¹å¾å€¼çŸ©é˜µä¸­çš„ä½ç½®(rä¸ºè¡Œ,cä¸ºåˆ—)</span><br>w2 = V(:,c) ./ sum(V(:,c));<br><span class="hljs-built_in">disp</span>(w2)<br><span class="hljs-built_in">disp</span>(<span class="hljs-string">&#x27;ä¸¤ç§æ–¹æ³•çš„å¹³å‡å€¼ä¸º:&#x27;</span>)<br><span class="hljs-built_in">disp</span>((w1+w2)/<span class="hljs-number">2</span>)<br><br><span class="hljs-comment">%% è®¡ç®—ä¸€è‡´æ€§æ¯”ä¾‹CR</span><br>CI=(MAX_eig-n) / (n<span class="hljs-number">-1</span>); <br>RI=[<span class="hljs-number">0</span> <span class="hljs-number">0.0001</span> <span class="hljs-number">0.52</span> <span class="hljs-number">0.89</span> <span class="hljs-number">1.12</span> <span class="hljs-number">1.26</span> <span class="hljs-number">1.36</span> <span class="hljs-number">1.41</span> <span class="hljs-number">1.46</span> <span class="hljs-number">1.49</span> <span class="hljs-number">1.52</span> <span class="hljs-number">1.54</span> <span class="hljs-number">1.56</span> <span class="hljs-number">1.58</span> <span class="hljs-number">1.59</span>]; <span class="hljs-comment">%å¸¸ç”¨éšæœºä¸€è‡´æ€§æŒ‡æ ‡</span><br>CR=CI/RI(n);<br><span class="hljs-built_in">disp</span>(<span class="hljs-string">&#x27;æœ€å¤§ç‰¹å¾å€¼ä¸º:&#x27;</span>)<br><span class="hljs-built_in">disp</span>(MAX_eig)<br><span class="hljs-built_in">disp</span>(<span class="hljs-string">&#x27;ä¸€è‡´æ€§æŒ‡æ ‡CI=&#x27;</span>);<span class="hljs-built_in">disp</span>(CI)<br><span class="hljs-built_in">disp</span>(<span class="hljs-string">&#x27;ä¸€è‡´æ€§æ¯”ä¾‹CR=&#x27;</span>);<span class="hljs-built_in">disp</span>(CR)<br><span class="hljs-keyword">if</span> CR &lt; <span class="hljs-number">0.10</span><br>    <span class="hljs-built_in">disp</span>(<span class="hljs-string">&#x27;CR&lt;0.10,è¯¥åˆ¤æ–­çŸ©é˜µAçš„ä¸€è‡´æ€§å¯ä»¥æ¥å—&#x27;</span>);<br><span class="hljs-keyword">else</span><br>    <span class="hljs-built_in">disp</span>(<span class="hljs-string">&#x27;CR&gt;=0.10,è¯¥åˆ¤æ–­çŸ©é˜µéœ€è¦è¿›è¡Œä¿®æ”¹&#x27;</span>);<br><span class="hljs-keyword">end</span><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>æ•°å­¦å»ºæ¨¡</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ•°å­¦å»ºæ¨¡</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å‚æ•°ä¼°è®¡</title>
    <link href="/2024/11/22/%E5%8F%82%E6%95%B0%E4%BC%B0%E8%AE%A1/"/>
    <url>/2024/11/22/%E5%8F%82%E6%95%B0%E4%BC%B0%E8%AE%A1/</url>
    
    <content type="html"><![CDATA[<h1 id="æ¦‚ç‡è®º-å‚æ•°ä¼°è®¡"><a href="#æ¦‚ç‡è®º-å‚æ•°ä¼°è®¡" class="headerlink" title="æ¦‚ç‡è®º-å‚æ•°ä¼°è®¡"></a>æ¦‚ç‡è®º-å‚æ•°ä¼°è®¡</h1><script type="math/tex; mode=display">ç»Ÿè®¡æ¨æ–­é—®é¢˜\left\{\begin{aligned}&å‚æ•°ä¼°è®¡\left\{\begin{aligned}&ç‚¹ä¼°è®¡\\\\&åŒºé—´ä¼°è®¡\\\end{aligned}\right.\\\\&å‡è®¾æ£€éªŒ\end{aligned}\right.</script><h2 id="ç‚¹ä¼°è®¡"><a href="#ç‚¹ä¼°è®¡" class="headerlink" title="ç‚¹ä¼°è®¡"></a>ç‚¹ä¼°è®¡</h2><p>è®¾æ€»ä½“Xçš„åˆ†å¸ƒå‡½æ•°F(x;$\theta$)å½¢å¼ä¸ºå·²çŸ¥,$\theta$æ˜¯å¾…ä¼°å‚æ•°.$X_1,X_2â€¦X_n$æ˜¯Xçš„ä¸€ä¸ªæ ·æœ¬,$x_1,x_2,â€¦x_n$,æ˜¯ç›¸åº”çš„ä¸€ä¸ªæ ·æœ¬å€¼.</p><p>ç‚¹ä¼°è®¡é—®é¢˜å°±æ˜¯è¦æ„é€ ä¸€ä¸ªé€‚å½“çš„ç»Ÿè®¡é‡$\hat\theta(X_1,X_2â€¦X_n)$,ç”¨å®ƒçš„è§‚å¯Ÿå€¼$\hat\theta(x_1,x_2â€¦x_n)$ä½œä¸ºæœªçŸ¥å‚æ•°$\theta$çš„è¿‘ä¼¼å€¼,</p><p>æˆ‘ä»¬ç§°$\hat\theta(X_1,X_2â€¦X_n)$ä¸º0çš„ä¼°è®¡é‡,ç§°$\hat\theta(x_1,x_2â€¦x_n)$ä¸º0çš„ä¼°è®¡å€¼.ç»Ÿç§°ä¸º<strong>ä¼°è®¡</strong>,å¹¶éƒ½ç®€è®°ä¸º$\hat \theta$</p><h2 id="å¸¸ç”¨çš„ç‚¹ä¼°è®¡æ–¹æ³•-çŸ©æ³•"><a href="#å¸¸ç”¨çš„ç‚¹ä¼°è®¡æ–¹æ³•-çŸ©æ³•" class="headerlink" title="å¸¸ç”¨çš„ç‚¹ä¼°è®¡æ–¹æ³•:çŸ©æ³•"></a>å¸¸ç”¨çš„ç‚¹ä¼°è®¡æ–¹æ³•:<strong>çŸ©æ³•</strong></h2><ul><li>ç”¨æ ·æœ¬çš„ké˜¶çŸ©ä½œä¸ºæ€»ä½“çš„ké˜¶çŸ©çš„ä¼°è®¡é‡</li><li>å»ºç«‹å«æœ‰å¾…ä¼°è®¡å‚æ•°çš„æ–¹ç¨‹</li><li>ä»è€Œå¯è§£å‡ºå¾…ä¼°è®¡å‚æ•°</li></ul><h2 id="å¸¸ç”¨çš„ç‚¹ä¼°è®¡æ–¹æ³•-æå¤§ä¼¼ç„¶æ³•"><a href="#å¸¸ç”¨çš„ç‚¹ä¼°è®¡æ–¹æ³•-æå¤§ä¼¼ç„¶æ³•" class="headerlink" title="å¸¸ç”¨çš„ç‚¹ä¼°è®¡æ–¹æ³•:æå¤§ä¼¼ç„¶æ³•"></a>å¸¸ç”¨çš„ç‚¹ä¼°è®¡æ–¹æ³•:æå¤§ä¼¼ç„¶æ³•</h2><p>æ€æƒ³æ–¹æ³•:ä¸€æ¬¡è¯•éªŒå°±å‡ºç°çš„äº‹ä»¶æœ‰è¾ƒå¤§çš„æ¦‚ç‡</p><p>$L(P)=p^{\mathop\Sigma\limits_{i=1}^n x_i}(1-p)^{n-\mathop\Sigma\limits_{i=1}^n x_i}$</p><p>é€‰æ‹©æ°å½“çš„$\theta=\hat\theta$,ä½¿å¾—$L(\theta)$å–æœ€å¤§å€¼,å³</p><p>$L(x_1,x_2,â€¦,x_n,\hat\theta)=\max\limits_{\theta\in \Theta}\{f(x_1,\theta)f(x_2,\theta)â€¦f(x_n,\theta)\}$</p><p>åˆ™ç§°è¿™æ ·çš„$\hat\theta=g(x_1,x_2,â€¦,x_n)$å‚æ•°$\theta$çš„æå¤§ä¼¼ç„¶ä¼°è®¡å€¼</p><h3 id="æå¤§ä¼¼ç„¶ä¼°è®¡å€¼çš„ä¸å˜æ€§å®šç†"><a href="#æå¤§ä¼¼ç„¶ä¼°è®¡å€¼çš„ä¸å˜æ€§å®šç†" class="headerlink" title="æå¤§ä¼¼ç„¶ä¼°è®¡å€¼çš„ä¸å˜æ€§å®šç†"></a>æå¤§ä¼¼ç„¶ä¼°è®¡å€¼çš„ä¸å˜æ€§å®šç†</h3><p>è®¾$\hat\theta$æ˜¯$\theta$çš„æå¤§ä¼¼ç„¶ä¼°è®¡å€¼,$u(\theta)(\theta\in\Theta)$æ˜¯$\theta$çš„å‡½æ•°,ä¸”å…·æœ‰å•å€¼çš„åå‡½æ•°$\theta=\theta(u),u\in U$,åˆ™$\hat u=u(\hat\theta)$æ˜¯$u(\theta)$çš„æå¤§ä¼¼ç„¶ä¼°è®¡å€¼</p><h2 id="ç‚¹ä¼°è®¡çš„è¯„ä»·æ ‡å‡†"><a href="#ç‚¹ä¼°è®¡çš„è¯„ä»·æ ‡å‡†" class="headerlink" title="ç‚¹ä¼°è®¡çš„è¯„ä»·æ ‡å‡†"></a>ç‚¹ä¼°è®¡çš„è¯„ä»·æ ‡å‡†</h2><ul><li>æ— åæ€§</li><li>æœ‰æ•ˆæ€§</li><li>ä¸€è‡´æ€§</li></ul><h3 id="æ— åæ€§"><a href="#æ— åæ€§" class="headerlink" title="æ— åæ€§"></a>æ— åæ€§</h3><p>å®šä¹‰:è®¾$(X_1,X_2,â€¦,X_n)$æ˜¯æ€»ä½“Xçš„æ ·æœ¬,$\hat\theta=\hat\theta(X_1,X_2,â€¦,X_n)$æ˜¯æ€»ä½“å‚æ•°$\theta$çš„ä¼°è®¡é‡,$E(\hat\theta)$å­˜åœ¨,å¦‚æœ:</p><p>$E(\hat\theta)=\theta$</p><p>åˆ™ç§°$\hat\theta$ä¸º$\theta$çš„æ— åä¼°è®¡é‡</p><p>åœ¨ä¼°è®¡æ—¶,ä»¥æ ·æœ¬æ–¹å·®$S^2$ä¼°è®¡æ€»ä½“æ–¹å·®</p><h3 id="æœ‰æ•ˆæ€§"><a href="#æœ‰æ•ˆæ€§" class="headerlink" title="æœ‰æ•ˆæ€§"></a>æœ‰æ•ˆæ€§</h3><p>$è®¾\hat\theta_1=\theta_1(X_1,X_2,â€¦,X_n)\\\hat\theta_2=\theta_2(X_1,X_2,â€¦,X_n)$</p><p>éƒ½æ˜¯æ€»ä½“å‚æ•°$\theta$çš„æ— åä¼°è®¡é‡,ä¸”</p><p>$D(\hat\theta_1)&lt;D(\hat\theta_2)$</p><p>åˆ™ç§°$\hat\theta_1$æ¯”$\hat\theta_2$æ›´æœ‰æ•ˆ</p><h3 id="ä¸€è‡´æ€§"><a href="#ä¸€è‡´æ€§" class="headerlink" title="ä¸€è‡´æ€§"></a>ä¸€è‡´æ€§</h3><h2 id="ä½¿ç”¨åˆ°çš„åˆ†å¸ƒ"><a href="#ä½¿ç”¨åˆ°çš„åˆ†å¸ƒ" class="headerlink" title="ä½¿ç”¨åˆ°çš„åˆ†å¸ƒ"></a>ä½¿ç”¨åˆ°çš„åˆ†å¸ƒ</h2><h3 id="å¡æ–¹åˆ†å¸ƒ-chi-square-distribution"><a href="#å¡æ–¹åˆ†å¸ƒ-chi-square-distribution" class="headerlink" title="å¡æ–¹åˆ†å¸ƒ(chi-square distribution)"></a>å¡æ–¹åˆ†å¸ƒ(chi-square distribution)</h3><p>è‹¥nä¸ªç›¸äº’ç‹¬ç«‹çš„éšæœºå˜é‡$X_1,X_2\dots X_n$å‡æœä»<strong>æ ‡å‡†æ­£æ€åˆ†å¸ƒ</strong>,åˆ™nä¸ªæœä»æ ‡å‡†æ­£æ€åˆ†å¸ƒçš„éšæœºå˜é‡çš„å¹³æ–¹å’Œ$Q=\sum^n_{i=1}X_i^2$æ„æˆä¸€ä¸ªæ–°çš„éšæœºå˜é‡,å…¶åˆ†å¸ƒè§„å¾‹ç§°ä¸º$\chi^2$åˆ†å¸ƒ,è®°ä½œ$Q\sim \chi^2(v),å…¶ä¸­v=n-k$</p><p><img src="2f2f74dc62993ccc0ca878a66db81c2.png" alt="å¡æ–¹åˆ†å¸ƒ"></p><h3 id="t-åˆ†å¸ƒ-t-distribution"><a href="#t-åˆ†å¸ƒ-t-distribution" class="headerlink" title="t-åˆ†å¸ƒ(t-distribution)"></a>t-åˆ†å¸ƒ(t-distribution)</h3><ul><li>æ ¹æ®å°æ ·æœ¬æ¥ä¼°è®¡å‘ˆæ­£æ€åˆ†å¸ƒä¸”æ–¹å·®æœªçŸ¥çš„æ€»ä½“çš„å‡å€¼</li><li>å‡å¦‚$X\sim N(0,1),Y\sim \chi^2(n)$,åˆ™$Z=\dfrac{X}{\sqrt{Y/N}}$ç§°ä¸ºè‡ªç”±åº¦ä¸ºnçš„åˆ†å¸ƒ,è®°ä¸º$Z\sim t(n)$</li><li>åˆ†å¸ƒå¯†åº¦å‡½æ•°$f_Z(x)=\dfrac{\Gamma(\dfrac{n+1}{2})}{\sqrt{n\pi}\Gamma(\dfrac{n}{2})}(1+\dfrac{x^2}{n})^{-\dfrac{n+1}{2}}$</li></ul><h3 id="Fåˆ†å¸ƒ"><a href="#Fåˆ†å¸ƒ" class="headerlink" title="Fåˆ†å¸ƒ"></a>Fåˆ†å¸ƒ</h3><ul><li><p>è‹¥æ€»ä½“$X\sim N(0,1)$,$(X_1,X_2,\dots,X_{n_1})$ä¸$(Y_1,Y_2,\dots,Y_{n_2})$æ¥è‡ªXçš„ä¸¤ä¸ªç‹¬ç«‹æ ·æœ¬,è®¾ç»Ÿè®¡é‡</p><p>$F=\dfrac{\sum^{n_1}_{i=1}X_i^2}{n_1}/\dfrac{\sum^n_{i=1}Y_i^2}{n_2}$</p><p>åˆ™ç§°ç»Ÿè®¡é‡$F$æœä»è‡ªç”±åº¦$n_1$å’Œ$n_2$çš„Fåˆ†å¸ƒ,è®°ä½œ$F\sim F(n_1,n_2)$</p></li></ul><p><img src="F1.png" alt="Fåˆ†å¸ƒ"></p><h3 id="è¾¨åˆ«ä¸‰ç§æŠ½æ ·åˆ†å¸ƒ"><a href="#è¾¨åˆ«ä¸‰ç§æŠ½æ ·åˆ†å¸ƒ" class="headerlink" title="è¾¨åˆ«ä¸‰ç§æŠ½æ ·åˆ†å¸ƒ"></a>è¾¨åˆ«ä¸‰ç§æŠ½æ ·åˆ†å¸ƒ</h3><blockquote><p>$Xå’ŒYç›¸äº’ç‹¬ç«‹ä¸”éƒ½æœä»N(0,\sigma^2),è€ŒX_1,X_2,\dots,X_9å’ŒY_1,Y_2,\dots,Y_9åˆ†åˆ«æ˜¯æ¥è‡ªæ€»ä½“Xå’ŒYçš„ç®€å•éšæœºæ ·æœ¬$</p></blockquote><p>$(1)\frac{1}{3\sigma}\sum^9_{i=1}X_i\sim N(0,1)$</p><p>$(2)\frac{1}{\sigma^2}\sum^9_{i=1}Y_i^2=\sum^9_{i=1}(\dfrac{Y_i}{\sigma})^2\sim\chi^2(9)$</p><p>$(3)U=\dfrac{\dfrac{1}{\sqrt{9\sigma}}\sum^9_{i=1}X_i}{\sqrt{\dfrac{1}{\sigma^2}\sum^9_{i=1}Y_i^2/9}}\sim t(n)$</p><p>$(4)U^2=\dfrac{\left(\dfrac{1}{\sqrt{9\sigma}}\sum^9_{i=1}X_i\right)^2/1}{\left(\sqrt{\dfrac{1}{\sigma^2}\sum^9_{i=1}Y_i^2}\right)^2/9}\sim F(1,9)$</p><h2 id="åŒºé—´ä¼°è®¡"><a href="#åŒºé—´ä¼°è®¡" class="headerlink" title="åŒºé—´ä¼°è®¡"></a>åŒºé—´ä¼°è®¡</h2><p><strong>ç½®ä¿¡ç©ºé—´</strong>æ˜¯æŒ‡ç”±æ ·æœ¬ç»Ÿè®¡é‡æ‰€æ„æˆçš„æ€»ä½“å‚æ•°çš„ä¼°è®¡åŒºé—´.å±•ç°çš„æ˜¯è¿™ä¸ªå‚æ•°çš„çœŸå®å€¼æœ‰ä¸€å®šæ¦‚ç‡è½åœ¨æµ‹é‡ç»“æœçš„å‘¨å›´çš„ç¨‹åº¦,å…¶ç»™å‡ºçš„æ˜¯è¢«æµ‹é‡å‚æ•°çš„æµ‹é‡å€¼çš„å¯ä¿¡ç¨‹åº¦,å³å‰é¢æ‰€è¦æ±‚çš„ä¸€ä¸ªæ¦‚ç‡.</p><p>$(\bar X-Z_{1-\alpha/2}{\sqrt\frac{\sigma^2}{n}},\bar X+Z_{1-\alpha/2}{\sqrt\frac{\sigma^2}{n}})$</p><p>$\bar X-Z_{1-\alpha/2\sqrt{\frac{\sigma^2}{n}}}$:$\mu$çš„ç½®ä¿¡ä¸‹é™</p><p>$\bar X+Z_{1-\alpha/2\sqrt{\frac{\sigma^2}{n}}}$:$\mu$çš„ç½®ä¿¡ä¸Šé™</p><p>$1-\alpha$:ç½®ä¿¡åº¦</p><h3 id="å¸¸ç”¨å…¬å¼"><a href="#å¸¸ç”¨å…¬å¼" class="headerlink" title="å¸¸ç”¨å…¬å¼"></a>å¸¸ç”¨å…¬å¼</h3><h4 id="1-æ–¹å·®-sigma-2-å·²çŸ¥-mu-çš„ç½®ä¿¡åŒºé—´"><a href="#1-æ–¹å·®-sigma-2-å·²çŸ¥-mu-çš„ç½®ä¿¡åŒºé—´" class="headerlink" title="(1)æ–¹å·®$\sigma^2$å·²çŸ¥,$\mu$çš„ç½®ä¿¡åŒºé—´"></a>(1)æ–¹å·®$\sigma^2$å·²çŸ¥,$\mu$çš„ç½®ä¿¡åŒºé—´</h4><p>$(\bar X-Z_{1-\alpha/2}\sqrt{\frac{\sigma^2}{n}},\bar X+Z_{1-\alpha/2}\sqrt{\frac{\sigma^2}{n}})$</p><p>æ¨å¯¼:ç”±$\bar X\sim N(\mu, \frac{\sigma}{\sqrt n})$é€‰å–æ¢è½´é‡</p><p>$\frac{\bar X-\mu}{\frac{\sigma}{\sqrt n}}\sim N(0,1)$</p><p>(å…¶ä¸­Zå€¼æ ¹æ®ä¸‹æ–‡æ ‡å‡†æ­£æ€åˆ†å¸ƒè¡¨æŸ¥è¡¨å¾—)</p><h4 id="2-æ–¹å·®-sigma-2-æœªçŸ¥-mu-çš„ç½®ä¿¡åŒºé—´"><a href="#2-æ–¹å·®-sigma-2-æœªçŸ¥-mu-çš„ç½®ä¿¡åŒºé—´" class="headerlink" title="(2)æ–¹å·®$\sigma^2$æœªçŸ¥,$\mu$çš„ç½®ä¿¡åŒºé—´"></a>(2)æ–¹å·®$\sigma^2$æœªçŸ¥,$\mu$çš„ç½®ä¿¡åŒºé—´</h4><p>é€‰å–æ¢è½´é‡:$T=\frac{\bar X-\mu}{\frac{S}{\sqrt n}}\sim T(n-1)$</p><p>ç”±$P\left( \left|\frac{\bar X-\mu}{\frac{S}{\sqrt n}}\right| \geq t_{1-\frac{\alpha}{2}}(n-1)\right)=\alpha$</p><p>å…¶ä¸­$\frac{1}{n-1}\sum^n_{i=1}(X_i-\bar X)^2=S^2$</p><p>$\left(\bar X-t_{1-\alpha/2}(n-1)\frac{S}{\sqrt n},\bar X+t_{1-\alpha/2}(n-1)\frac{S}{\sqrt n}\right)$</p><p>(å…¶ä¸­$t$å€¼æ ¹æ®ä¸‹æ–‡Tåˆ†å¸ƒè¡¨æŸ¥è¡¨å¾—)</p><h4 id="3-å½“-mu-å·²çŸ¥æ—¶-æ–¹å·®-sigma-2-çš„ç½®ä¿¡ç©ºé—´"><a href="#3-å½“-mu-å·²çŸ¥æ—¶-æ–¹å·®-sigma-2-çš„ç½®ä¿¡ç©ºé—´" class="headerlink" title="(3)å½“$\mu$å·²çŸ¥æ—¶,æ–¹å·®$\sigma^2$çš„ç½®ä¿¡ç©ºé—´$"></a>(3)å½“$\mu$å·²çŸ¥æ—¶,æ–¹å·®$\sigma^2$çš„ç½®ä¿¡ç©ºé—´$</h4><p>$æ¢è½´é‡Q=\sum\limits_{i=1}^n\left(\frac{X_i-\mu}{\sigma}\right)^2\sim \chi^2(n)$</p><p>ç”±æ¦‚ç‡$P\left(\chi_{\alpha/2}^2(n)&lt;\frac{\sum^n_{i=1}(X_i-\mu)^2}{\sigma^2}&lt;\chi_{1-\alpha/2}^2(n)\right)=1-\alpha$</p><p>$\sigma^2çš„ç½®ä¿¡åº¦ä¸º1-\alphaç½®ä¿¡åŒºé—´ä¸º:\\\left(\frac{\sum_{i=1}^n(X_i-\mu)^2}{\chi_{1-\alpha/2}^2(n)},\frac{\sum_{i=1}^n(X_i-\mu)^2}{\chi_{\alpha/2}^2(n)}\right)$</p><p>$\chi_{\alpha/2}^2(n)ä»ä¸‹æ–‡å¡æ–¹åˆ†å¸ƒè¡¨ä¸­å¾—åˆ°$</p><h4 id="4-ç”±-mu-æœªçŸ¥æ—¶-æ–¹å·®-sigma-2-çš„ç½®ä¿¡åŒºé—´"><a href="#4-ç”±-mu-æœªçŸ¥æ—¶-æ–¹å·®-sigma-2-çš„ç½®ä¿¡åŒºé—´" class="headerlink" title="(4)ç”±$\mu$æœªçŸ¥æ—¶,æ–¹å·®$\sigma^2$çš„ç½®ä¿¡åŒºé—´"></a>(4)ç”±$\mu$æœªçŸ¥æ—¶,æ–¹å·®$\sigma^2$çš„ç½®ä¿¡åŒºé—´</h4><p>$\frac{(n-1)S^2}{\sigma^2}\sim \chi^2(n-1)$</p><p>$P(\chi_{\alpha/2}^2&lt;\frac{(n-1)s^2}{\sigma^2}&lt;\chi_{1-\alpha/2}^2)=1-\alpha$</p><p>$\sigma^2çš„ç½®ä¿¡åº¦ä¸º1-\alphaç½®ä¿¡åŒºé—´ä¸º:\\\left(\frac{(n-1)S^2}{\chi_{1-\alpha/2}^2(n-1)},\frac{(n-1)S^2}{\chi_{\alpha/2}^2(n-1)}\right)$</p><h3 id="å•ä¾§ç½®ä¿¡ç©ºé—´"><a href="#å•ä¾§ç½®ä¿¡ç©ºé—´" class="headerlink" title="å•ä¾§ç½®ä¿¡ç©ºé—´"></a>å•ä¾§ç½®ä¿¡ç©ºé—´</h3><p>$P(\theta&gt;\theta)=1-\alpha/P(\theta&lt;\theta)=1-\alpha$</p><p>$(-\infty,\bar \theta)æˆ–è€…(\underline \theta,+\infty)$ä¸ºç½®ä¿¡åº¦$1-\alpha$çš„å•ä¾§ç½®ä¿¡ç©ºé—´</p><h2 id="åˆ†å¸ƒè¡¨"><a href="#åˆ†å¸ƒè¡¨" class="headerlink" title="åˆ†å¸ƒè¡¨"></a>åˆ†å¸ƒè¡¨</h2><p><img src="image-20241124145810223.png" alt="æ ‡å‡†æ­£æ€åˆ†å¸ƒè¡¨"></p><p><img src="image-20241124150852368.png" alt="å¡æ–¹åˆ†å¸ƒè¡¨"></p><p><img src="72c3c6096138257fe8417c26946a591.png" alt="Fæ£€éªŒä¸´ç•Œå€¼è¡¨alpha=0.05"></p><p><img src="image-20241124094936717.png" alt="Fæ£€éªŒä¸´ç•Œå€¼è¡¨alpha=0.025"></p><p><img src="image-20241124095021691.png" alt="Fæ£€éªŒä¸´ç•Œå€¼è¡¨alpha=0.01"></p><p><img src="image-20241124093640970.png" alt="Tåˆ†å¸ƒè¡¨"></p>]]></content>
    
    
    <categories>
      
      <category>æ¦‚ç‡ä¸æ•°ç†æ¨¡å‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ¦‚ç»Ÿ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç¦»æ•£æ•°å­¦-è‡ªç„¶æ•°å’ŒåŸºæ•°</title>
    <link href="/2024/11/22/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6-%E8%87%AA%E7%84%B6%E6%95%B0%E5%92%8C%E5%9F%BA%E6%95%B0/"/>
    <url>/2024/11/22/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6-%E8%87%AA%E7%84%B6%E6%95%B0%E5%92%8C%E5%9F%BA%E6%95%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="è‡ªç„¶æ•°å’ŒåŸºæ•°"><a href="#è‡ªç„¶æ•°å’ŒåŸºæ•°" class="headerlink" title="è‡ªç„¶æ•°å’ŒåŸºæ•°"></a>è‡ªç„¶æ•°å’ŒåŸºæ•°</h1><p><strong>åç»§é›†åˆ</strong>:å¯¹äºä»»æ„é›†åˆA,å…¶åç»§é›†åˆ$A^+$å®šä¹‰ä¸º:$A^+=A\cup\{A\}$</p><p>$i)\emptyset^+=\{\emptyset\}$</p><p>$ii)\{\emptyset\}^+=\{\emptyset,\{\emptyset\}\}$</p><p>$iii)A\in A^+$</p><p>$iv)A\subseteq A^+$</p><p>$v)A^+\neq \emptyset$</p><h2 id="è‡ªç„¶æ•°ç³»ç»Ÿ"><a href="#è‡ªç„¶æ•°ç³»ç»Ÿ" class="headerlink" title="è‡ªç„¶æ•°ç³»ç»Ÿ"></a>è‡ªç„¶æ•°ç³»ç»Ÿ</h2><h2 id="å†¯è¯ºä¾æ›¼æ–¹æ¡ˆ"><a href="#å†¯è¯ºä¾æ›¼æ–¹æ¡ˆ" class="headerlink" title="å†¯è¯ºä¾æ›¼æ–¹æ¡ˆ"></a>å†¯è¯ºä¾æ›¼æ–¹æ¡ˆ</h2><script type="math/tex; mode=display">\begin{aligned}&0=\emptyset\\&1=0^+=\{\emptyset\}=\{0\}\\&2=1^+=\{\emptyset,\{\emptyset\}\}=\{0,1\}\\&...\\&n+1=n^+=...=\{0,1,...,n\}\end{aligned}</script><h3 id="è‡ªç„¶æ•°é›†åˆ-å½’çº³å®šä¹‰æ³•"><a href="#è‡ªç„¶æ•°é›†åˆ-å½’çº³å®šä¹‰æ³•" class="headerlink" title="è‡ªç„¶æ•°é›†åˆ(å½’çº³å®šä¹‰æ³•)"></a>è‡ªç„¶æ•°é›†åˆ(å½’çº³å®šä¹‰æ³•)</h3><script type="math/tex; mode=display">\begin{aligned}&i)0\in N,0=\emptyset\\&ii)n\in N,n^+\in N\\&iii)S\subseteq Næ»¡è¶³\\&\ 1)0\in S\\&\ 2)å¦‚æœn\in S,åˆ™n^+\in S\\&\ åˆ™S=N\end{aligned}</script><h3 id="å¤§å°-å°äº"><a href="#å¤§å°-å°äº" class="headerlink" title="å¤§å°/å°äº"></a>å¤§å°/å°äº</h3><p>å¯¹æ¯ä¸ªè‡ªç„¶æ•°$n\in N$,çš†æœ‰$n\in n^+$åŠ$n\subseteq n^+$</p><p>è‹¥$m,n\in N$ä½¿å¾—$m\in n$,åˆ™ç§°må°äºn,è®°ä¸º$m&lt;n$</p><h3 id="å®šç†"><a href="#å®šç†" class="headerlink" title="å®šç†"></a>å®šç†</h3><p>$proof:\forall n\in N:\bigcup n^+=n$</p><script type="math/tex; mode=display">\begin{aligned}&S=\{n|n\in Nä¸”\bigcup n^+=n\}\\&1)0\in S:0\in Nä¸”\bigcup\{\emptyset\}=\emptyset=0\\&2)è‹¥n\in S,åˆ™\bigcup n^+=nä¸”n\in N\\&\therefore n^+\in N,\bigcup((n^+)^+)=\bigcup(n^+\cup\{n^+\})\\&=(\bigcup n^+)\cup(\bigcup\{n^+\})=n\cup n^+=n^+\\&\therefore n^+\in S\end{aligned}</script><h2 id="çš®äºšè¯ºå…¬ç†"><a href="#çš®äºšè¯ºå…¬ç†" class="headerlink" title="çš®äºšè¯ºå…¬ç†"></a>çš®äºšè¯ºå…¬ç†</h2><script type="math/tex; mode=display">\begin{aligned}&1)0\in N\\&2)n\in N,åˆ™æœ‰å”¯ä¸€çš„åç»§n^+\in N\\&3)n\in N,åˆ™n^+\neq 0\\&4)n,m\in Nä¸”n^+=m^+,åˆ™n=m\\&5)è‹¥S\subseteq Næ»¡è¶³i)0\in S,ii)å¦‚æœn\in S,åˆ™n^+\in S\\&åˆ™S=n\end{aligned}</script><h2 id="ç¬¬ä¸€æ•°å­¦å½’çº³æ³•"><a href="#ç¬¬ä¸€æ•°å­¦å½’çº³æ³•" class="headerlink" title="ç¬¬ä¸€æ•°å­¦å½’çº³æ³•"></a>ç¬¬ä¸€æ•°å­¦å½’çº³æ³•</h2><p>P(n)æ˜¯è‡ªç„¶æ•°é›†åˆä¸Šçš„æ€§è´¨(æˆ–<strong>è°“è¯</strong>),å¦‚æœèƒ½è¯æ˜</p><p>1)$P(0)$æ˜¯çœŸ</p><p>2)å¯¹ä»»ä½•$n\in N$,$P(n)\Rightarrow P(n^+)$</p><p>åˆ™å¯¹æ‰€æœ‰$n\in N$,P(n)ä¸ºçœŸ</p><p>å³:</p><p>$P(0)\wedge (\forall n)(P(n)\rightarrow P(n+1))\Rightarrow (\forall n)P(n)$</p><script type="math/tex; mode=display">\begin{aligned}&S=\{n|n\in N,P(n_0+n)ä¸ºçœŸ\}\\&0\in  S:0\in Nä¸”P(n_0+0)ä¸ºçœŸ\\&è‹¥n\in S,åˆ™n\in Nä¸”P(n+n_0)ä¸ºçœŸ\\&å› ä¸º:n_0+n^+=(n_0+n)^+\\&å› æ­¤:P(n^++n_0)ä¸ºçœŸ,n^+\in S\end{aligned}</script><h2 id="ç¬¬äºŒæ•°å­¦å½’çº³æ³•-å¼ºå½’çº³å®šç†"><a href="#ç¬¬äºŒæ•°å­¦å½’çº³æ³•-å¼ºå½’çº³å®šç†" class="headerlink" title="ç¬¬äºŒæ•°å­¦å½’çº³æ³•(å¼ºå½’çº³å®šç†)"></a>ç¬¬äºŒæ•°å­¦å½’çº³æ³•(å¼ºå½’çº³å®šç†)</h2><p>$\forall n\in N,ä»¤\overline{N_n}=N-N_n=\{n,n+1,n+2,â€¦\}$</p><p>$(\forall n)((\forall k)(k&lt;n\rightarrow P(k))\rightarrow P(n))\Rightarrow (\forall x)P(x)$</p><script type="math/tex; mode=display">\begin{aligned}&Q(n):è‹¥k\in Nä¸”n_0\leq k\leq n,åˆ™P(k)ä¸ºçœŸ\\&Q(n)æ»¡è¶³ç¬¬ä¸€å½’çº³æ³•\\&æ˜¾ç„¶Q(n_0)å³ä¸ºçœŸ,æ‰€ä»¥Q(n_0)ä¸ºçœŸ\\&å‡è®¾å¯¹ä»»æ„n\in\overline{ N_{n_0} },Q(n)ä¸ºçœŸ\\&è‹¥k\in Nä¸”n_0\leq k\leq n,åˆ™P(k)ä¸ºçœŸ\\&å› æ­¤,å½“k\in Nä¸”n_0< n^+æ—¶,P(k)ä¹Ÿçš†ä¸ºçœŸ\\&P(n^+)ä¸ºçœŸ,è¡¨æ˜Q(n^+)ä¸ºçœŸ\\&æ ¹æ®ç¬¬ä¸€å½’çº³æ³•,å¯¹ä»»æ„n\in \overline{ N_{n_0} },P(n)ä¸ºçœŸ\end{aligned}</script><p><img src="image-20241122095313913.png" alt="å¼ºå½’çº³å®šç†"></p><h2 id="äºŒé‡å½’çº³åŸç†"><a href="#äºŒé‡å½’çº³åŸç†" class="headerlink" title="äºŒé‡å½’çº³åŸç†"></a>äºŒé‡å½’çº³åŸç†</h2><p>è®¾$i_0,j_0\in N$,å‡å®šå¯¹ä»»æ„è‡ªç„¶æ•°$i\geq i_0$åŠ$j\geq j_0$çš†æœ‰ä¸€ä¸ªå‘½é¢˜$P(i,j)$æ»¡è¶³:</p><ol><li>$P(i_0,j_0)$çœŸ</li><li>å¯¹ä»»æ„è‡ªç„¶æ•°$k\geq i_0,l\geq j_0$,è‹¥$P(k,l)çœŸ,åˆ™P(k+1,l)å’ŒP(k,l+1)$çš†çœŸ</li></ol><p>åˆ™å¯¹ä»»æ„è‡ªç„¶æ•°$i\geq i_0,j\geq j_0,P(i,j)$çš†çœŸ</p><h1 id="åŸºæ•°"><a href="#åŸºæ•°" class="headerlink" title="åŸºæ•°"></a>åŸºæ•°</h1><h2 id="ç­‰åŠ¿"><a href="#ç­‰åŠ¿" class="headerlink" title="ç­‰åŠ¿"></a>ç­‰åŠ¿</h2><p>ä»Aåˆ°Bçš„åŒå°„,åˆ™ç§°Aå’ŒBç›¸ç­‰/ç­‰åŠ¿,è®°ä¸º$A\sim B$</p><p>æ— ç©·é›†åˆå¯ä»¥ä¸å®ƒæœ¬èº«çš„çœŸå­é›†<strong>ç­‰åŠ¿</strong></p><h3 id="é¸½ç¬¼åŸç†"><a href="#é¸½ç¬¼åŸç†" class="headerlink" title="é¸½ç¬¼åŸç†"></a>é¸½ç¬¼åŸç†</h3><p>ä»»ä½•æœ‰é™é›†éƒ½ä¸èƒ½ä¸å®ƒçš„çœŸå­é›†å¯¹ç­‰</p><p><strong>ä»»ä½•ä¸è‡ªèº«çœŸå­é›†ç­‰åŠ¿çš„é›†åˆå‡æ˜¯æ— ç©·é›†åˆ</strong></p><h2 id="é›†åˆçš„åŸºæ•°"><a href="#é›†åˆçš„åŸºæ•°" class="headerlink" title="é›†åˆçš„åŸºæ•°"></a>é›†åˆçš„åŸºæ•°</h2><p>$è®¾n\in N,A\sim n,åˆ™#(A)=n$</p><p>æ— é™é›†çš„åŸºæ•°:$#(N)=\aleph_0$</p><p><strong>ä»»æ„ä¸¤ä¸ªåŸºæ•°éƒ½å¯ä»¥æ¯”è¾ƒå¤§å°</strong></p><h2 id="ç›¸ç­‰å’Œå¤§å°é¡ºåº"><a href="#ç›¸ç­‰å’Œå¤§å°é¡ºåº" class="headerlink" title="ç›¸ç­‰å’Œå¤§å°é¡ºåº"></a>ç›¸ç­‰å’Œå¤§å°é¡ºåº</h2><ol><li>å¦‚æœ$A\sim B$,å°±ç§°Aå’ŒBçš„åŸºæ•°ç›¸ç­‰,è®°ä½œ$#(A)=#(B)$</li><li>å¦‚æœå­˜åœ¨ä»Aåˆ°Bçš„å•å°„,å°±ç§°Açš„åŸºæ•°å°äºç­‰äºBçš„åŸºæ•°,è®°ä½œ$#(A)\leq#(B)$</li></ol><h2 id="æ— ç©·é›†çš„ç­‰ä»·æ¡ä»¶"><a href="#æ— ç©·é›†çš„ç­‰ä»·æ¡ä»¶" class="headerlink" title="æ— ç©·é›†çš„ç­‰ä»·æ¡ä»¶"></a>æ— ç©·é›†çš„ç­‰ä»·æ¡ä»¶</h2><p>ä»¥ä¸‹ä¸‰ä¸ªæ¡ä»¶ç­‰ä»·:</p><ol><li>Aä¸ºæ— ç©·é›†</li><li>Aæœ‰å¯æ•°æ— ç©·å­é›†</li><li>Aæœ‰ä¸å®ƒå¯¹ç­‰çš„çœŸå­é›†</li></ol><script type="math/tex; mode=display">\begin{aligned}&1)\rightarrow 2)\\&è®¾Aä¸ºæ— é™é›†,å–a_0\in A,å¯¹æ¯ä¸ªn\in N,è‹¥\{a_0,a_1,\dots,a_n\}\subseteq A,\\&åˆ™å¿…æœ‰a_{n+1}\in Aä¸”a_{n+1}\notin \{a_1,a_2,\dots,a_n\},å› æ­¤,B=\{a_i|i\in N\}å³ä¸ºAçš„å¯åˆ—å­é›†\\&2)\rightarrow 3)\\&Aæ— ç©·,\therefore A\neq \empty\\&ä»»å–a_1\in A\\&å†å–a_2\in A-\{a_1\}\\&\dots\\&C=\{a_1,a_2\dots,a_n,\dots\}\\&A=C\cup (A-C)\\&A^`=(C-\{a_1\})\cup(A-C)\\&è®¾f:A\rightarrow A^`\\&f(x)=\begin{cases}x,x\in A-C\\a_{i+1},x=a_i\end{cases}\end{aligned}</script><h2 id="å®šç†-1"><a href="#å®šç†-1" class="headerlink" title="å®šç†"></a>å®šç†</h2><ul><li>ä»»ä½•æ— ç©·é›†åˆå¿…å«æœ‰<strong>å¯æ•°æ— ç©·å­é›†</strong></li><li>å®æ•°é›†åˆRæ˜¯<strong>ä¸å¯æ•°çš„</strong></li><li>å¯¹æ¯ä¸ªé›†åˆA,çš†æœ‰$#(A)&lt;#(\rho(A))$</li><li>$#(R\times R)=\aleph$</li></ul><h2 id="ä¾‹"><a href="#ä¾‹" class="headerlink" title="ä¾‹"></a>ä¾‹</h2><blockquote><p>å–52ä¸ªæ•´æ•°,å¿…æœ‰ä¸¤æ•°ä¹‹å’Œæˆ–ä¸¤æ•°ä¹‹å·®,è¢«100æ•´é™¤</p></blockquote><script type="math/tex; mode=display">\begin{aligned}&åœ¨51ä¸ªæŠ½å±‰:\{0\},\{1,99\},\{2,98\},\dots\{49,1\},\{50\}ä¸­é€‰å–52ä¸ªæ•´æ•°\\&å¿…æœ‰ä¸¤ä¸ªæ•´æ•°r_a\mod 100,r_b\mod 100æ­£å¥½è½åœ¨åŒä¸€æŠ½å±‰ä¸­\\&a)r_a=r_b,åˆ™(r_a-r_b)|\ 100\\&b)r_a\neq r_b,åˆ™(r_a+r_b)|\ 100\end{aligned}</script><blockquote><p>A=[0,1],B=(0,1),æ„é€ Aåˆ°Bçš„åŒå°„</p></blockquote><script type="math/tex; mode=display">C=\{a_0,a_1,a_2,\dots a_i,\dots\}\\(0,1)=C\cup\{(0,1)-C\}\\C^`=(C-\{a_0,a_1\})\cup\{(0,1)-C\}\\f:C\rightarrow C^`\cup\{0,1\}\\f(x)=\begin{cases}a_0,x=0\\a_1,x=1\\a_{i+2},x=a_{i+1}\\x,å…¶ä»–\\\end{cases}\\</script><blockquote><p>$#(R)=\aleph$</p></blockquote><script type="math/tex; mode=display">\begin{aligned}&f:\mathscr P(N)\rightarrow [0,1]\\&f(A)=\sum^\infty_{i=0}\frac{\chi_A(i)}{2^{i+1}},A\subseteq N\\&fæ˜¯æ»¡å°„,æ‰€ä»¥\#([0,1])\leq \aleph\\&g:\mathscr P(n)\rightarrow [0,1]\\&g(A)=\sum^\infty_{i=0}\frac{\chi_A(i)}{3^{i+1}},A\subseteq N\\&è‹¥A,B\subseteq Nä¸”A\neq B,A\oplus B\neq \emptyset,i_0æ˜¯A\oplus Bçš„æœ€å°å…ƒç´ \\&åˆ™\left|g(A)-g(B)\right|\geq \frac{1}{3^{i_0+1}}-\sum^{\infty}_{j=2}\frac{1}{3^{i_o+j}}>0\\&\therefore g(A)\neq g(B)\\&å› æ­¤gæ˜¯å†…å°„\\&\aleph\leq \#([0,1])\\&æ‰€ä»¥\#([0,1])=\aleph,ä½†\#([0,1])=\#(R)\\&\#(R)=\aleph\end{aligned}</script>]]></content>
    
    
    <categories>
      
      <category>ç¦»æ•£æ•°å­¦</category>
      
    </categories>
    
    
    <tags>
      
      <tag>discrete mathematics</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ ·æœ¬åŠæŠ½æ ·åˆ†å¸ƒ</title>
    <link href="/2024/11/17/%E6%A0%B7%E6%9C%AC%E5%8F%8A%E6%8A%BD%E6%A0%B7%E5%88%86%E5%B8%83/"/>
    <url>/2024/11/17/%E6%A0%B7%E6%9C%AC%E5%8F%8A%E6%8A%BD%E6%A0%B7%E5%88%86%E5%B8%83/</url>
    
    <content type="html"><![CDATA[<h1 id="æ ·æœ¬åŠæŠ½æ ·åˆ†å¸ƒ"><a href="#æ ·æœ¬åŠæŠ½æ ·åˆ†å¸ƒ" class="headerlink" title="æ ·æœ¬åŠæŠ½æ ·åˆ†å¸ƒ"></a>æ ·æœ¬åŠæŠ½æ ·åˆ†å¸ƒ</h1><h2 id="éšæœºæ ·æœ¬"><a href="#éšæœºæ ·æœ¬" class="headerlink" title="éšæœºæ ·æœ¬"></a>éšæœºæ ·æœ¬</h2><p>åœ¨ç›¸åŒæ¡ä»¶ä¸‹å¯¹æ€»ä½“Xè¿›è¡Œnæ¬¡é‡å¤çš„,ç‹¬ç«‹çš„è§‚å¯Ÿ,å°†næ¬¡è§‚å¯Ÿç»“æœæŒ‰è¯•éªŒçš„æ¬¡åºè®°ä¸º$X_1,X_2,â€¦,X_n$,æˆä¸ºæ¥è‡ªæ€»ä½“$X$çš„ä¸€ä¸ªç®€å•éšæœºæ ·æœ¬,nç§°ä¸ºè¿™ä¸ªæ ·æœ¬çš„å®¹é‡</p><p>$(X_1,X_2,â€¦,X_n)$çš„åˆ†å¸ƒå‡½æ•°:</p><p>$F^*(x_1,x_2,â€¦,x_n)=\prod\limits_{i=1}^nF(x_i)$</p><p>$(X_1,X_2,â€¦,X_n)$çš„æ¦‚ç‡å¯†åº¦:</p><p>$f^*(x_1,x_2,â€¦,x_n)=\prod\limits_{i=1}^nf(x_i)$</p><h2 id="ç›´æ–¹å›¾å’Œç®±çº¿å›¾"><a href="#ç›´æ–¹å›¾å’Œç®±çº¿å›¾" class="headerlink" title="ç›´æ–¹å›¾å’Œç®±çº¿å›¾"></a>ç›´æ–¹å›¾å’Œç®±çº¿å›¾</h2><h3 id="ç›´æ–¹å›¾"><a href="#ç›´æ–¹å›¾" class="headerlink" title="ç›´æ–¹å›¾"></a>ç›´æ–¹å›¾</h3><ul><li>é«˜ä¸º$\frac{f_i}{n\Delta}$</li></ul><h3 id="ç®±çº¿å›¾"><a href="#ç®±çº¿å›¾" class="headerlink" title="ç®±çº¿å›¾"></a>ç®±çº¿å›¾</h3><p>æ ·æœ¬påˆ†ä½æ•°$x_p$:</p><ol><li>è‡³å°‘æœ‰$np$ä¸ªè§‚å¯Ÿå€¼å°äºæˆ–ç­‰äº$x_p$</li><li>è‡³å°‘æœ‰$np(1-p)$ä¸ªè§‚å¯Ÿå€¼å¤§äºæˆ–ç­‰äº$x_p$</li></ol><p>$x_p=\begin{cases}x_{[np]+1},npä¸æ˜¯æ•´æ•°\\\frac{1}{2}[x_{(np)}+x_{(np+1)}],npæ˜¯æ•´æ•°\end{cases}$</p><p>$p=0.5\rightarrow$<strong>æ ·æœ¬ä¸­ä½æ•°</strong></p><p>$p=0.25\rightarrow$<strong>æ ·æœ¬ç¬¬ä¸€å››åˆ†ä½æ•°</strong></p><p>$p=0.75\rightarrow$<strong>æ ·æœ¬ç¬¬ä¸‰å››åˆ†ä½æ•°</strong></p><h3 id="ç–‘ä¼¼å¼‚å¸¸å€¼"><a href="#ç–‘ä¼¼å¼‚å¸¸å€¼" class="headerlink" title="ç–‘ä¼¼å¼‚å¸¸å€¼"></a>ç–‘ä¼¼å¼‚å¸¸å€¼</h3><p>$Q_1-Q_2\mathop =\limits^{è®°ä¸º}IQR$</p><p>$è‹¥æ•°æ®å°äºQ_1-1.5IQRæˆ–è€…å¤§äºQ_2+1.5IQR,å°±è®¤ä¸ºå®ƒæ˜¯ç–‘ä¼¼å¼‚å¸¸å€¼$</p><h2 id="æŠ½æ ·åˆ†å¸ƒ"><a href="#æŠ½æ ·åˆ†å¸ƒ" class="headerlink" title="æŠ½æ ·åˆ†å¸ƒ"></a>æŠ½æ ·åˆ†å¸ƒ</h2><p>$X_1,X_2,\dots,X_n$æ˜¯æ¥è‡ªæ€»ä½“Xçš„ä¸€ä¸ªæ ·æœ¬,$g(X_1,X_2,\dots,X_n)$æ˜¯$X_1,X_2,\dots,X_n$çš„å‡½æ•°,è‹¥$g$ä¸­ä¸å«æœªçŸ¥å‚æ•°,åˆ™ç§°$g(X_1,X_2,\dots,X_n)$æ˜¯ä¸€<strong>ç»Ÿè®¡é‡</strong></p><ul><li>æ ·æœ¬å¹³å‡å€¼$\bar{X}=\frac{1}{n}\sum\limits_{i=1}^nX_i$</li><li>æ ·æœ¬æ–¹å·®$S^2=\frac{1}{n-1}\sum\limits_{i=1}^n(X_i-\bar X)^2$</li><li>æ ·æœ¬ké˜¶åŸç‚¹çŸ©$A_k=\frac{1}{n}\sum\limits^n_{i=1}X_i^k,k=1,2,\dots$</li></ul><p>$S^2$ç§°ä¸ºæ— åä¼°è®¡(unbiased estimator)</p><p><strong>æ— åä¼°è®¡</strong>:ä¼°è®¡å‡ºæ¥çš„å‚æ•°çš„æ•°å­¦æœŸæœ›ç­‰äºè¢«ä¼°è®¡çš„å‚æ•°çš„çœŸå®å€¼.</p><blockquote><p>æ ·æœ¬çš„å‡å€¼aæ˜¯å¦ä¸ºæ— åä¼°è®¡$\mu$?</p></blockquote><p>$E(a)=\frac{1}{n}E(\sum_{i=1}^n x_i)=\frac{1}{n}\sum^n_{i=1}E(x_i)=\frac{1}{n}\sum^n_{i=1}\mu=\mu$</p><blockquote><p>æ ·æœ¬çš„æ–¹å·®$b=\frac{1}{n}\sum^n_{i=1}(X_i-\mu)^2$æ˜¯å¦æ˜¯æ— åä¼°è®¡?</p></blockquote><p>$E(b)=E(\frac{1}{n}\sum^n_{i=1}(X_i-\mu)^2)=<br>\frac{1}{n}\sum^n_{i=1}E(X_i)-\frac{1}{n}E([2a\cdot n\cdot a])+E(a^2)=E(X_i^2)-E(a^2)=E^2(X)+D(X)-[E^2(a)+D(a)]=\mu^2+\sigma^2-\mu^2-\frac{1}{n}\sigma^2=\frac{n-1}{n}\sigma^2$</p><h3 id="ç»éªŒåˆ†å¸ƒå‡½æ•°"><a href="#ç»éªŒåˆ†å¸ƒå‡½æ•°" class="headerlink" title="ç»éªŒåˆ†å¸ƒå‡½æ•°"></a>ç»éªŒåˆ†å¸ƒå‡½æ•°</h3><p>$S(x)è¡¨ç¤ºX_1,X_2,â€¦,X_nä¸­ä¸å¤§äºxçš„éšæœºå˜é‡çš„ä¸ªæ•°$</p><p>$F_n(x)=\frac{1}{n}S(x),-\infty&lt;x&lt;\infty$</p><p>$F_n(x)=\begin{cases}0,x&lt;x_{(1)},\\\frac{k}{n},x_{(k)}\leq x&lt;x_{(k+1)},\\1,x\geq x_{(n)},\end{cases}$</p><p>å¯è¯:$P\{\lim\limits_{n\rightarrow \infty}\sup\limits_{-\infty&lt;x&lt;\infty}|F_x(x)-F(x)|=0\}=1$</p><h3 id="chi-2-åˆ†å¸ƒ"><a href="#chi-2-åˆ†å¸ƒ" class="headerlink" title="$\chi^2$åˆ†å¸ƒ"></a>$\chi^2$åˆ†å¸ƒ</h3><h4 id="åˆ†å¸ƒ"><a href="#åˆ†å¸ƒ" class="headerlink" title="åˆ†å¸ƒ"></a>åˆ†å¸ƒ</h4><p>å‡è®¾$X_1,X_2,â€¦,X_n$æ˜¯æ¥è‡ªæ€»ä½“$N(0,1)$çš„æ ·æœ¬ä¸”éƒ½æœä»æ ‡å‡†æ­£æ€åˆ†å¸ƒ$N(0,1)$</p><p>åˆ™ç§°ç»Ÿè®¡é‡$\chi^2=X_1^2+X_2^2+â€¦+X^2_n\sim\chi^2(n)$</p><p>$f(x)=\begin{cases}\frac{1}{ 2^{\frac{n}{2}}\Gamma(\frac{n}{2}) }e^{-\frac{x}{2}} x^{ \frac{n}{2}-1},x&gt;0\\0,x\leq 0\end{cases}$</p><p>å…¶ä¸­$\Gamma(x)=\int^{+\infty}_0t^{x-1}e^{-t}dt$</p><p>åœ¨$x&gt;0$æ—¶æ”¶æ•›,ç§°ä¸º$\Gamma$å‡½æ•°</p><h4 id="åˆ†å¸ƒæ€§è´¨"><a href="#åˆ†å¸ƒæ€§è´¨" class="headerlink" title="åˆ†å¸ƒæ€§è´¨"></a>åˆ†å¸ƒæ€§è´¨</h4><ul><li>$E(\chi^2(x))=n,D(\chi^2(n))=2n$</li><li>$è‹¥X_1= \chi^2(n_1),X_2=\chi^2(n_2),X_1,X_2ç›¸äº’ç‹¬ç«‹,X_1+X_2\sim \chi^2(n_1+n_2)$</li><li>$\chi^2(x)$çš„$\alpha$åˆ†ä½æ•°:$n&gt;45æ—¶,\chi^2_\alpha(n)\approx\frac{1}{2}(z_\alpha+\sqrt{2n-1})^2$</li></ul><h3 id="t-åˆ†å¸ƒ"><a href="#t-åˆ†å¸ƒ" class="headerlink" title="$t$åˆ†å¸ƒ"></a>$t$åˆ†å¸ƒ</h3><h4 id="åˆ†å¸ƒ-1"><a href="#åˆ†å¸ƒ-1" class="headerlink" title="åˆ†å¸ƒ"></a>åˆ†å¸ƒ</h4><p>$X\sim N(0,1),Y\sim \chi^2(n),X,Yç›¸äº’ç‹¬ç«‹$</p><p>$T=\frac{X}{\sqrt{Y/N}}$,åˆ™ç§°Tæ‰€æœä»çš„åˆ†å¸ƒç§°ä¸ºè‡ªç”±åº¦ä¸º$n$çš„$T$åˆ†å¸ƒ</p><p>å…¶å¯†åº¦å‡½æ•°:</p><p>$f(t)=\frac{\Gamma(\frac{n+1}{2})}{\sqrt{n\pi}\Gamma(\frac{n}{2})}(1+\frac{t^2}{n})^{-\frac{n+1}{2}},-\infty&lt;t&lt;\infty$</p><h4 id="åˆ†å¸ƒæ€§è´¨-1"><a href="#åˆ†å¸ƒæ€§è´¨-1" class="headerlink" title="åˆ†å¸ƒæ€§è´¨"></a>åˆ†å¸ƒæ€§è´¨</h4><ul><li>$n\rightarrow \infty,f_n(t)\rightarrow \phi(t)=\frac{1}{\sqrt{2\pi}}e^{-\frac{t^2}{2}}$</li><li>$f_n(t)$æ˜¯å¶å‡½æ•°</li></ul><h3 id="F-åˆ†å¸ƒ"><a href="#F-åˆ†å¸ƒ" class="headerlink" title="$F$åˆ†å¸ƒ"></a>$F$åˆ†å¸ƒ</h3><p>$f(t,n,m)=\begin{cases}\frac{\Gamma(\frac{n+m}{2})}{\Gamma(\frac{n}{2})\Gamma(\frac{m}{2})}(\frac{n}{m})^{\frac{n}{2}}t^{\frac{n}{2}-1}(1+\frac{n}{m}t)^{-\frac{n+m}{2}},t&gt;0\\0,t\leq 0\end{cases}$</p><h4 id="æ€§è´¨"><a href="#æ€§è´¨" class="headerlink" title="æ€§è´¨"></a>æ€§è´¨</h4><ul><li>$P(F\leq F_\alpha(n,m))=\alpha$</li><li>$\frac{1}{F}\sim F(m,n)$</li></ul><p>$F_{1-\alpha}(n,m)=\frac{1}{F_\alpha(m,n)}$</p><h2 id="æ­£æ€æ€»ä½“çš„æ ·æœ¬å‡å€¼ä¸æ ·æœ¬æ–¹å·®çš„åˆ†å¸ƒ"><a href="#æ­£æ€æ€»ä½“çš„æ ·æœ¬å‡å€¼ä¸æ ·æœ¬æ–¹å·®çš„åˆ†å¸ƒ" class="headerlink" title="æ­£æ€æ€»ä½“çš„æ ·æœ¬å‡å€¼ä¸æ ·æœ¬æ–¹å·®çš„åˆ†å¸ƒ"></a>æ­£æ€æ€»ä½“çš„æ ·æœ¬å‡å€¼ä¸æ ·æœ¬æ–¹å·®çš„åˆ†å¸ƒ</h2><p>$\bar X,S^2$åˆ†åˆ«ä¸ºæ ·æœ¬å‡å€¼,æ ·æœ¬æ–¹å·®</p><p>$E(\bar X)=\mu,D(\bar X)=\frac{\sigma^2}{n}{},E(S^2)=\sigma^2$</p><p>$\bar X\sim N(\mu, \frac{\sigma^2}{n})$</p>]]></content>
    
    
    <categories>
      
      <category>æ¦‚ç‡ä¸æ•°ç†æ¨¡å‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ¦‚ç»Ÿ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åºåˆ—æ¨¡å‹</title>
    <link href="/2024/11/14/%E5%BA%8F%E5%88%97%E6%A8%A1%E5%9E%8B/"/>
    <url>/2024/11/14/%E5%BA%8F%E5%88%97%E6%A8%A1%E5%9E%8B/</url>
    
    <content type="html"><![CDATA[<h2 id="ç»Ÿè®¡å·¥å…·"><a href="#ç»Ÿè®¡å·¥å…·" class="headerlink" title="ç»Ÿè®¡å·¥å…·"></a>ç»Ÿè®¡å·¥å…·</h2><ul><li>åœ¨æ—¶é—´$t$è§‚å¯Ÿåˆ°$x_t$,å¾—åˆ°Tä¸ª<strong>ä¸ç‹¬ç«‹</strong>çš„éšæœºå˜é‡</li></ul><p>$(x_1,â€¦,x_T)\sim p(\tt x)$</p><p>$p({\bf x})=p(x_1)\cdot p(x_2|x_1)\cdot p(x_3|x_1,x_2)\cdot\dots\cdotp(x_T|x_1,â€¦,x_{T-1})$</p><h2 id="åºåˆ—æ¨¡å‹"><a href="#åºåˆ—æ¨¡å‹" class="headerlink" title="åºåˆ—æ¨¡å‹"></a>åºåˆ—æ¨¡å‹</h2><ul><li>å¯¹æ¡ä»¶æ¦‚ç‡å»ºæ¨¡</li></ul><p>$p(x_t|x_1,â€¦,x_{t-1})=p(x_t|f(x_1,â€¦,x_{t-1}))$</p><p>å¯¹è§è¿‡çš„æ•°æ®å»ºæ¨¡,ä¹Ÿç§°<strong>è‡ªå›å½’æ¨¡å‹</strong></p><h2 id="é©¬å°”ç§‘å¤«å‡è®¾"><a href="#é©¬å°”ç§‘å¤«å‡è®¾" class="headerlink" title="é©¬å°”ç§‘å¤«å‡è®¾"></a>é©¬å°”ç§‘å¤«å‡è®¾</h2><ul><li>å½“å‰ä¹‹å’Œæœ€è¿‘å°‘æ•°æ•°æ®ç›¸å…³,ä»è€Œç®€åŒ–æ¨¡å‹</li></ul><p>$p(x_t|x_1,â€¦,x_{t-1})=p(x_t|x_{y-\tau},â€¦,x_{t-1})=p(x_t|f(x_{t-\tau,..,x_{t-1}}))$</p><h2 id="æ½œå˜é‡æ¨¡å‹"><a href="#æ½œå˜é‡æ¨¡å‹" class="headerlink" title="æ½œå˜é‡æ¨¡å‹"></a>æ½œå˜é‡æ¨¡å‹</h2><ul><li>ä½¿ç”¨æ½œå˜é‡æ¥æ¦‚æ‹¬å†å²ä¿¡æ¯</li></ul><p>$h_t=f(x_1,â€¦,x_{t-1})\\x_t=p(x_t|h_t)$</p><h2 id="è®­ç»ƒ"><a href="#è®­ç»ƒ" class="headerlink" title="è®­ç»ƒ"></a>è®­ç»ƒ</h2>]]></content>
    
    
    
    <tags>
      
      <tag>æ·±åº¦å­¦ä¹ </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Batch Normalization</title>
    <link href="/2024/11/14/Batch%20Normalization/"/>
    <url>/2024/11/14/Batch%20Normalization/</url>
    
    <content type="html"><![CDATA[<h1 id="æ‰¹é‡å½’ä¸€åŒ–å±‚"><a href="#æ‰¹é‡å½’ä¸€åŒ–å±‚" class="headerlink" title="æ‰¹é‡å½’ä¸€åŒ–å±‚"></a>æ‰¹é‡å½’ä¸€åŒ–å±‚</h1><h2 id="å…¬å¼"><a href="#å…¬å¼" class="headerlink" title="å…¬å¼"></a>å…¬å¼</h2><p>$\mu_B=\frac{1}{|B|}\mathop\Sigma\limits_{i\in B}x_i$</p><p>$\sigma_B^2=\frac{1}{|B|}\mathop\Sigma\limits_{i\in B}(x_i-\mu_B)^2+\epsilon$</p><p>å†åšé¢å¤–è°ƒæ•´:</p><p>$x_{i+1}=\gamma\frac{x_i-\mu_B}{\sigma_B}+\beta$</p><ul><li>å¯å­¦ä¹ çš„å‚æ•°ä¸º$\gamma,\beta$</li><li>ä½œç”¨åœ¨:<ul><li>å…¨è¿æ¥å±‚å’Œå·ç§¯å±‚è¾“å‡ºä¸Š,æ¿€æ´»å‡½æ•°å‰</li><li>å…¨è¿æ¥å±‚å’Œå·ç§¯å±‚è¾“å…¥ä¸Š</li></ul></li><li>å¯¹å…¨è¿æ¥å±‚,ä½œç”¨åœ¨ç‰¹å¾ç»´</li><li>å¯¹å·ç§¯å±‚,ä½œç”¨åœ¨é€šé“ç»´</li></ul><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">batchNormalization</span>(<span class="hljs-params">X, gamma, beta, moving_mean, moving_var, eps, momentum</span>):<br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> torch.is_grad_enabled():<br>        X_hat = (X - moving_mean) / torch.sqrt(moving_var + eps)<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">assert</span> <span class="hljs-built_in">len</span>(X.shape) <span class="hljs-keyword">in</span> (<span class="hljs-number">2</span>, <span class="hljs-number">4</span>)<br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(X.shape) == <span class="hljs-number">2</span>:<br>            mean = X.mean(dim=<span class="hljs-number">0</span>)<br>            var = ((X - mean)**<span class="hljs-number">2</span>).mean(dim=<span class="hljs-number">0</span>)<br>        <span class="hljs-keyword">else</span>:<br>            mean = X.mean(dim=(<span class="hljs-number">0</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>), keepdims=<span class="hljs-literal">True</span>)<br>            var = ((X - mean)**<span class="hljs-number">2</span>).mean(dim=(<span class="hljs-number">0</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>),keepdim=<span class="hljs-literal">True</span>)<br>        X_hat = (X - mean) / torch.sqrt(var + eps)<br>        moving_mean = momentum * moving_mean + (<span class="hljs-number">1</span> - momentum) * mean<br>        moving_var = momentum * moving_var + (<span class="hljs-number">1</span> - momentum) * var<br>    Y=gamma * X_hat + beta<br>    <span class="hljs-keyword">return</span> Y, moving_mean, moving_var.data<br></code></pre></td></tr></table></figure><h2 id="ä½œç”¨"><a href="#ä½œç”¨" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h2><ul><li>èµ·åˆç”¨æ¥å‡å°‘å†…éƒ¨å˜é‡è½¬ç§»</li><li>åç»­æŒ‡å‡ºå¯èƒ½æ˜¯é€šè¿‡åœ¨æ¯ä¸ªå°æ‰¹é‡é‡ŒåŠ å…¥å™ªéŸ³æ§åˆ¶æ¨¡å‹å¤æ‚åº¦</li><li>ä¸ç”¨å’Œä¸¢å¼ƒæ³•æ··åˆä½¿ç”¨</li></ul><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><ul><li>å¯ä»¥åŠ é€Ÿæ”¶æ•›é€Ÿåº¦,ä¸€èˆ¬ä¸æ”¹å˜æ¨¡å‹ç²¾åº¦</li><li>ä½¿ç”¨çœŸå®æ•°æ®æ—¶,ç¬¬ä¸€æ­¥æ˜¯æ ‡å‡†åŒ–è¾“å…¥ç‰¹å¾(ä½¿å…¶å‡å€¼ä¸º0,æ–¹å·®ä¸º1),è¿™ç§æ ‡å‡†åŒ–å¯ä»¥å¾ˆå¥½åœ°ä¸ä¼˜åŒ–å™¨é…åˆä½¿ç”¨</li></ul><h2 id="BatchNormå’ŒLayerNormçš„åŒºåˆ«"><a href="#BatchNormå’ŒLayerNormçš„åŒºåˆ«" class="headerlink" title="BatchNormå’ŒLayerNormçš„åŒºåˆ«"></a>BatchNormå’ŒLayerNormçš„åŒºåˆ«</h2><p>ä»¥<code>BatchNorm1d</code>ä¸ºä¾‹:</p><p>$y = \frac{x - \mathrm{E}[x]}{\sqrt{\mathrm{Var}[x] + \epsilon}} * \gamma + \beta$</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">input</span> = torch.randn(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>) <span class="hljs-comment"># 1:batch, 2:feature, 3:sequence length</span><br>bn1 = nn.BatchNorm1D(<span class="hljs-number">2</span>) <span class="hljs-comment"># é€‰å–ç‰¹å¾ä¸º2</span><br><span class="hljs-built_in">print</span>(bn1(<span class="hljs-built_in">input</span>))<br><br><span class="hljs-comment">#tensor([[[ 0.9848, -1.3714,  0.3865],</span><br><span class="hljs-comment">#         [ 1.2078, -1.2410,  0.0332]]], grad_fn=&lt;NativeBatchNormBackward0&gt;)</span><br></code></pre></td></tr></table></figure><p>è¿™å¯ä»¥ç­‰åŒäºä»¥ä¸‹æ“ä½œ:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python">a1 = (<span class="hljs-built_in">input</span>[:,<span class="hljs-number">0</span>,:] - <span class="hljs-built_in">input</span>[:,<span class="hljs-number">0</span>,:].mean()) / torch.sqrt(<span class="hljs-built_in">input</span>[:,<span class="hljs-number">0</span>,:].var(unbiased=<span class="hljs-literal">False</span>) + <span class="hljs-number">1e-5</span>)<br>a2 = (<span class="hljs-built_in">input</span>[:,<span class="hljs-number">1</span>,:] - <span class="hljs-built_in">input</span>[:,<span class="hljs-number">1</span>,:].mean()) / torch.sqrt(<span class="hljs-built_in">input</span>[:,<span class="hljs-number">1</span>,:].var(unbiased=<span class="hljs-literal">False</span>) + <span class="hljs-number">1e-5</span>)<br><br>torch.cat((a1, a2), dim=<span class="hljs-number">0</span>).reshape(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>) - bn1(<span class="hljs-built_in">input</span>) &lt; <span class="hljs-number">1e-5</span><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">a1 = (input[:,0,:] - input[:,0,:].mean()) / torch.sqrt(input[:,0,:].var(unbiased=False) + 1e-5)</span><br><span class="hljs-string">a2 = (input[:,1,:] - input[:,1,:].mean()) / torch.sqrt(input[:,1,:].var(unbiased=False) + 1e-5)</span><br><span class="hljs-string"># æ¯”è¾ƒä¸¤ç§æ–¹æ³•</span><br><span class="hljs-string">torch.cat((a1, a2), dim=0).reshape(1,2,3) - bn1(input) &lt; 1e-5</span><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br></code></pre></td></tr></table></figure><p><code>LayerNorm</code></p>]]></content>
    
    
    
    <tags>
      
      <tag>æ·±åº¦å­¦ä¹ </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>P6-CPUè®¾è®¡æ–‡æ¡£</title>
    <link href="/2024/11/13/P6-CPU%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3/"/>
    <url>/2024/11/13/P6-CPU%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3/</url>
    
    <content type="html"><![CDATA[<h1 id="P6-CPUè®¾è®¡æ–‡æ¡£"><a href="#P6-CPUè®¾è®¡æ–‡æ¡£" class="headerlink" title="P6-CPUè®¾è®¡æ–‡æ¡£"></a>P6-CPUè®¾è®¡æ–‡æ¡£</h1><h2 id="æµæ°´çº¿æ¶æ„"><a href="#æµæ°´çº¿æ¶æ„" class="headerlink" title="æµæ°´çº¿æ¶æ„"></a>æµæ°´çº¿æ¶æ„</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs markdown"><span class="hljs-bullet">-</span> mips.v<br><span class="hljs-bullet">-</span> IF.v #å–æŒ‡é˜¶æ®µ<br><span class="hljs-bullet">-</span> pc.v<br><span class="hljs-bullet">-</span> im.v<br><span class="hljs-bullet">-</span> IF<span class="hljs-emphasis">_ID.v #IFä¸IDä¹‹é—´çš„å¯„å­˜å™¨</span><br><span class="hljs-emphasis">- ID.v #è¯‘ç é˜¶æ®µ</span><br><span class="hljs-emphasis">- ctrl.v #é‡‡ç”¨åˆ†å¸ƒå¼è¯‘ç </span><br><span class="hljs-emphasis">- grf.v # å¯„å­˜å™¨å †</span><br><span class="hljs-emphasis">- ext.v # ç«‹å³æ•°æ‰©å±•</span><br><span class="hljs-emphasis">- cmp.v # æ¯”è¾ƒ2ä¸ªæ•°</span><br><span class="hljs-emphasis">- npc.v # ä¸ºBç±»/Jè®¡ç®—ä¸‹æ¡åœ°å€</span><br><span class="hljs-emphasis">- ID_</span>EX.v #IDä¸EXä¹‹é—´çš„å¯„å­˜å™¨<br><span class="hljs-bullet">-</span> EX.v  #æ‰§è¡Œé˜¶æ®µ<br><span class="hljs-bullet">-</span> ctrl.v #é‡‡ç”¨åˆ†å¸ƒå¼è¯‘ç <br><span class="hljs-bullet">-</span> alu.v<br><span class="hljs-bullet">-</span> EX<span class="hljs-emphasis">_MEM.v #EXä¸MEMä¹‹é—´çš„å¯„å­˜å™¨</span><br><span class="hljs-emphasis">- MEM.v #å­˜å‚¨é˜¶æ®µ</span><br><span class="hljs-emphasis">- ctrl.v #é‡‡ç”¨åˆ†å¸ƒå¼è¯‘ç </span><br><span class="hljs-emphasis">- dm.v</span><br><span class="hljs-emphasis">- MEM_</span>WB.v #MEMä¸WBä¹‹é—´çš„å¯„å­˜å™¨<br><span class="hljs-bullet">-</span> HAZARD<span class="hljs-emphasis">_CTRL.v #å†’é™©æ§åˆ¶æ¨¡å—</span><br><span class="hljs-emphasis"></span><br></code></pre></td></tr></table></figure><h3 id="IF"><a href="#IF" class="headerlink" title="IF"></a>IF</h3><h4 id="é¡¶å±‚"><a href="#é¡¶å±‚" class="headerlink" title="é¡¶å±‚"></a>é¡¶å±‚</h4><blockquote><p>Instruction Fetché˜¶æ®µ,ä»æŒ‡ä»¤å¯„å­˜å™¨ä¸­è¯»å–æŒ‡ä»¤</p></blockquote><div class="table-container"><table><thead><tr><th>ç«¯å£</th><th>In/Out?</th><th>ä½å®½</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>clk</td><td>in</td><td></td><td>æ—¶é’Ÿä¿¡å·</td></tr><tr><td>reset</td><td>in</td><td></td><td>é‡ç½®ä¿¡å·</td></tr><tr><td>enablePC</td><td>in</td><td></td><td>ä½¿èƒ½ä¿¡å·</td></tr><tr><td>NPC</td><td>in</td><td>[31:0]</td><td>PCåœ°å€è¾“å…¥</td></tr><tr><td>IF_PC</td><td>out</td><td>[31:0]</td><td>è¾“å‡ºPCåœ°å€</td></tr></tbody></table></div><h4 id="PCéƒ¨ä»¶"><a href="#PCéƒ¨ä»¶" class="headerlink" title="PCéƒ¨ä»¶"></a>PCéƒ¨ä»¶</h4><div class="table-container"><table><thead><tr><th>ç«¯å£</th><th>In/Out?</th><th>ä½å®½</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>clk</td><td>in</td><td></td><td>æ—¶é’Ÿä¿¡å·</td></tr><tr><td>reset</td><td>in</td><td></td><td>é‡ç½®ä¿¡å·</td></tr><tr><td>enable</td><td>in</td><td></td><td>ä½¿èƒ½ä¿¡å·</td></tr><tr><td>NPC</td><td>in</td><td>[31:0]</td><td>PCåœ°å€è¾“å…¥</td></tr><tr><td>PC</td><td>out</td><td>[31:0]</td><td>è¾“å‡ºPCåœ°å€</td></tr></tbody></table></div><h3 id="IF-ID"><a href="#IF-ID" class="headerlink" title="IF_ID"></a>IF_ID</h3><blockquote><p>åœ¨æ—¶é’Ÿä¸Šå‡æ²¿å°†IF_PC,IF_instrçš„å€¼ä¼ é€’ç»™ID_PC,ID_instr</p></blockquote><div class="table-container"><table><thead><tr><th>ç«¯å£</th><th>In/Out?</th><th>ä½å®½</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>clk</td><td>in</td><td></td><td></td></tr><tr><td>reset</td><td>in</td><td></td><td></td></tr><tr><td>enable</td><td>in</td><td></td><td></td></tr><tr><td>IF_PC</td><td>in</td><td>[31:0]</td><td>IFä¼ å…¥PCåœ°å€</td></tr><tr><td>IF_instr</td><td>in</td><td>[31:0]</td><td>IFä¼ å…¥æŒ‡ä»¤</td></tr><tr><td>ID_PC</td><td>out</td><td>[31:0]</td><td>IDæ¥æ”¶PCåœ°å€</td></tr><tr><td>ID_instr</td><td>out</td><td>[31:0]</td><td>IFæ¥æ”¶æŒ‡ä»¤</td></tr></tbody></table></div><h3 id="ID"><a href="#ID" class="headerlink" title="ID"></a>ID</h3><blockquote><p>Instruction Decodeé˜¶æ®µ</p></blockquote><h4 id="é¡¶å±‚-1"><a href="#é¡¶å±‚-1" class="headerlink" title="é¡¶å±‚"></a>é¡¶å±‚</h4><div class="table-container"><table><thead><tr><th>ç«¯å£</th><th>In/Out?</th><th>ä½å®½</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>clk</td><td>in</td><td></td><td></td></tr><tr><td>reset</td><td>in</td><td></td><td></td></tr><tr><td>IF_PC</td><td>in</td><td>[31:0]</td><td>IFåŒºçš„PC,ç”¨äºæ­£å¸¸çš„åœ°å€+4æ“ä½œ</td></tr><tr><td>ID_PC</td><td>in</td><td>[31:0]</td><td>IDåŒºçš„PC</td></tr><tr><td>ID_instr</td><td>in</td><td>[31:0]</td><td>IDåŒºçš„æŒ‡ä»¤</td></tr><tr><td>ID_RD1_forward</td><td>in</td><td>[31:0]</td><td>è½¬å‘çš„Data1</td></tr><tr><td>ID_RD2_forward</td><td>in</td><td>[31:0]</td><td>è½¬å‘çš„Data2</td></tr><tr><td>WB_WD</td><td>in</td><td>[31:0]</td><td>å†™å…¥æ•°æ®,æ¥è‡ªäºWBé˜¶æ®µ</td></tr><tr><td>WB_A3</td><td>in</td><td>[31:0]</td><td>å†™å…¥å¯„å­˜å™¨åœ°å€,æ¥è‡ªäºWBé˜¶æ®µ</td></tr><tr><td>WB_PC</td><td>in</td><td>[31:0]</td><td>å†™å…¥æ•°æ®å¯¹åº”PCåœ°å€,ä¼ é€’ç»™$displayè¯­å¥,ä½œä¸ºæ˜¾ç¤º,æ¥è‡ªäºWBé˜¶æ®µ</td></tr><tr><td>ID_RD1</td><td>out</td><td>[31:0]</td><td>IDè¾“å‡ºrså¯„å­˜å™¨è¯»å‡ºå€¼</td></tr><tr><td>ID_RD2</td><td>out</td><td>[31:0]</td><td>IDè¾“å‡ºrtå¯„å­˜å™¨è¯»å‡ºå€¼</td></tr><tr><td>ID_IMM32</td><td>out</td><td>[31:0]</td><td>IDè¾“å‡ºç»è¿‡ä½æ‰©å±•çš„ç«‹å³æ•°</td></tr><tr><td>ID_A3</td><td>out</td><td>[4:0]</td><td>IDé˜¶æ®µçš„A3,å‘åä¼ é€’ç”¨</td></tr><tr><td>ID_WD</td><td>out</td><td>[31:0]</td><td>IDé˜¶æ®µçš„å†™å…¥æ•°æ®,å‘åä¼ é€’</td></tr><tr><td>NPC</td><td>out</td><td>[31:0]</td><td>IDé˜¶æ®µ(å†…éƒ¨NPCæ¨¡å—)è®¡ç®—çš„ä¸‹ä¸€ä¸ªåœ°å€</td></tr><tr><td>ID_A1_USE</td><td>out</td><td>[1:0]</td><td>IDé˜¶æ®µrså¯„å­˜å™¨çš„$T_{USE}$</td></tr><tr><td>ID_A2_USE</td><td>out</td><td>[1:0]</td><td>IDé˜¶æ®µrtå¯„å­˜å™¨çš„$T_{USE}$</td></tr><tr><td>ID_MD</td><td>out</td><td></td><td>IDåŒºå½“å‰æ˜¯å¦åœ¨å¤„ç†ä¹˜é™¤ç›¸å…³æŒ‡ä»¤</td></tr></tbody></table></div><h4 id="EXTéƒ¨ä»¶"><a href="#EXTéƒ¨ä»¶" class="headerlink" title="EXTéƒ¨ä»¶"></a>EXTéƒ¨ä»¶</h4><blockquote><p>ç«‹å³æ•°æ‰©å±•</p></blockquote><div class="table-container"><table><thead><tr><th>ç«¯å£</th><th>In/Out?</th><th>ä½å®½</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>imm16</td><td>in</td><td>[15:0]</td><td>è¾“å…¥çš„16ä½ç«‹å³æ•°</td></tr><tr><td>ExtControl</td><td>in</td><td></td><td>å†³å®šé›¶æ‰©å±•è¿˜æ˜¯ç¬¦å·æ‰©å±•</td></tr><tr><td>imm32</td><td>out</td><td>[31:0]</td><td>è¾“å‡ºçš„ä¸ºæ‰©å±•åçš„32ä½ç«‹å³æ•°</td></tr></tbody></table></div><h4 id="CMPéƒ¨ä»¶"><a href="#CMPéƒ¨ä»¶" class="headerlink" title="CMPéƒ¨ä»¶"></a>CMPéƒ¨ä»¶</h4><blockquote><p>åˆ¤æ–­ä¸¤ä¸ªè¾“å…¥(ä»å¯„å­˜å™¨å–å‡ºæ¥çš„ä¸¤ä¸ªå€¼)æ˜¯å¦ç›¸ç­‰,è¾“å‡ºzero,ç”¨äºå¤„ç†beqä¿¡å·é€šè·¯</p></blockquote><div class="table-container"><table><thead><tr><th>ç«¯å£</th><th>In/Out?</th><th>ä½å®½</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>A</td><td>in</td><td>[31:0]</td><td>è¾“å…¥æ•°æ®,æ¥æ”¶çš„æ˜¯è½¬å‘çš„Data1(RD1_forward)</td></tr><tr><td>B</td><td>in</td><td>[31:0]</td><td>è¾“å…¥æ•°æ®,æ¥æ”¶çš„æ˜¯è½¬å‘çš„Data2(RD2_forward)</td></tr><tr><td>CMPControl</td><td>in</td><td>[3:0]</td><td>CMPéƒ¨ä»¶æ§åˆ¶ä¿¡å·(é€‰æ‹©æ¯”è¾ƒæ–¹å¼)</td></tr><tr><td>zero</td><td>out</td><td></td><td>è‹¥ç›¸ç­‰åˆ™è¾“å‡º1,å¦åˆ™è¾“å‡º0</td></tr></tbody></table></div><h4 id="CMPControlä¿¡å·è¡¨"><a href="#CMPControlä¿¡å·è¡¨" class="headerlink" title="CMPControlä¿¡å·è¡¨"></a>CMPControlä¿¡å·è¡¨</h4><div class="table-container"><table><thead><tr><th>æŒ‡ä»¤</th><th>CMPControl</th></tr></thead><tbody><tr><td>beq</td><td>4â€™b0000</td></tr><tr><td>bgez</td><td>4â€™b0001</td></tr><tr><td>bgtz</td><td>4â€™b0010</td></tr><tr><td>blez</td><td>4â€™b0011</td></tr><tr><td>bltz</td><td>4â€™b0100</td></tr><tr><td>bne</td><td>4â€™b0101</td></tr></tbody></table></div><h4 id="NPCéƒ¨ä»¶"><a href="#NPCéƒ¨ä»¶" class="headerlink" title="NPCéƒ¨ä»¶"></a>NPCéƒ¨ä»¶</h4><blockquote><p>è®¡ç®—ä¸‹ä¸€ä¸ªPCåœ°å€</p></blockquote><div class="table-container"><table><thead><tr><th>ç«¯å£</th><th>In/Out?</th><th>ä½å®½</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>IF_PC</td><td>in</td><td>[31:0]</td><td>IFè¾“å‡ºçš„PC</td></tr><tr><td>ID_PC</td><td>in</td><td>[31:0]</td><td></td></tr><tr><td>ID_imm26</td><td>in</td><td>[25:0]</td><td></td></tr><tr><td>Jr_Reg_Data</td><td>in</td><td>[31:0]</td><td>JræŒ‡å®šçš„å¯„å­˜å™¨çš„å€¼</td></tr><tr><td>Branch</td><td>in</td><td></td><td>Branchä¿¡å·(beqæ¿€æ´»)</td></tr><tr><td>Jal</td><td>in</td><td></td><td>Jalä¿¡å·(jalæ¿€æ´»)</td></tr><tr><td>Jr</td><td>in</td><td></td><td>Jrä¿¡å·(jræ¿€æ´»)</td></tr><tr><td>NPC</td><td>out</td><td>[31:0]</td><td>ä¸‹ä¸€ä¸ªPCåœ°å€</td></tr></tbody></table></div><h4 id="Controléƒ¨ä»¶-å…±ç”¨"><a href="#Controléƒ¨ä»¶-å…±ç”¨" class="headerlink" title="Controléƒ¨ä»¶(å…±ç”¨)"></a>Controléƒ¨ä»¶(å…±ç”¨)</h4><blockquote><p>æ§åˆ¶ä¿¡å·ç”Ÿæˆéƒ¨ä»¶,è¿™é‡Œæˆ‘ä»¬é‡‡ç”¨çš„æ˜¯åˆ†å¸ƒå¼è¯‘ç ,è¿™é‡Œå±•ç¤ºçš„å…±ç”¨Controléƒ¨ä»¶åœ¨IDé˜¶æ®µè¢«ä½¿ç”¨çš„ç«¯å£</p></blockquote><div class="table-container"><table><thead><tr><th style="text-align:left">ç«¯å£</th><th>In/Out?</th><th>ä½å®½</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td style="text-align:left">instr</td><td>in</td><td>[31:0]</td><td>è¾“å…¥çš„æŒ‡ä»¤</td></tr><tr><td style="text-align:left">zero</td><td>in</td><td></td><td>ID_RD1_forwardä¸ID_RD2_forwardæ˜¯å¦ç›¸ç­‰</td></tr><tr><td style="text-align:left">Branch</td><td>out</td><td></td><td>Branchä¿¡å·(beqæ¿€æ´»)</td></tr><tr><td style="text-align:left">Jal</td><td>out</td><td></td><td>Jalä¿¡å·(jalæ¿€æ´»)</td></tr><tr><td style="text-align:left">Jr</td><td>out</td><td></td><td>Jrä¿¡å·(jræ¿€æ´»)</td></tr><tr><td style="text-align:left">ExtControl</td><td>out</td><td></td><td>æ§åˆ¶extéƒ¨ä»¶çš„ä¿¡å·</td></tr><tr><td style="text-align:left">Sel_ID_WD</td><td>out</td><td></td><td>ä¸jalç›¸å…³,è‹¥æ‰§è¡ŒjalæŒ‡ä»¤åˆ™ä¸º1,è¯¥ä¿¡å·ä¸º1æ—¶å°†Write Data(å†™å…¥å¯„å­˜å™¨)æŒ‡å®šä¸ºID_PC+8</td></tr><tr><td style="text-align:left">ID_A3</td><td>out</td><td>[4:0]</td><td>è§£ç é˜¶æ®µè¾“å‡ºçš„å†™å…¥å¯„å­˜å™¨åœ°å€</td></tr><tr><td style="text-align:left">ID_A1_USE</td><td>out</td><td>[1:0]</td><td>rsçš„$T_{USE}$</td></tr><tr><td style="text-align:left">ID_A2_USE</td><td>out</td><td>[1:0]</td><td>rtçš„$T_{USE}$</td></tr><tr><td style="text-align:left">CMPControl</td><td>out</td><td>[3:0]</td><td>CMPéƒ¨ä»¶æ§åˆ¶ä¿¡å·(é€‰æ‹©æ¯”è¾ƒæ–¹å¼)</td></tr><tr><td style="text-align:left">ID_MD</td><td>out</td><td></td><td>IDåŒºå½“å‰æ˜¯å¦åœ¨å¤„ç†ä¹˜é™¤ç›¸å…³æŒ‡ä»¤</td></tr></tbody></table></div><h4 id="IDæ§åˆ¶ä¿¡å·è¡¨"><a href="#IDæ§åˆ¶ä¿¡å·è¡¨" class="headerlink" title="IDæ§åˆ¶ä¿¡å·è¡¨"></a>IDæ§åˆ¶ä¿¡å·è¡¨</h4><div class="table-container"><table><thead><tr><th>æŒ‡ä»¤/ä¿¡å·</th><th>ExtControl</th><th>Sel_ID_WD</th><th>ID_A3</th><th>Branch</th><th>Jal</th><th>Jr</th></tr></thead><tbody><tr><td>ori</td><td>1(ç«‹å³æ•°é›¶æ‰©å±•)</td><td>0</td><td>rt</td><td></td><td></td><td></td></tr><tr><td>add</td><td>\</td><td>0</td><td>rd</td><td></td><td></td><td></td></tr><tr><td>sub</td><td>\</td><td>0</td><td>rd</td><td></td><td></td><td></td></tr><tr><td>lw</td><td>0(ç«‹å³æ•°ç¬¦å·æ‰©å±•)</td><td>0</td><td>rt</td><td></td><td></td><td></td></tr><tr><td>sw</td><td>0(ç«‹å³æ•°ç¬¦å·æ‰©å±•)</td><td>0</td><td>$0</td><td></td><td></td><td></td></tr><tr><td>beq</td><td>0(ç«‹å³æ•°ç¬¦å·æ‰©å±•)</td><td>0</td><td>$0</td><td>1 if zero == 1 else 0</td><td></td><td></td></tr><tr><td>lui</td><td>0(ç«‹å³æ•°ç¬¦å·æ‰©å±•)(å…¶å®éšæ„)</td><td>0</td><td>rt</td><td></td><td></td><td></td></tr><tr><td>jal</td><td>\</td><td>1(é€‰æ‹©PC+8)</td><td>$31</td><td></td><td>1</td><td></td></tr><tr><td>jr</td><td>\</td><td>0</td><td>\</td><td></td><td></td><td>1</td></tr><tr><td>swc</td><td>\</td><td>0</td><td>rd</td><td></td><td></td><td></td></tr><tr><td>bonall</td><td>0(ç«‹å³æ•°ç¬¦å·æ‰©å±•)</td><td>1</td><td>31</td><td></td><td></td><td></td></tr><tr><td>lh</td><td>0</td><td>0</td><td>rt</td><td></td><td></td><td></td></tr><tr><td>sh</td><td>0</td><td>0</td><td>\</td><td></td><td></td><td></td></tr><tr><td>lb</td><td>0</td><td>0</td><td>rt</td><td></td><td></td><td></td></tr><tr><td>sb</td><td>0</td><td>0</td><td>\</td><td></td><td></td><td></td></tr><tr><td>and</td><td>\</td><td>0</td><td>rd</td><td></td><td></td><td></td></tr><tr><td>or</td><td>\</td><td>0</td><td>rd</td><td></td><td></td><td></td></tr><tr><td>slt</td><td>\</td><td>0</td><td>rd</td><td></td><td></td><td></td></tr><tr><td>sltu</td><td>\</td><td>0</td><td>rd</td><td></td><td></td><td></td></tr><tr><td>addi</td><td>0</td><td>0</td><td>rt</td><td></td><td></td><td></td></tr><tr><td>andi</td><td>0</td><td>0</td><td>rt</td><td></td><td></td><td></td></tr><tr><td>mult</td><td>\</td><td>0</td><td>$0</td><td></td><td></td><td></td></tr><tr><td>multu</td><td>\</td><td>0</td><td>$0</td><td></td><td></td><td></td></tr><tr><td>div</td><td>\</td><td>0</td><td>$0</td><td></td><td></td><td></td></tr><tr><td>divu</td><td>\</td><td>0</td><td>$0</td><td></td><td></td><td></td></tr><tr><td>mflo</td><td>\</td><td>0</td><td>rd</td><td></td><td></td><td></td></tr><tr><td>mfhi</td><td>\</td><td>0</td><td>rd</td><td></td><td></td><td></td></tr><tr><td>mtlo</td><td>\</td><td>0</td><td>$0</td><td></td><td></td><td></td></tr><tr><td>mthi</td><td>\</td><td>0</td><td>$0</td><td></td><td></td></tr></tbody></table></div><h4 id="T-USE-è¡¨"><a href="#T-USE-è¡¨" class="headerlink" title="$T_{USE}$è¡¨"></a>$T_{USE}$è¡¨</h4><div class="table-container"><table><thead><tr><th></th><th>ID_A1_USE</th><th>ID_A2_USE</th></tr></thead><tbody><tr><td>add</td><td>1</td><td>1</td></tr><tr><td>sub</td><td>1</td><td>1</td></tr><tr><td>ori</td><td>1</td><td>3(z)</td></tr><tr><td>lw</td><td>1</td><td>3(z)</td></tr><tr><td>sw</td><td>1</td><td>2</td></tr><tr><td>beq</td><td>0</td><td>0</td></tr><tr><td>lui</td><td>3(z)</td><td>3(z)</td></tr><tr><td>jal</td><td>3(z)</td><td>3(z)</td></tr><tr><td>jr</td><td>0</td><td>3(z)</td></tr><tr><td>swc</td><td>1</td><td>1</td></tr><tr><td>bonall</td><td>0</td><td>0</td></tr><tr><td>lb</td><td>1</td><td>3(z)</td></tr><tr><td>sb</td><td>1</td><td>2</td></tr><tr><td>lh</td><td>1</td><td>3(z)</td></tr><tr><td>sh</td><td>1</td><td>2</td></tr><tr><td>and</td><td>1</td><td>1</td></tr><tr><td>or</td><td>1</td><td>1</td></tr><tr><td>slt</td><td>1</td><td>1</td></tr><tr><td>sltu</td><td>1</td><td>1</td></tr><tr><td>addi</td><td>1</td><td>0</td></tr><tr><td>andi</td><td>1</td><td>0</td></tr><tr><td>mult</td><td>1</td><td>1</td></tr><tr><td>div</td><td>1</td><td>1</td></tr><tr><td>multu</td><td>1</td><td>1</td></tr><tr><td>divu</td><td>1</td><td>1</td></tr><tr><td>mflo</td><td>3(z)</td><td>3</td></tr><tr><td>mfhi</td><td>3</td><td>3</td></tr><tr><td>mtlo</td><td>1</td><td>3</td></tr><tr><td>mthi</td><td>1</td><td>3</td></tr></tbody></table></div><h4 id="GRFéƒ¨ä»¶"><a href="#GRFéƒ¨ä»¶" class="headerlink" title="GRFéƒ¨ä»¶"></a>GRFéƒ¨ä»¶</h4><blockquote><p>32ä¸ª32bitå¯„å­˜å™¨ç»„æˆçš„å¯„å­˜å™¨å †</p></blockquote><div class="table-container"><table><thead><tr><th>ç«¯å£</th><th>In/Out?</th><th>ä½å®½</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>clk</td><td>in</td><td></td><td></td></tr><tr><td>reset</td><td>in</td><td></td><td></td></tr><tr><td>A1</td><td>in</td><td>[4:0]</td><td>A1è¯»å‡ºå¯„å­˜å™¨åœ°å€</td></tr><tr><td>A2</td><td>in</td><td>[4:0]</td><td>A2è¯»å‡ºå¯„å­˜å™¨åœ°å€</td></tr><tr><td>A3</td><td>in</td><td>[4:0]</td><td>A3å†™å…¥å¯„å­˜å™¨åœ°å€</td></tr><tr><td>WD</td><td>in</td><td>[31:0]</td><td>å†™å…¥æ•°æ®</td></tr><tr><td>PC</td><td>in</td><td>[31:0]</td><td>å½“å‰PC($displayç”¨)</td></tr><tr><td>RD1</td><td>out</td><td>[31:0]</td><td>A1å¯„å­˜å™¨è¯»å‡ºå€¼</td></tr><tr><td>RD2</td><td>out</td><td>[31:0]</td><td>A2å¯„å­˜å™¨è¯»å‡ºå€¼</td></tr></tbody></table></div><h3 id="ID-EX"><a href="#ID-EX" class="headerlink" title="ID_EX"></a>ID_EX</h3><div class="table-container"><table><thead><tr><th>ç«¯å£</th><th>In/Out?</th><th>ä½å®½</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>clk</td><td>in</td><td></td><td></td></tr><tr><td>reset</td><td>in</td><td></td><td></td></tr><tr><td>enable</td><td>in</td><td></td><td>ä½¿èƒ½ä¿¡å·</td></tr><tr><td>flush</td><td>in</td><td></td><td>å†²æ´—ä¿¡å·,å’Œresetä½œç”¨ç›¸åŒ</td></tr><tr><td>ID_PC</td><td>in</td><td>[31:0]</td><td></td></tr><tr><td>ID_instr</td><td>in</td><td>[31:0]</td><td></td></tr><tr><td>ID_RD1</td><td>in</td><td>[31:0]</td><td></td></tr><tr><td>ID_RD2</td><td>in</td><td>[31:0]</td><td></td></tr><tr><td>ID_imm32</td><td>in</td><td>[31:0]</td><td></td></tr><tr><td>ID_A3</td><td>in</td><td>[4:0]</td><td></td></tr><tr><td>ID_WD</td><td>in</td><td>[31:0]</td><td></td></tr><tr><td>EX_PC</td><td>out</td><td>[31:0]</td><td></td></tr><tr><td>EX_instr</td><td>out</td><td>[31:0]</td><td></td></tr><tr><td>EX_RD1</td><td>out</td><td>[31:0]</td><td></td></tr><tr><td>EX_RD2</td><td>out</td><td>[31:0]</td><td></td></tr><tr><td>EX_imm32</td><td>out</td><td>[31:0]</td><td></td></tr><tr><td>EX_A3</td><td>out</td><td>[4:0]</td><td></td></tr><tr><td>EX_WD</td><td>out</td><td>[31:0]</td></tr></tbody></table></div><h3 id="EX"><a href="#EX" class="headerlink" title="EX"></a>EX</h3><h4 id="é¡¶å±‚-2"><a href="#é¡¶å±‚-2" class="headerlink" title="é¡¶å±‚"></a>é¡¶å±‚</h4><div class="table-container"><table><thead><tr><th>ç«¯å£</th><th>In/Out?</th><th>ä½å®½</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>clk</td><td>in</td><td></td><td></td></tr><tr><td>reset</td><td>in</td><td></td><td></td></tr><tr><td>EX_instr</td><td>in</td><td>[31:0]</td><td>EXé˜¶æ®µçš„æŒ‡ä»¤</td></tr><tr><td>EX_imm32</td><td>in</td><td>[31:0]</td><td>32ä½æ‰©å±•çš„ç«‹å³æ•°</td></tr><tr><td>EX_WD</td><td>in</td><td>[31:0]</td><td>EXé˜¶æ®µæ¥æ”¶çš„å†™å…¥å¯„å­˜å™¨å †çš„æ•°æ®</td></tr><tr><td>EX_RD1_forward</td><td>in</td><td>[31:0]</td><td>æ¥æ”¶hazard ctrléƒ¨ä»¶å‘EXé˜¶æ®µä¼ é€’çš„è½¬å‘æ•°æ®å¯„å­˜å™¨A1å€¼</td></tr><tr><td>EX_RD2_forward</td><td>in</td><td>[31:0]</td><td>æ¥æ”¶hazard ctrléƒ¨ä»¶å‘EXé˜¶æ®µä¼ é€’çš„è½¬å‘æ•°æ®å¯„å­˜å™¨A2å€¼</td></tr><tr><td>EX_MEM_RES</td><td>out</td><td>[31:0]</td><td>ä¼ é€’ALUè®¡ç®—ç»“æœ</td></tr><tr><td>EX_MEM_WD</td><td>out</td><td>[31:0]</td><td>ä¼ é€’ç»™EX_MEMæµæ°´å¯„å­˜å™¨çš„Write Data</td></tr><tr><td>EX_MEM_RD2</td><td>out</td><td>[31:0]</td><td>ä¼ é€’ç»™EX_MEMæµæ°´å¯„å­˜å™¨çš„Read Data2</td></tr><tr><td>EX_NEW</td><td>out</td><td>[1:0]</td><td>EXé˜¶æ®µçš„$T_{NEW}$</td></tr></tbody></table></div><h4 id="MULT-DIVéƒ¨ä»¶"><a href="#MULT-DIVéƒ¨ä»¶" class="headerlink" title="MULT_DIVéƒ¨ä»¶"></a>MULT_DIVéƒ¨ä»¶</h4><div class="table-container"><table><thead><tr><th>ç«¯å£</th><th>In/Out?</th><th>ä½å®½</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>clk</td><td>in</td><td></td><td>æ—¶é’Ÿä¿¡å·</td></tr><tr><td>reset</td><td>in</td><td></td><td>é‡åˆ¶ä¿¡å·</td></tr><tr><td>A</td><td>in</td><td>[31:0]</td><td>è®¡ç®—æ•°A</td></tr><tr><td>B</td><td>in</td><td>[31:0]</td><td>è®¡ç®—æ•°B</td></tr><tr><td>start</td><td>in</td><td></td><td>æœ‰æ•ˆä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸ,å¯åŠ¨ä¿¡å·</td></tr><tr><td>MULT_DIV_OP</td><td>in</td><td>[2:0]</td><td>ä¹˜é™¤æ¨¡å—è®¡ç®—æ–¹å¼</td></tr><tr><td>MFHI</td><td>in</td><td></td><td>mfhiä¿¡å·</td></tr><tr><td>MFLO</td><td>in</td><td></td><td>mfloä¿¡å·</td></tr><tr><td>busy</td><td>out</td><td></td><td>è¾“å‡ºå»¶è¿Ÿä¿¡å·</td></tr><tr><td>HI</td><td>out</td><td>[31:0]</td><td>$hiå€¼</td></tr><tr><td>LO</td><td>out</td><td>[31:0]</td><td>$loå€¼</td></tr></tbody></table></div><h4 id="ä¹˜é™¤æ§½ç›¸å…³ä¿¡å·è¡¨"><a href="#ä¹˜é™¤æ§½ç›¸å…³ä¿¡å·è¡¨" class="headerlink" title="ä¹˜é™¤æ§½ç›¸å…³ä¿¡å·è¡¨"></a>ä¹˜é™¤æ§½ç›¸å…³ä¿¡å·è¡¨</h4><div class="table-container"><table><thead><tr><th>æŒ‡ä»¤/ä¿¡å·</th><th>MULT_DIV_OP</th><th>MULT_DIV_START</th></tr></thead><tbody><tr><td>mult</td><td>`mult</td><td>1</td></tr><tr><td>multu</td><td>`multu</td><td>1</td></tr><tr><td>div</td><td>`div</td><td>1</td></tr><tr><td>divu</td><td>`divu</td><td>1</td></tr></tbody></table></div><h4 id="ALUéƒ¨ä»¶"><a href="#ALUéƒ¨ä»¶" class="headerlink" title="ALUéƒ¨ä»¶"></a>ALUéƒ¨ä»¶</h4><div class="table-container"><table><thead><tr><th>ç«¯å£</th><th>In/Out?</th><th>ä½å®½</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>SrcA</td><td>in</td><td>[31:0]</td><td>æ“ä½œæ•°A</td></tr><tr><td>SrcB</td><td>in</td><td>[31:0]</td><td>æ“ä½œæ•°B</td></tr><tr><td>ALUOp</td><td>in</td><td>[3:0]</td><td>è®¡ç®—æ–¹å¼</td></tr><tr><td>ALURes</td><td>out</td><td>[31:0]</td><td>ALUè®¡ç®—ç»“æœ</td></tr></tbody></table></div><h4 id="Controléƒ¨ä»¶-å…±ç”¨-1"><a href="#Controléƒ¨ä»¶-å…±ç”¨-1" class="headerlink" title="Controléƒ¨ä»¶(å…±ç”¨)"></a>Controléƒ¨ä»¶(<em>å…±ç”¨</em>)</h4><div class="table-container"><table><thead><tr><th>ç«¯å£</th><th>In/Out?</th><th>ä½å®½</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>instr</td><td>in</td><td>[31:0]</td><td></td></tr><tr><td>ALUOp</td><td>out</td><td>[3:0]</td><td>é€‰æ‹©ALUæ“ä½œæ–¹å¼</td></tr><tr><td>ALU_A_Sel</td><td>out</td><td></td><td>é€‰æ‹©</td></tr><tr><td>ALU_B_Sel</td><td>out</td><td></td><td>é€‰æ‹©32ä½ç«‹å³æ•°æˆ–è€…å¯„å­˜å™¨rtçš„å€¼</td></tr><tr><td>WD_Sel</td><td>out</td><td></td><td>é€‰æ‹©Write Dataæ¥æº(1:IDé˜¶æ®µçš„PC+8,0:ALURes)</td></tr><tr><td>EX_NEW</td><td>out</td><td></td><td>å½“å‰EXé˜¶æ®µ$T_{USE}$</td></tr><tr><td>MULT_DIV_OP</td><td>out</td><td></td><td>ä¹˜é™¤æ¨¡å—è®¡ç®—æ–¹å¼</td></tr><tr><td>MULT_DIV _START</td><td>out</td><td></td><td>ä¹˜é™¤æ¨¡å—å¼€å§‹ä¿¡å·</td></tr><tr><td>MTHI</td><td>out</td><td></td><td>mthiä¿¡å·,ä¸‹åŒç†</td></tr><tr><td>MTLO</td><td>out</td><td></td><td></td></tr><tr><td>MFHI</td><td>out</td><td></td><td></td></tr><tr><td>MFLO</td><td>out</td><td></td></tr></tbody></table></div><h4 id="EXæ§åˆ¶ä¿¡å·è¡¨"><a href="#EXæ§åˆ¶ä¿¡å·è¡¨" class="headerlink" title="EXæ§åˆ¶ä¿¡å·è¡¨"></a>EXæ§åˆ¶ä¿¡å·è¡¨</h4><div class="table-container"><table><thead><tr><th>æŒ‡ä»¤/ä¿¡å·</th><th>ALUOp</th><th>ALU_B_Sel</th><th>WD_Sel</th></tr></thead><tbody><tr><td>ori</td><td>`aluOr</td><td>1(é€‰æ‹©ç«‹å³æ•°)</td><td>0(Write Dataé€‰æ‹©aluRes)</td></tr><tr><td>add</td><td>`aluAdd</td><td>0(é€‰æ‹©rtå¯„å­˜å™¨)</td><td>0</td></tr><tr><td>sub</td><td>`aluSub</td><td>0(é€‰æ‹©rtå¯„å­˜å™¨)</td><td>0</td></tr><tr><td>beq</td><td>\</td><td>\</td><td>\</td></tr><tr><td>lw</td><td>`aluAdd</td><td>1(é€‰æ‹©ç«‹å³æ•°)</td><td>0</td></tr><tr><td>sw</td><td>`aluAdd</td><td>1(é€‰æ‹©ç«‹å³æ•°)</td><td>0</td></tr><tr><td>lui</td><td>`aluLui</td><td>1(é€‰æ‹©ç«‹å³æ•°)</td><td>0</td></tr><tr><td>jal</td><td>\</td><td>\</td><td>1(Write Dataé€‰æ‹©IDä¼ é€’å€¼)</td></tr><tr><td>jr</td><td>\</td><td>\</td><td>\</td></tr><tr><td>swc</td><td>`aluSwc</td><td>0</td><td>0</td></tr><tr><td>bonall</td><td>\</td><td>\</td><td>1(Write Dataé€‰æ‹©IDä¼ é€’å€¼)</td></tr><tr><td>and</td><td>`aluAnd</td><td>0(é€‰æ‹©rtå¯„å­˜å™¨)</td><td>0</td></tr><tr><td>or</td><td>`aluOr</td><td>0(é€‰æ‹©rtå¯„å­˜å™¨)</td><td>0</td></tr><tr><td>slt</td><td>`aluSlt</td><td>0</td><td>0</td></tr><tr><td>sltu</td><td>`aluSltu</td><td>0</td><td>0</td></tr><tr><td>addi</td><td>`aluAdd</td><td>1</td><td>0</td></tr><tr><td>andi</td><td>`aluAnd</td><td>1</td><td>0</td></tr><tr><td>mult</td><td>\</td><td>\</td><td>0</td></tr><tr><td>mflo</td><td>\</td><td>\</td><td>\</td></tr><tr><td>mfhi</td><td>\</td><td>\</td><td>\</td></tr></tbody></table></div><h4 id="EX-T-NEW-è¡¨"><a href="#EX-T-NEW-è¡¨" class="headerlink" title="EX$T_{NEW}$è¡¨"></a>EX$T_{NEW}$è¡¨</h4><div class="table-container"><table><thead><tr><th></th><th>EX_NEW</th></tr></thead><tbody><tr><td>add</td><td>1</td></tr><tr><td>sub</td><td>1</td></tr><tr><td>ori</td><td>1</td></tr><tr><td>lw</td><td>2</td></tr><tr><td>sw</td><td>0</td></tr><tr><td>beq</td><td>0</td></tr><tr><td>lui</td><td>1</td></tr><tr><td>jal</td><td>0</td></tr><tr><td>jr</td><td>0</td></tr><tr><td>swc</td><td>1</td></tr><tr><td>bonall</td><td>0</td></tr><tr><td>lb</td><td>2</td></tr><tr><td>sb</td><td>0</td></tr><tr><td>lh</td><td>2</td></tr><tr><td>sh</td><td>0</td></tr><tr><td>and</td><td>1</td></tr><tr><td>or</td><td>1</td></tr><tr><td>slt</td><td>1</td></tr><tr><td>sltu</td><td>1</td></tr><tr><td>addi</td><td>1</td></tr><tr><td>andi</td><td>1</td></tr><tr><td>mflo</td><td>1</td></tr><tr><td>mfhi</td><td>1</td></tr></tbody></table></div><h3 id="EX-MEM"><a href="#EX-MEM" class="headerlink" title="EX_MEM"></a>EX_MEM</h3><div class="table-container"><table><thead><tr><th>ç«¯å£</th><th>In/Out?</th><th>ä½å®½</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>clk</td><td>in</td><td></td><td></td></tr><tr><td>reset</td><td>in</td><td></td><td></td></tr><tr><td>flush</td><td>in</td><td></td><td></td></tr><tr><td>EX_PC</td><td>in</td><td>[31:0]</td><td>EXé˜¶æ®µPCåœ°å€</td></tr><tr><td>EX_instr</td><td>in</td><td>[31:0]</td><td>EXé˜¶æ®µæŒ‡ä»¤</td></tr><tr><td>EX_A3</td><td>out</td><td>[4:0]</td><td>EXé˜¶æ®µä¼ é€’çš„A3</td></tr><tr><td>EX_WD</td><td>out</td><td>[31:0]</td><td>EXé˜¶æ®µWrite Data</td></tr><tr><td>EX_RES</td><td>out</td><td>[31:0]</td><td>EXé˜¶æ®µALURes</td></tr><tr><td>EX_RD2</td><td>out</td><td>[31:0]</td><td>EXé˜¶æ®µRead Data2</td></tr><tr><td>MEM_PC</td><td>out</td><td>[31:0]</td><td>MEMé˜¶æ®µPCåœ°å€</td></tr><tr><td>MEM_instr</td><td>out</td><td>[31:0]</td><td>MEMé˜¶æ®µæŒ‡ä»¤</td></tr><tr><td>MEM_A3</td><td>out</td><td>[4:0]</td><td></td></tr><tr><td>MEM_WD</td><td>out</td><td>[31:0]</td><td></td></tr><tr><td>MEM_RES</td><td>out</td><td>[31:0]</td><td></td></tr><tr><td>MEM_RD2</td><td>out</td><td>[31:0]</td></tr></tbody></table></div><h3 id="MEM"><a href="#MEM" class="headerlink" title="MEM"></a>MEM</h3><h4 id="é¡¶å±‚-3"><a href="#é¡¶å±‚-3" class="headerlink" title="é¡¶å±‚"></a>é¡¶å±‚</h4><div class="table-container"><table><thead><tr><th>ç«¯å£</th><th>In/Out?</th><th>ä½å®½</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>clk</td><td>in</td><td></td><td></td></tr><tr><td>reset</td><td>in</td><td></td><td></td></tr><tr><td>MEM_PC</td><td>in</td><td>[31:0]</td><td></td></tr><tr><td>MEM_instr</td><td>in</td><td>[31:0]</td><td></td></tr><tr><td>MEM_WD</td><td>in</td><td>[31:0]</td><td></td></tr><tr><td>MEM_RES</td><td>in</td><td>[31:0]</td><td></td></tr><tr><td>MEM_RD2_forward</td><td>in</td><td>[31:0]</td><td>WBè½¬å‘çš„Read Data2</td></tr><tr><td>MEM_A3</td><td>in</td><td>[4:0]</td><td>MEMä¼ é€’çš„A3å¯„å­˜å™¨åœ°å€</td></tr><tr><td>RD</td><td>in</td><td>[31:0]</td><td>ä»Memoryä¸­è¯»å‡ºçš„æ•°æ®</td></tr><tr><td>MEM_WB_A3</td><td>out</td><td>[4:0]</td><td></td></tr><tr><td>MEM_WB_WD</td><td>out</td><td>[31:0]</td><td></td></tr><tr><td>MEM_A2_NEW</td><td>out</td><td>[1:0]</td><td>MEM$T_{NEW}$</td></tr><tr><td>MEM_BYTE_EN</td><td>out</td><td>[3:0]</td><td>å†™å…¥MEMæ•°æ®çš„æŒ‰å­—èŠ‚ä½¿èƒ½ä¿¡å·</td></tr><tr><td>MEM_WRITE_DATA</td><td>out</td><td>[31:0]</td><td>å†™å…¥MEM,æŒ‰å­—èŠ‚é‡æ–°æ’åºçš„æ•°æ®</td></tr><tr><td>MEM_DATA_ADDR</td><td>out</td><td>[31:0]</td><td>å†™å…¥æˆ–è¯»å‡ºçš„Memoryåœ°å€</td></tr><tr><td>MEM_INST_ADDR</td><td>out</td><td>[31:0]</td><td>å½“load/storeæŒ‡ä»¤å¯¹åº”çš„PCåœ°å€</td></tr></tbody></table></div><h4 id="MEMControléƒ¨ä»¶-å…±ç”¨"><a href="#MEMControléƒ¨ä»¶-å…±ç”¨" class="headerlink" title="MEMControléƒ¨ä»¶(å…±ç”¨)"></a>MEMControléƒ¨ä»¶(å…±ç”¨)</h4><div class="table-container"><table><thead><tr><th>ç«¯å£</th><th>In/Out?</th><th>ä½å®½</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>instr</td><td>in</td><td></td><td></td></tr><tr><td>MEM_WE</td><td>out</td><td></td><td>é€‰æ‹©æ˜¯å¦å†™å…¥Memory</td></tr><tr><td>MEM_Sel</td><td>out</td><td></td><td>é€‰æ‹©æ˜¯å¦å°†Memoryè¯»å‡ºå€¼å‘åä¼ é€’(1:yes)</td></tr><tr><td>MEM_A2_NEW</td><td>out</td><td></td><td>MEMåŒº$T_{NEW}$</td></tr><tr><td>MEM_PART</td><td>out</td><td>[1:0]</td><td>é€‰æ‹©å­˜å…¥/è¯»å–Word,Halfæˆ–è€…Byte</td></tr><tr><td>MEM_EXT_Control</td><td>out</td><td>[2:0]</td><td>MEM_EXTéƒ¨ä»¶æ§åˆ¶ä¿¡å·</td></tr></tbody></table></div><h4 id="MEMä¿¡å·åŠ-T-NEW-è¡¨"><a href="#MEMä¿¡å·åŠ-T-NEW-è¡¨" class="headerlink" title="MEMä¿¡å·åŠ$T_{NEW}$è¡¨"></a>MEMä¿¡å·åŠ$T_{NEW}$è¡¨</h4><div class="table-container"><table><thead><tr><th>æŒ‡ä»¤/ä¿¡å·</th><th>MEM_WE</th><th>MEM_Sel</th><th>MEM_A2_NEW</th><th>MEM_PART</th><th>MEM_EXT_Control</th></tr></thead><tbody><tr><td>sw</td><td>1</td><td>0</td><td>0</td><td>`memWord</td><td>3â€™bz</td></tr><tr><td>sh</td><td>1</td><td>0</td><td>0</td><td>`memHalf</td><td>3â€™bz</td></tr><tr><td>sb</td><td>1</td><td>0</td><td>0</td><td>`memByte</td><td>3â€™bz</td></tr><tr><td>lw</td><td>0</td><td>1</td><td>1</td><td>`memWord</td><td>`nonExt</td><td></td></tr><tr><td>lh</td><td>0</td><td>1</td><td>1</td><td>`memHalf</td><td>`signedHalfExt</td><td></td></tr><tr><td>lb</td><td>0</td><td>1</td><td>1</td><td>`memByte</td><td>`signedByteExt</td><td></td></tr><tr><td>else</td><td>0</td><td>0</td><td>0</td><td>2â€™bz</td><td>3â€™bz</td></tr></tbody></table></div><h3 id="MEM-WB"><a href="#MEM-WB" class="headerlink" title="MEM_WB"></a>MEM_WB</h3><div class="table-container"><table><thead><tr><th>ç«¯å£</th><th>In/Out?</th><th>ä½å®½</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>clk</td><td>in</td><td></td><td></td></tr><tr><td>reset</td><td>in</td><td></td><td></td></tr><tr><td>MEM_PC</td><td>in</td><td>[31;0]</td><td></td></tr><tr><td>MEM_instr</td><td>in</td><td>[31:0]</td><td></td></tr><tr><td>MEM_A3</td><td>in</td><td>[4:0]</td><td></td></tr><tr><td>MEM_WD</td><td>in</td><td>[31:0]</td><td></td></tr><tr><td>WB_PC</td><td>out</td><td>[31:0]</td><td></td></tr><tr><td>WB_instr</td><td>out</td><td>[31:0]</td><td></td></tr><tr><td>WB_A3</td><td>out</td><td>[4:0]</td><td></td></tr><tr><td>WB_WD</td><td>out</td><td>[31:0]</td></tr></tbody></table></div><h3 id="HAZARD-CTRL"><a href="#HAZARD-CTRL" class="headerlink" title="HAZARD_CTRL"></a>HAZARD_CTRL</h3><div class="table-container"><table><thead><tr><th>ç«¯å£</th><th>In/Out?</th><th>ä½å®½</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>clk</td><td>in</td><td></td><td></td></tr><tr><td>reset</td><td>in</td><td></td><td></td></tr><tr><td><strong>IDé˜¶æ®µ</strong></td><td></td><td></td><td></td></tr><tr><td>ID_A1</td><td>in</td><td>[4:0]</td><td>IDé˜¶æ®µæ­£åœ¨ä½¿ç”¨çš„A1å¯„å­˜å™¨</td></tr><tr><td>ID_A2</td><td>in</td><td>[4:0]</td><td>IDé˜¶æ®µæ­£åœ¨ä½¿ç”¨çš„A2å¯„å­˜å™¨</td></tr><tr><td>ID_RD1</td><td>in</td><td>[31:0]</td><td>IDé˜¶æ®µå¯„å­˜å™¨å †è¯»å‡ºçš„A1å¯¹åº”å€¼</td></tr><tr><td>ID_RD2</td><td>in</td><td>[31:0]</td><td>IDé˜¶æ®µå¯„å­˜å™¨å †è¯»å‡ºçš„A2å¯¹åº”å€¼</td></tr><tr><td>ID_A1_USE</td><td>in</td><td>[1:0]</td><td>$T_{USE}$</td></tr><tr><td>ID_A2_USE</td><td>in</td><td>[1:0]</td><td>$T_{USE}$</td></tr><tr><td>ID_MD</td><td>in</td><td></td><td>IDåŒºå¤„ç†æŒ‡ä»¤æ˜¯å¦ä¸ä¹˜é™¤ç›¸å…³</td></tr><tr><td><strong>EXé˜¶æ®µ</strong></td><td></td><td></td><td></td></tr><tr><td>EX_A1</td><td>in</td><td>[4:0]</td><td></td></tr><tr><td>EX_A2</td><td>in</td><td>[4:0]</td><td></td></tr><tr><td>EX_RD1</td><td>in</td><td>[31:0]</td><td>IEé˜¶æ®µA2å¯¹åº”å€¼,ç”±IDåŒºçš„è½¬å‘å€¼å¾—æ¥</td></tr><tr><td>EX_RD2</td><td>in</td><td>[31:0]</td><td>IEé˜¶æ®µA2å¯¹åº”å€¼,ç”±IDåŒºçš„è½¬å‘å€¼å¾—æ¥</td></tr><tr><td>EX_A1_USE</td><td>in</td><td>[1:0]</td><td>$T_{USE}$</td></tr><tr><td>EX_A2_USE</td><td>in</td><td>[1:0]</td><td>$T_{USE}$</td></tr><tr><td>EX_A3</td><td>in</td><td>[4:0]</td><td>EXä¼ é€’çš„A3å¯„å­˜å™¨(rd)</td></tr><tr><td>EX_WD</td><td>in</td><td>[31:0]</td><td>EXä¼ é€’çš„Write Data</td></tr><tr><td>MULT_DIV_BUSY</td><td>in</td><td></td><td>ä¹˜é™¤æ¨¡å—å¿™ç¢Œä¿¡å·</td></tr><tr><td>MULT_DIV_START</td><td>in</td><td></td><td>ä¹˜é™¤æ¨¡å—å¼€å§‹ä¿¡å·</td></tr><tr><td><strong>MEMé˜¶æ®µ</strong></td><td></td><td></td><td></td></tr><tr><td>MEM_A2</td><td>in</td><td>[4:0]</td><td>MEMæ­£åœ¨ä½¿ç”¨çš„A2</td></tr><tr><td>MEM_RD2</td><td>in</td><td>[31:0]</td><td>MEMçš„Read Data2,ç”±EXä¼ é€’è€Œæ¥</td></tr><tr><td>MEM_A2_NEW</td><td>in</td><td>[1:0]</td><td>MEMçš„$T_{NEW}$</td></tr><tr><td>MEM_A3</td><td>in</td><td>[4:0]</td><td>MEMä¼ é€’A3</td></tr><tr><td>MEM_WD</td><td>in</td><td>[31:0]</td><td>MEMä¼ é€’çš„Write Data</td></tr><tr><td><strong>WB</strong></td><td></td><td></td><td></td></tr><tr><td>WB_A3</td><td>in</td><td>[4:0]</td><td></td></tr><tr><td>WB_WD</td><td>in</td><td>[31:0]</td><td></td></tr><tr><td><strong>è½¬å‘FORWARD</strong></td><td></td><td></td><td></td></tr><tr><td>ID_RD1_forward</td><td>out</td><td>[31:0]</td><td></td></tr><tr><td>ID_RD2_forward</td><td>out</td><td>[31:0]</td><td></td></tr><tr><td>EX_RD1_forward</td><td>out</td><td>[31:0]</td><td></td></tr><tr><td>EX_RD2_forward</td><td>out</td><td>[31:0]</td><td></td></tr><tr><td>MEM_RD2_forward</td><td>out</td><td>[31:0]</td><td></td></tr><tr><td><strong>æš‚åœä¿¡å·STALL</strong></td><td></td><td></td><td></td></tr><tr><td>Enable_PC</td><td>out</td><td></td><td>PCä½¿èƒ½ä¿¡å·</td></tr><tr><td>Enable_IF_ID</td><td>out</td><td></td><td>IF_IDæµæ°´å¯„å­˜å™¨ä½¿èƒ½ä¿¡å·</td></tr><tr><td>Enable_ID_EX</td><td>out</td><td></td><td>ID_EXæµæ°´å¯„å­˜å™¨ä½¿èƒ½ä¿¡å·</td></tr><tr><td>Flush_ID_EX</td><td>out</td><td></td><td>ID_EXæµæ°´å¯„å­˜å™¨åˆ·æ–°ä¿¡å·</td></tr><tr><td>Flush_EX_MEM</td><td>out</td><td></td><td>EX_MEMæµæ°´å¯„å­˜å™¨åˆ·æ–°ä¿¡å·</td></tr></tbody></table></div><h2 id="é˜»å¡çŸ©é˜µ"><a href="#é˜»å¡çŸ©é˜µ" class="headerlink" title="é˜»å¡çŸ©é˜µ"></a>é˜»å¡çŸ©é˜µ</h2><div class="table-container"><table><thead><tr><th>IF/IDå½“å‰æŒ‡ä»¤</th><th></th><th></th><th>ID/EX</th><th></th><th></th><th>EX/MEM</th><th></th><th></th><th>MEM/WB</th><th></th><th></th></tr></thead><tbody><tr><td>æŒ‡ä»¤ç±»å‹</td><td>æºå¯„å­˜å™¨</td><td>$T_{use}$</td><td>cal_r<br>1/rd)<br></td><td>cal_i<br>(1/rt)<br></td><td>load<br>(2/rt)<br></td><td>cal_r<br>(0/rd)</td><td>cal_i<br>(0/rt)</td><td>load<br>(1/rt)</td><td>cal_r<br>(0/rd)</td><td>cal_i<br>(0/rt)</td><td>load<br>(0/rt)</td></tr><tr><td>beq</td><td>rs/rt</td><td>0</td><td>X</td><td>X</td><td>X</td><td></td><td></td><td>X</td><td></td><td></td><td></td></tr><tr><td>cal_r</td><td>rs_rt</td><td>1</td><td></td><td></td><td>X</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>cal_i</td><td>rs</td><td>1</td><td></td><td></td><td>X</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>load</td><td>rs(base)</td><td>1</td><td></td><td></td><td>X</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>store</td><td>rs(base)</td><td>1</td><td></td><td></td><td>X</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>store</td><td>rt</td><td>2</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table></div><h2 id="æš‚åœå®ç°"><a href="#æš‚åœå®ç°" class="headerlink" title="æš‚åœå®ç°"></a>æš‚åœå®ç°</h2><blockquote><p>ä½¿ç”¨è¯¾ç¨‹è®²è§£çš„ATæ³•,åœ¨æµæ°´çº¿è¿è¡ŒæœŸé—´,IDåŒºæä¾›$T_{USE}$,EX,MEMåŒºæä¾›$T_{NEW}$,åœ¨å†’é™©æ§åˆ¶æ¨¡å—ä¸­é‡‡ç”¨ä»¥ä¸‹åˆ¤æ–­é€»è¾‘:</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">assign</span> STALL =  (ID_A1 == EX_A3 &amp;&amp; ID_A1_USE &lt; EX_NEW &amp;&amp; EX_A3 != <span class="hljs-number">0</span>)  <br>              || (ID_A2 == EX_A3 &amp;&amp; ID_A2_USE &lt; EX_NEW &amp;&amp; EX_A3 != <span class="hljs-number">0</span>)<br>              || (ID_A1 == MEM_A3 &amp;&amp; ID_A1_USE &lt; MEM_A2_NEW &amp;&amp; MEM_A3 != <span class="hljs-number">0</span>)<br>              || (ID_A2 == MEM_A3 &amp;&amp; ID_A2_USE &lt; MEM_A2_NEW &amp;&amp; MEM_A3 != <span class="hljs-number">0</span>);<br></code></pre></td></tr></table></figure><p>STALLä¿¡å·ä¼šæ§åˆ¶ä¸‰ä¸ªè¡Œä¸º:</p><ol><li>æš‚åœIFåŒºçš„PCæ¨¡å—</li><li>æš‚åœIF_IDé—´æµæ°´å¯„å­˜å™¨</li><li>åˆ·æ–°ID_EXé—´æµæ°´å¯„å­˜å™¨(ç­‰åŒäºreset)</li></ol><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">assign</span> Enable_PC = !STALL;<br><span class="hljs-keyword">assign</span> Enable_IF_ID = !STALL;<br><span class="hljs-keyword">assign</span> Flush_ID_EX = STALL;<br></code></pre></td></tr></table></figure></blockquote><h2 id="è½¬å‘å®ç°"><a href="#è½¬å‘å®ç°" class="headerlink" title="è½¬å‘å®ç°"></a>è½¬å‘å®ç°</h2><blockquote><p>è½¬å‘æœ‰äº”æ¡å¯èƒ½çš„æ•°æ®é€šè·¯:</p><ol><li>$EX_MEM\rightarrow ID$</li><li>$MEM_WB\rightarrow ID$</li><li>$EX_MEM\rightarrow EX$</li><li>$MEM_WB\rightarrow EX$</li><li>$MEM_WB\rightarrow MEM$</li></ol><p>è¿™é‡Œä»¥IDåŒºçš„RD1è½¬å‘æ•°æ®é€»è¾‘ä¸ºä¾‹:</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">assign</span> ID_RD1_forward = (ID_A1 == <span class="hljs-number">5&#x27;b0</span>) ? <span class="hljs-number">0</span> :<br>                        (ID_A1 == MEM_A3) ? MEM_WD :<br>                        (ID_A1 == WB_A3) ? WB_WD :<br>                        ID_RD1;<br></code></pre></td></tr></table></figure></blockquote><h2 id="å¯„å­˜å™¨å†…éƒ¨è½¬å‘å®ç°"><a href="#å¯„å­˜å™¨å†…éƒ¨è½¬å‘å®ç°" class="headerlink" title="å¯„å­˜å™¨å†…éƒ¨è½¬å‘å®ç°"></a>å¯„å­˜å™¨å†…éƒ¨è½¬å‘å®ç°</h2><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs Verilog"><span class="hljs-comment">// è€ƒè™‘å¯„å­˜å™¨å†…éƒ¨è½¬å‘</span><br><span class="hljs-keyword">assign</span> RD1 = (A1 == A3 &amp;&amp; A1 != <span class="hljs-number">0</span> &amp;&amp; !reset) ? WD : grf[A1]; <br><span class="hljs-keyword">assign</span> RD2 = (A2 == A3 &amp;&amp; A2 != <span class="hljs-number">0</span> &amp;&amp; !reset) ? WD : grf[A2];<br></code></pre></td></tr></table></figure><h2 id="æµ‹è¯•æ–¹æ¡ˆ"><a href="#æµ‹è¯•æ–¹æ¡ˆ" class="headerlink" title="æµ‹è¯•æ–¹æ¡ˆ"></a>æµ‹è¯•æ–¹æ¡ˆ</h2><ol><li><code>Python</code>è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•mipsæ–‡ä»¶</li><li><code>Mars</code>è¿è¡Œmipsæ–‡ä»¶,ç”Ÿæˆæ­£ç¡®ç»“æœå’Œæœºå™¨ç </li><li><code>iverilog</code>è¿è¡ŒCPUæ–‡ä»¶,ç”Ÿæˆæµ‹è¯•ç»“æœ</li><li><code>Python</code>æ¯”è¾ƒä¸¤ä»½ç­”æ¡ˆ</li></ol><h2 id="æ€è€ƒé¢˜"><a href="#æ€è€ƒé¢˜" class="headerlink" title="æ€è€ƒé¢˜"></a>æ€è€ƒé¢˜</h2><p>1ã€ä¸ºä»€ä¹ˆéœ€è¦æœ‰å•ç‹¬çš„ä¹˜é™¤æ³•éƒ¨ä»¶è€Œä¸æ˜¯æ•´åˆè¿› ALUï¼Ÿä¸ºä½•éœ€è¦æœ‰ç‹¬ç«‹çš„ HIã€LO å¯„å­˜å™¨ï¼Ÿ</p><blockquote><p>ä¹˜é™¤æ³•çš„è¿ç®—é€Ÿç‡æ˜æ˜¾ä½äºå…¶ä»–è¿ç®—,éœ€è¦å¤šä¸ªæ—¶é’Ÿå‘¨æœŸ,å°†ä¹˜é™¤æ³•åˆ†ç¦»å‡ºALUå¯ä»¥é¿å…ä¹˜é™¤æŒ‡ä»¤å¹²æ‰°å…¶ä»–è¿ç®—æŒ‡ä»¤çš„è¿›è¡Œ.</p><p>ç‹¬ç«‹çš„HI,LOå¯„å­˜å™¨å¯ä»¥ä¿å­˜ä¹˜é™¤æ³•è¿ç®—çš„å€¼,è‹¥ä¸å®ç°è¯¥ç‹¬ç«‹å¯„å­˜å™¨,è¦ç­‰å¾…è¿ç®—å®Œæˆåå†å°†å€¼é€å›å¯„å­˜å™¨å †ä¸­,ä¸¥é‡é™ä½æµæ°´çº¿CPUçš„æ€§èƒ½.</p></blockquote><p>2ã€çœŸå®çš„æµæ°´çº¿ CPU æ˜¯å¦‚ä½•ä½¿ç”¨å®ç°ä¹˜é™¤æ³•çš„ï¼Ÿè¯·æŸ¥é˜…ç›¸å…³èµ„æ–™è¿›è¡Œç®€å•è¯´æ˜ã€‚</p><blockquote><ol><li>ä¹˜æ³•</li></ol><p>CPUä¼šåˆå§‹åŒ–ä¸‰ä¸ªé€šç”¨å¯„å­˜å™¨,åˆ†åˆ«å­˜æ”¾è¢«ä¹˜æ•°,ä¹˜æ•°,éƒ¨åˆ†ç§¯.éƒ¨åˆ†ç§¯å¯„å­˜å™¨åˆå§‹åŒ–ä¸º0.</p><p>åˆ¤æ–­ä¹˜æ•°å¯„å­˜å™¨çš„ä½ä½æ˜¯ä½ç”µå¹³(0)è¿˜æ˜¯é«˜ç”µå¹³(1),å¦‚æœæ˜¯0åˆ™å°†ä¹˜æ•°å¯„å­˜å™¨å³ç§»ä¸€ä½,åŒæ—¶å°†éƒ¨åˆ†ç§¯å¯„å­˜å™¨ä¹Ÿå³ç§»ä¸€ä½</p><p>å¦‚æœä¸º1,åˆ™å°†éƒ¨åˆ†ç§¯å¯„å­˜å™¨åŠ ä¸Šè¢«ä¹˜æ•°å¯„å­˜å™¨çš„å€¼,å†è¿›è¡Œç§»ä½æ“ä½œ</p><p>ä¹˜æ•°å¯„å­˜å™¨ä½ä½æº¢å‡ºçš„ä¸€ä½ä¸¢å¼ƒ,éƒ¨åˆ†å¯„å­˜å™¨ä½ä½æº¢å‡ºçš„ä¸€ä½å¡«å……åˆ°ä¹˜æ•°å¯„å­˜å™¨çš„é«˜ä½</p><p>å¤„ç†å®Œæ¯•å,ä¹˜æ•°å¯„å­˜å™¨å³<code>$lo</code>,éƒ¨åˆ†ç§¯å¯„å­˜å™¨å³<code>$hi</code></p><ol><li>é™¤æ³•</li></ol><p>é¦–å…ˆCPUä¼šåˆå§‹åŒ–ä¸‰ä¸ªå¯„å­˜å™¨,åˆ†åˆ«ç”¨æ¥å­˜æ”¾è¢«é™¤æ•°,é™¤æ•°,éƒ¨åˆ†å•†.</p><p>ä½™æ•°(è¢«é™¤æ•°ä¸é™¤æ•°æ¯”è¾ƒçš„ç»“æœ)æ”¾åˆ°è¢«é™¤æ•°çš„æœ‰æ•ˆé«˜ä½ä¸Š.</p><p>é¦–å…ˆCPUä¼šæŠŠè¢«é™¤æ•°bitä½ä¸é™¤æ•°bitä½å¯¹é½,ç„¶ååœ¨è®©å¯¹é½çš„è¢«é™¤æ•°ä¸é™¤æ•°æ¯”è¾ƒ(åŒç¬¦å·ä½åˆ¤æ–­).</p><p>åŒç¬¦å·ä½åˆ¤æ–­ï¼š æ¯”å¦‚01-10=11(å‰é¢çš„1æ˜¯ç¬¦å·ä½) 1-2=-1 è®¡ç®—æœºé€šè¿‡ç¬¦å·ä½å’Œåä¸€ä½çš„bitä½æ¥åˆ¤æ–­å¤§äºå’Œå°äºï¼Œé‚£ä¹ˆ01-10=11 å°±è¯´æ˜01å°äº10ï¼Œå¦‚æœå¾—æ•°ä¸º01å°±ä»£è¡¨å¤§äºï¼Œå¦‚æœå¾—æ•°ä¸º00ä»£è¡¨ç­‰äºã€‚ </p><p>å¦‚æœå¾—æ•°å¤§äºæˆ–ç­‰äºåˆ™å°†æ¯”è¾ƒçš„ç»“æœæ”¾åˆ°è¢«é™¤æ•°çš„æœ‰æ•ˆé«˜ä½ä¸Šç„¶ååœ¨å•†å¯„å­˜å™¨ä¸Šå•†ï¼š1 å¹¶å‘åå¤šçœ‹ä¸€ä½ (ä¸Šå•†å°±æ˜¯å°†å•†çš„æœ€ä½ä½å·¦ç§»1ä½è…¾å‡ºå•†å¯„å­˜å™¨æœ€ä½ä½ä¸Šæ–°çš„å•†) </p><p>å¦‚æœå¾—æ•°å°äºåˆ™ä¸Šå•†ï¼š0 å¹¶å‘åå¤šçœ‹ä¸€ä½ </p><p>å¾ªç¯åšä»¥ä¸Šæ“ä½œå½“æ‰€æœ‰çš„è¢«é™¤æ•°éƒ½å¤„ç†å®Œåï¼Œå•†åšç»“æœè¢«é™¤æ•°é‡Œé¢çš„å€¼å°±æ˜¯ä½™æ•°.</p></blockquote><p>3ã€è¯·ç»“åˆè‡ªå·±çš„å®ç°åˆ†æï¼Œä½ æ˜¯å¦‚ä½•å¤„ç† Busy ä¿¡å·å¸¦æ¥çš„å‘¨æœŸé˜»å¡çš„ï¼Ÿ</p><blockquote><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">assign</span> STALL =  (ID_A1 == EX_A3 &amp;&amp; ID_A1_USE &lt; EX_NEW &amp;&amp; EX_A3 != <span class="hljs-number">0</span>)  <br>              || (ID_A2 == EX_A3 &amp;&amp; ID_A2_USE &lt; EX_NEW &amp;&amp; EX_A3 != <span class="hljs-number">0</span>)<br>              || (ID_A1 == MEM_A3 &amp;&amp; ID_A1_USE &lt; MEM_A2_NEW &amp;&amp; MEM_A3 != <span class="hljs-number">0</span>)<br>              || (ID_A2 == MEM_A3 &amp;&amp; ID_A2_USE &lt; MEM_A2_NEW &amp;&amp; MEM_A3 != <span class="hljs-number">0</span>)<br>              || (ID_MD &amp;&amp; (MULT_DIV_BUSY || MULT_DIV_START));<br></code></pre></td></tr></table></figure><p>å½“<code>EX</code>åŒºçš„ä¹˜é™¤éƒ¨ä»¶åœ¨è®¡ç®—ä¹˜é™¤ç»“æœæ—¶,<code>MULT_DIV_BUSY</code>ç½®1;å½“IDåŒºé‡åˆ°ä¹˜é™¤ç›¸å…³æŒ‡ä»¤(<code>ID_MD</code>=1)æ—¶,è‹¥<code>MULT_DIV_BUSY</code>æˆ–<code>MULT_DIV_START</code>ä¸º1,åˆ™å‘¨æœŸé˜»å¡.</p></blockquote><p>4ã€è¯·é—®é‡‡ç”¨å­—èŠ‚ä½¿èƒ½ä¿¡å·çš„æ–¹å¼å¤„ç†å†™æŒ‡ä»¤æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿï¼ˆæç¤ºï¼šä»æ¸…æ™°æ€§ã€ç»Ÿä¸€æ€§ç­‰è§’åº¦è€ƒè™‘ï¼‰</p><blockquote><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">assign</span> MEM_BYTE_EN =  (WE == <span class="hljs-number">0</span>) ? <span class="hljs-number">4&#x27;b0000</span> :<br>                 (MEM_PART == `memWord) ? <span class="hljs-number">4&#x27;b1111</span> :<br>                 (MEM_PART == `memHalf &amp;&amp; half == <span class="hljs-number">0</span>) ? <span class="hljs-number">4&#x27;b0011</span> :<br>                 (MEM_PART == `memHalf &amp;&amp; half == <span class="hljs-number">1</span>) ? <span class="hljs-number">4&#x27;b1100</span> :<br>                 (MEM_PART == `memByte &amp;&amp; <span class="hljs-keyword">byte</span> == <span class="hljs-number">2&#x27;b00</span>) ? <span class="hljs-number">4&#x27;b0001</span> : <br>                 (MEM_PART == `memByte &amp;&amp; <span class="hljs-keyword">byte</span> == <span class="hljs-number">2&#x27;b01</span>) ? <span class="hljs-number">4&#x27;b0010</span> : <br>                 (MEM_PART == `memByte &amp;&amp; <span class="hljs-keyword">byte</span> == <span class="hljs-number">2&#x27;b10</span>) ? <span class="hljs-number">4&#x27;b0100</span> : <br>                 (MEM_PART == `memByte &amp;&amp; <span class="hljs-keyword">byte</span> == <span class="hljs-number">2&#x27;b11</span>) ? <span class="hljs-number">4&#x27;b1000</span> :<br>                 <span class="hljs-number">4&#x27;b0000</span>;<br></code></pre></td></tr></table></figure><p>ä½¿å¾—ä»£ç æ¸…æ™°æ˜“è¯»,é¿å…äº†å¤§é‡çš„ä½æ‹¼æ¥çš„æƒ…å†µ,å¯ä»¥å¤„ç†æŒ‰å­—,åŠå­—,å­—èŠ‚è¯»å…¥/å†™å…¥çš„æ“ä½œ,ç»Ÿä¸€æ€§å¥½.</p></blockquote><p>5ã€è¯·æ€è€ƒï¼Œæˆ‘ä»¬åœ¨æŒ‰å­—èŠ‚è¯»å’ŒæŒ‰å­—èŠ‚å†™æ—¶ï¼Œå®é™…ä» DM è·å¾—çš„æ•°æ®å’Œå‘ DM å†™å…¥çš„æ•°æ®æ˜¯å¦æ˜¯ä¸€å­—èŠ‚ï¼Ÿåœ¨ä»€ä¹ˆæƒ…å†µä¸‹æˆ‘ä»¬æŒ‰å­—èŠ‚è¯»å’ŒæŒ‰å­—èŠ‚å†™çš„æ•ˆç‡ä¼šé«˜äºæŒ‰å­—è¯»å’ŒæŒ‰å­—å†™å‘¢ï¼Ÿ</p><blockquote><p>ä¸æ˜¯,æˆ‘ä»¬ä»DMè·å¾—çš„æ•°æ®å’Œå‘DMå†™å…¥çš„æ•°æ®éƒ½æ˜¯ä¸€å­—,é€šè¿‡å¤„ç†åé€‰æ‹©å…¶ä¸­ä¸€ä¸ªå­—èŠ‚æ‰§è¡Œæ“ä½œ.</p><p>å½“æŒ‡ä»¤åºåˆ—æœ‰å¤§é‡æ¶‰åŠ<code>lh,sh,lb,sb</code>çš„æŒ‡ä»¤æ—¶.</p></blockquote><p>6ã€ä¸ºäº†å¯¹æŠ—å¤æ‚æ€§ä½ é‡‡å–äº†å“ªäº›æŠ½è±¡å’Œè§„èŒƒæ‰‹æ®µï¼Ÿè¿™äº›æ‰‹æ®µåœ¨è¯‘ç å’Œå¤„ç†æ•°æ®å†²çªçš„æ—¶å€™æœ‰ä»€ä¹ˆæ ·çš„ç‰¹ç‚¹ä¸å¸®åŠ©ï¼Ÿ</p><blockquote><p>è¯‘ç :å°†æŒ‡ä»¤è¿›è¡Œåˆ†ç±»,é™ä½è¯‘ç ä»£ç å¤æ‚åº¦å’Œä¹¦å†™éš¾åº¦</p><p>å¤„ç†æ•°æ®å†²çª:å°†æ•°æ®é€šè·¯çš„é˜»å¡æ“ä½œå’Œè½¬å‘æ“ä½œåˆ†ç¦»,å„éƒ¨ä»¶çš„é€‰æ‹©ä¿¡å·å‡ç”±Controléƒ¨ä»¶äº§ç”Ÿ,å‡å°‘å„éƒ¨ä»¶çš„è€¦åˆåº¦</p></blockquote><p>7ã€åœ¨æœ¬å®éªŒä¸­ä½ é‡åˆ°äº†å“ªäº›ä¸åŒæŒ‡ä»¤ç±»å‹ç»„åˆäº§ç”Ÿçš„å†²çªï¼Ÿä½ åˆæ˜¯å¦‚ä½•è§£å†³çš„ï¼Ÿç›¸åº”çš„æµ‹è¯•æ ·ä¾‹æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ</p><blockquote><p>IDåŒºå’ŒEXåŒºå‡åœ¨æ‰§è¡Œä¹˜é™¤ç±»æŒ‡ä»¤:STALL</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs assembly">ori $1, $0, 0x3456<br>ori $2, $0, 0x4675<br>ori $3, $0, 0x786922<br>multu $1, $2<br>mult $2, $3<br>mflo $3<br>mfhi $4<br></code></pre></td></tr></table></figure></blockquote><p>8ã€å¦‚æœä½ æ˜¯æ‰‹åŠ¨æ„é€ çš„æ ·ä¾‹ï¼Œè¯·è¯´æ˜æ„é€ ç­–ç•¥ï¼Œè¯´æ˜ä½ çš„æµ‹è¯•ç¨‹åºå¦‚ä½•ä¿è¯<strong>è¦†ç›–</strong>äº†æ‰€æœ‰éœ€è¦æµ‹è¯•çš„æƒ…å†µï¼›å¦‚æœä½ æ˜¯<strong>å®Œå…¨éšæœº</strong>ç”Ÿæˆçš„æµ‹è¯•æ ·ä¾‹ï¼Œè¯·æ€è€ƒå®Œå…¨éšæœºçš„æµ‹è¯•ç¨‹åºæœ‰ä½•ä¸è¶³ä¹‹å¤„ï¼›å¦‚æœä½ åœ¨ç”Ÿæˆæµ‹è¯•æ ·ä¾‹æ—¶é‡‡ç”¨äº†<strong>ç‰¹æ®Šçš„ç­–ç•¥</strong>ï¼Œæ¯”å¦‚æ„é€ è¿ç»­æ•°æ®å†’é™©åºåˆ—ï¼Œè¯·ä½ æè¿°ä¸€ä¸‹ä½ ä½¿ç”¨çš„ç­–ç•¥å¦‚ä½•<strong>ç»“åˆäº†éšæœºæ€§</strong>è¾¾åˆ°å¼ºæµ‹çš„æ•ˆæœã€‚</p><blockquote><p>ä¸è¶³ä¹‹å¤„:å¯èƒ½ä¼šé—æ¼ç‰¹æ®Šçš„é˜»å¡å’Œè½¬å‘æƒ…å†µ</p><p>ç­–ç•¥:</p><ol><li><p>é™åˆ¶ä½¿ç”¨çš„å¯„å­˜å™¨ä¸ªæ•°,æé«˜æ•°æ®å†²çªçš„å¯èƒ½æ€§</p></li><li><p>ç”Ÿæˆbeq,jalç­‰è·³è½¬ç±»æŒ‡ä»¤æ—¶æ‰“å°ä¸€ç»„è¯­å¥,æŒ‡å®šè·³è½¬çš„å¯„å­˜å™¨å€¼æˆ–<code>PC+OFFSET</code>,é¿å…è·³è½¬åœ°å€ä¸åˆç†</p></li></ol></blockquote>]]></content>
    
    
    
    <tags>
      
      <tag>CO</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>cache</title>
    <link href="/2024/11/11/cache/"/>
    <url>/2024/11/11/cache/</url>
    
    <content type="html"><![CDATA[<h1 id="Cache"><a href="#Cache" class="headerlink" title="Cache"></a>Cache</h1><h2 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h2><p><strong>æ•°æ®å—</strong>:Cacheå’Œä¸»å­˜è¢«åˆ’åˆ†ä¸ºå¤§å°ç›¸ç­‰çš„å—,ç§°ä¸ºCacheå—(è¡Œ)</p><ul><li>Cacheå—æ•°å°äºä¸»å­˜ä¸­çš„å—æ•°</li><li>æ¯å—ç”±è‹¥å¹²å­—èŠ‚ç»„æˆ</li></ul><p><strong>æ ‡è®°</strong>:æ¯ä¸€ä¸ªCacheæ•°æ®å—æœ‰ä¸€ä¸ªæ ‡è®°å­—æ®µ</p><p><strong>æœ‰æ•ˆä½</strong>:æ¯ä¸€ç»„Blockéƒ½æœ‰ä¸€ä¸ªæœ‰æ•ˆä½,ç”¨äºæŒ‡ç¤ºç›¸åº”æ•°æ®å—æ˜¯å¦åŒ…å«æœ‰æ•ˆæ•°æ®</p><p><strong>å‘½ä¸­ç‡</strong>:CPUæ¬²è®¿é—®çš„ä¿¡æ¯å·²åœ¨Cacheä¸­çš„æ¯”ç‡ç§°ä¸ºCacheçš„å‘½ä¸­ç‡,Cacheçš„æ€»å‘½ä¸­æ¬¡æ•°ä¸º$N_c$,è®¿é—®ä¸»å­˜çš„æ€»æ¬¡æ•°ä¸º$N_m$,å‘½ä¸­ç‡ä¸º$H=\frac{N_c}{N_c+N_m}$</p><h2 id="æ˜ å°„"><a href="#æ˜ å°„" class="headerlink" title="æ˜ å°„"></a>æ˜ å°„</h2><h3 id="ç›´æ¥æ˜ å°„"><a href="#ç›´æ¥æ˜ å°„" class="headerlink" title="ç›´æ¥æ˜ å°„"></a>ç›´æ¥æ˜ å°„</h3><ul><li>Cacheè¡Œå·=ä¸»å­˜å—å· mod Cacheæ€»è¡Œæ•°</li><li>å‡è®¾Cacheå…±æœ‰$2^c$è¡Œ,ä¸»å­˜æœ‰$2^m$å—,åœ¨ç›´æ¥æ˜ å°„æ–¹å¼ä¸­,ä¸»å­˜çš„ç¬¬0å—,ç¬¬$2^c$å—,ç¬¬$2^{c+1}$å—æ˜ å°„åˆ°Cacheçš„ç¬¬0è¡Œ</li><li>ç»™æ¯ä¸ªCacheè¡Œè®¾ç½®ä¸€ä¸ªé•¿ä¸º$t=m-c$çš„æ ‡è®°(tag)</li></ul><p>ç›´æ¥æ˜ å°„çš„<strong>åœ°å€ç»“æ„</strong>ä¸º:</p><div class="table-container"><table><thead><tr><th>æ ‡è®°</th><th>Cache è¡Œå·</th><th>å—å†…åœ°å€</th></tr></thead><tbody><tr><td></td></tr></tbody></table></div><h4 id="è®¿å­˜è¿‡ç¨‹"><a href="#è®¿å­˜è¿‡ç¨‹" class="headerlink" title="è®¿å­˜è¿‡ç¨‹"></a>è®¿å­˜è¿‡ç¨‹</h4><ol><li>æ ¹æ®è®¿å­˜åœ°å€ä¸­é—´çš„cä½(Cacheè¡Œå·)æ‰¾åˆ°å¯¹åº”çš„cacheè¡Œ</li><li>å°†å¯¹åº”Cacheè¡Œä¸­çš„æ ‡è®°å’Œä¸»å­˜åœ°å€çš„é«˜tä½æ ‡è®°è¿›è¡Œæ¯”è¾ƒ</li><li>è‹¥ç›¸ç­‰ä¸”æœ‰æ•ˆä½ä¸º1,åˆ™è®¿é—®Cache<strong>â€œå‘½ä¸­â€</strong>,æ­¤æ—¶æ ¹æ®ä¸»å­˜åœ°å€ä¸­ä½ä½çš„å—å†…åœ°å€,åœ¨å¯¹åº”çš„Cacheè¡Œä¸­å­˜å–ä¿¡æ¯</li><li>è‹¥ä¸æƒ³ç­‰æˆ–æœ‰æ•ˆä½ä¸º0,åˆ™ä¸å‘½ä¸­,æ­¤æ—¶CPUä»ä¸»å­˜ä¸­è¯»å‡ºè¯¥åœ°å€æ‰€åœ¨çš„ä¸€å—ä¿¡æ¯é€åˆ°å¯¹åº”çš„Cacheè¡Œä¸­,å°†æœ‰æ•ˆä½ç½®1,å¹¶å°†æ ‡è®°è®¾ç½®ä¸ºåœ°å€ä¸­çš„é«˜tä½,åŒæ—¶å°†è¯¥åœ°å€ä¸­çš„å†…å®¹é€CPU</li></ol><h4 id="è®¡ç®—"><a href="#è®¡ç®—" class="headerlink" title="è®¡ç®—"></a>è®¡ç®—</h4><p>$Cacheå—æ•°=Cacheå®¹é‡/Blockå¤§å°$</p><p>$ä¸»å­˜å—æ•°=ä¸»å­˜å®¹é‡/Blockå¤§å°$</p><p>$ä¸»å­˜åˆ†åŒº=ä¸»å­˜å—æ•°/Cacheå—æ•°$</p><p>$ä¸»å­˜åœ°å€ä½æ•°=ä¸»å­˜å—æ•°å¯¹åº”ä½æ•°+å—å†…åœ°å€ä½ç½®$</p><p><img src="image-20241113085451710.png" alt="image-20241113085451710"></p><p><strong>ç¼ºç‚¹</strong>:</p><ol><li>å…¶ä»–åœ°æ–¹æœ‰ç©ºé—²çš„Cacheå—,ä½†ä¸èƒ½ä½¿ç”¨</li></ol><h3 id="å…¨ç›¸è”æ˜ å°„"><a href="#å…¨ç›¸è”æ˜ å°„" class="headerlink" title="å…¨ç›¸è”æ˜ å°„"></a>å…¨ç›¸è”æ˜ å°„</h3><ul><li>ä¸»å­˜ä¸­çš„æ¯ä¸€å—éƒ½å¯ä»¥è£…å…¥Cacheä¸­çš„ä»»ä½•ä½ç½®</li><li>åŒæ—¶ä¸æ‰€æœ‰tagè¿›è¡Œæ¯”è¾ƒ,éœ€è¦Nä¸ªæ¯”è¾ƒå™¨</li><li>æ•°æ®è®¿é—®å’Œæ ‡è®°å¹¶è¡Œæ‰§è¡Œ</li></ul><h4 id="åœ°å€ç»“æ„"><a href="#åœ°å€ç»“æ„" class="headerlink" title="åœ°å€ç»“æ„"></a>åœ°å€ç»“æ„</h4><div class="table-container"><table><thead><tr><th>æ ‡è®°</th><th>å—å†…åœ°å€</th></tr></thead><tbody><tr><td></td></tr></tbody></table></div><h4 id="è®¿å­˜è¿‡ç¨‹-1"><a href="#è®¿å­˜è¿‡ç¨‹-1" class="headerlink" title="è®¿å­˜è¿‡ç¨‹"></a>è®¿å­˜è¿‡ç¨‹</h4><ol><li>å°†ä¸»å­˜åœ°å€çš„é«˜ä½æ ‡è®°(ä½æ•°=$log_2$ä¸»å­˜å—æ•°)ä¸Cacheå„è¡Œçš„æ ‡è®°è¿›è¡Œæ¯”è¾ƒ</li><li>è‹¥æœ‰ä¸€ä¸ªç›¸ç­‰ä¸”å¯¹åº”æœ‰æ•ˆä½ä¸º1,åˆ™å‘½ä¸­,æ­¤æ—¶æ ¹æ®å—å†…åœ°å€ä»è¯¥Cacheè¡Œä¸­å–å‡ºä¿¡æ¯</li><li>è‹¥éƒ½ä¸æƒ³ç­‰,åˆ™ä¸å‘½ä¸­,æ­¤æ—¶CPUä»ä¸»å­˜ä¸­è¯»å‡ºè¯¥åœ°å€æ‰€åœ¨çš„ä¸€å—ä¿¡æ¯é€åˆ°Cacheçš„<strong>ä»»æ„ä¸€ä¸ªç©ºé—²è¡Œ</strong>ä¸­,å°†æœ‰æ•ˆä½ç½®1,å¹¶è®¾ç½®æ ‡è®°,åŒæ—¶å°†è¯¥åœ°å€ä¸­çš„å†…å®¹é€CPU</li></ol><p><img src="image-20241113103805490.png" alt="image-20241113103805490"> </p><p><img src="image-20241111151042631.png" alt="image-20241111151042631"></p><p><strong>ä¼˜ç‚¹</strong>:</p><ol><li>å­˜å‚¨ç©ºé—´å……åˆ†åˆ©ç”¨,å‘½ä¸­ç‡é«˜,çµæ´»æ€§</li></ol><p><strong>ç¼ºç‚¹</strong>:</p><ol><li>æŸ¥æ‰¾æ ‡è®°æœ€æ…¢</li></ol><p><strong>ç¼ºç‚¹</strong>:</p><ol><li>ä¸»å­˜åœ°å€ä¸­çš„å—åœ°å€è¦ä¸Cacheä¸­æ‰€æœ‰Tagæ¯”è¾ƒå,æ‰èƒ½çŸ¥æ™“æ˜¯å¦ä¸å‘½ä¸­</li></ol><h3 id="ç»„ç›¸è”æ˜ å°„-å¯æ”¾åˆ°ç‰¹å®šåˆ†ç»„"><a href="#ç»„ç›¸è”æ˜ å°„-å¯æ”¾åˆ°ç‰¹å®šåˆ†ç»„" class="headerlink" title="ç»„ç›¸è”æ˜ å°„(å¯æ”¾åˆ°ç‰¹å®šåˆ†ç»„)"></a>ç»„ç›¸è”æ˜ å°„(å¯æ”¾åˆ°ç‰¹å®šåˆ†ç»„)</h3><ul><li>å°†Cacheåˆ†ä¸ºQä¸ªå¤§å°ç›¸ç­‰çš„ç»„,æ¯ä¸ªä¸»å­˜å—å¯ä»¥è£…å…¥å›ºå®šç»„çš„ä»»æ„ä¸€è¡Œ,å³ç»„é—´é‡‡ç”¨ç›´æ¥æ˜ å°„,ç»„å†…é‡‡ç”¨å…¨ç›¸è”æ˜ å°„çš„æ–¹å¼</li></ul><div class="table-container"><table><thead><tr><th>æ ‡è®°</th><th>ç»„å·</th><th>å—å†…åœ°å€</th></tr></thead><tbody><tr><td></td></tr></tbody></table></div><h4 id="è®¡ç®—-1"><a href="#è®¡ç®—-1" class="headerlink" title="è®¡ç®—"></a>è®¡ç®—</h4><p><img src="image-20241113085633270.png" alt="image-20241113085633270"></p><p>2è·¯ç»„ç›¸è¿æ˜ å°„â€”2å—ä¸º1ç»„,åˆ†4ç»„</p><h2 id="ç¼ºå¤±å¤„ç†"><a href="#ç¼ºå¤±å¤„ç†" class="headerlink" title="ç¼ºå¤±å¤„ç†"></a>ç¼ºå¤±å¤„ç†</h2><p><img src="image-20241113092733659.png" alt="image-20241113092733659"></p><h2 id="æ›¿æ¢å¤„ç†"><a href="#æ›¿æ¢å¤„ç†" class="headerlink" title="æ›¿æ¢å¤„ç†"></a>æ›¿æ¢å¤„ç†</h2><p><img src="image-20241113092832343.png" alt="image-20241113092832343"></p><h3 id="æ›¿æ¢ç­–ç•¥"><a href="#æ›¿æ¢ç­–ç•¥" class="headerlink" title="æ›¿æ¢ç­–ç•¥"></a>æ›¿æ¢ç­–ç•¥</h3><h4 id="LRU-è¿‘æœŸæœ€å°‘ä½¿ç”¨ç®—æ³•"><a href="#LRU-è¿‘æœŸæœ€å°‘ä½¿ç”¨ç®—æ³•" class="headerlink" title="LRU(è¿‘æœŸæœ€å°‘ä½¿ç”¨ç®—æ³•)"></a>LRU(è¿‘æœŸæœ€å°‘ä½¿ç”¨ç®—æ³•)</h4><ul><li>LRUç®—æ³•å¯¹æ¯ä¸ªä½è®¾ç½®ä¸€ä¸ªè®¡æ•°å™¨(LRUæ›¿æ¢ä½)</li><li>è®¡æ•°å™¨ä½æ•°ä¸ç»„å¤§å°ç›¸å…³,äºŒè·¯æ—¶æœ‰1ä½LRUä½(è¦åŒºåˆ†ç»„å†…çš„è®¡æ•°å™¨å¤§å°,æœ‰0,1ä¸¤ä¸ªæ•°å³å¯),å››è·¯æ—¶æœ‰2ä½LRUä½(å¯ä»¥æœ‰0,1,2,3å››ä¸ªè®¡æ•°)</li><li>å‘½ä¸­æ—¶,æ‰€å‘½ä¸­çš„è¡Œçš„è®¡æ•°å™¨æ¸…é›¶,æ¯”å…¶ä½çš„è®¡æ•°å™¨åŠ 1,å…¶ä½™ä¸å˜</li><li>æœªå‘½ä¸­ä¸”æœ‰ç©ºé—²è¡Œæ—¶,æ–°è£…å…¥çš„è¡Œçš„è®¡æ•°å™¨ç½®0,å…¶ä½™å…¨åŠ 1</li><li>æœªå‘½ä¸­ä¸”æ— ç©ºé—²è¡Œæ—¶,è®¡æ•°å€¼ä¸º$2^{ç»„æ•°}-1$(å°±æ˜¯è®¡æ•°æœ€å¤§)çš„è¡Œçš„ä¿¡æ¯å—è¢«æ›¿æ¢,æ–°è£…å…¥çš„è¡Œçš„è®¡æ•°å™¨ç½®0,å…¶ä½™å…¨åŠ 1</li><li>è¿™ç§è®¡æ•°æ–¹å¼ä¿è¯äº†æ‰€æœ‰çš„è¡Œçš„è®¡æ•°åœ¨0åˆ°$2^{ç»„æ•°}-1$ä¹‹é—´,å¹¶å„ä¸ç›¸åŒ</li></ul><h4 id="FIFO-å…ˆè¿›å…ˆå‡ºç®—æ³•"><a href="#FIFO-å…ˆè¿›å…ˆå‡ºç®—æ³•" class="headerlink" title="FIFO(å…ˆè¿›å…ˆå‡ºç®—æ³•)"></a>FIFO(å…ˆè¿›å…ˆå‡ºç®—æ³•)</h4><p>å®¹æ˜“å®ç°,ä½†æœªéµå¾ªç¨‹åºè®¿é—®çš„å±€éƒ¨æ€§åŸç†,æœ€æ—©è¿›å…¥çš„ä¸»å­˜å—å¯èƒ½æ˜¯ç›®å‰ç»å¸¸è¦ç”¨çš„</p><h4 id="LFU-æœ€ä¸ç»å¸¸ä½¿ç”¨ç®—æ³•"><a href="#LFU-æœ€ä¸ç»å¸¸ä½¿ç”¨ç®—æ³•" class="headerlink" title="LFU(æœ€ä¸ç»å¸¸ä½¿ç”¨ç®—æ³•)"></a>LFU(æœ€ä¸ç»å¸¸ä½¿ç”¨ç®—æ³•)</h4><p>å°†ä¸€æ®µæ—¶é—´å†…è¢«è®¿é—®æ¬¡æ•°æœ€å°‘çš„Cacheè¡Œæ¢å‡º,æ¯è¡Œä¹Ÿè®¾ç½®ä¸€ä¸ªè®¡æ•°å™¨,æ–°è¡Œè£…å…¥åä»0å¼€å§‹è®¡æ•°,æ¯è®¿é—®1æ¬¡,è¢«è®¿é—®çš„è¡Œè®¡æ•°å™¨åŠ 1,éœ€è¦æ›¿æ¢æ—¶æ¯”è¾ƒå„ç‰¹å®šè¡Œçš„è®¡æ•°å€¼,å°†è®¡æ•°å€¼æœ€å°çš„è¡Œæ¢å‡º</p><h4 id="RAND-éšæœºç®—æ³•"><a href="#RAND-éšæœºç®—æ³•" class="headerlink" title="RAND(éšæœºç®—æ³•)"></a>RAND(éšæœºç®—æ³•)</h4><p>éšæœºçš„ç¡®å®šæ›¿æ¢çš„Cacheè¡Œ,å®ç°ç®€å•</p><p><img src="image-20241113105108759.png" alt="image-20241113105108759"></p><h1 id="ç›¸å…³è®¡ç®—é—®é¢˜"><a href="#ç›¸å…³è®¡ç®—é—®é¢˜" class="headerlink" title="ç›¸å…³è®¡ç®—é—®é¢˜"></a>ç›¸å…³è®¡ç®—é—®é¢˜</h1><h2 id="ç›´æ¥æ˜ å°„-1"><a href="#ç›´æ¥æ˜ å°„-1" class="headerlink" title="ç›´æ¥æ˜ å°„"></a>ç›´æ¥æ˜ å°„</h2><ul><li>ä¸»å­˜åœ°å€ç©ºé—´å¤§å°,Cacheåœ°å€ç©ºé—´å¤§å°,å—å¤§å°ä¸€èˆ¬ä¸ºå·²çŸ¥æ¡ä»¶</li><li>$ä¸»å­˜å—æ•°=\frac{ä¸»å­˜åœ°å€ç©ºé—´å¤§å°}{å—å¤§å°}=2^m$</li><li>$Cacheè¡Œæ•°=\frac{Cacheåœ°å€ç©ºé—´å¤§å°}{å—å¤§å°}=2^c$</li><li>ä¸»å­˜åœ°å€ç»“æ„ä¸º:</li></ul><div class="table-container"><table><thead><tr><th>æ ‡è®°</th><th>Cacheè¡Œå·</th><th>å—å†…åœ°å€</th></tr></thead><tbody><tr><td>$m-c$ä½</td><td>$c$ä½</td><td>$k$ä½</td></tr></tbody></table></div><h2 id="å…¨ç›¸è”æ˜ å°„-1"><a href="#å…¨ç›¸è”æ˜ å°„-1" class="headerlink" title="å…¨ç›¸è”æ˜ å°„"></a>å…¨ç›¸è”æ˜ å°„</h2><ul><li>ä¸»å­˜åœ°å€ç©ºé—´å¤§å°,Cacheåœ°å€ç©ºé—´å¤§å°,å—å¤§å°ä¸€èˆ¬ä¸ºå·²çŸ¥æ¡ä»¶</li><li>$ä¸»å­˜å—æ•°=\frac{ä¸»å­˜åœ°å€ç©ºé—´å¤§å°}{å—å¤§å°}=2^m$</li><li>$Cacheè¡Œæ•°=\frac{Cacheåœ°å€ç©ºé—´å¤§å°}{å—å¤§å°}=2^c$</li><li>ä¸»å­˜åœ°å€ç»“æ„ä¸º:</li></ul><div class="table-container"><table><thead><tr><th>æ ‡è®°</th><th>å—å†…åœ°å€</th></tr></thead><tbody><tr><td>$m-k$ä½</td><td>$k$ä½</td></tr></tbody></table></div><h2 id="ç»„ç›¸è”æ˜ å°„"><a href="#ç»„ç›¸è”æ˜ å°„" class="headerlink" title="ç»„ç›¸è”æ˜ å°„"></a>ç»„ç›¸è”æ˜ å°„</h2><ul><li>ä¸»å­˜åœ°å€ç©ºé—´å¤§å°,Cacheåœ°å€ç©ºé—´å¤§å°,ç»„æ•°,å—å¤§å°ä¸€èˆ¬ä¸ºå·²çŸ¥æ¡ä»¶</li><li>$ä¸»å­˜å—æ•°=\frac{ä¸»å­˜åœ°å€ç©ºé—´å¤§å°}{å—å¤§å°}=2^m$</li><li>$Cacheè¡Œæ•°=\frac{Cacheåœ°å€ç©ºé—´å¤§å°}{å—å¤§å°}=2^c$</li><li>$ç»„æ•°=2^r$</li><li>$ä¸»å­˜ç»„å†…å—æ•°=2^{m-r}$</li><li>ä¸»å­˜åœ°å€ç»“æ„ä¸º:</li></ul><div class="table-container"><table><thead><tr><th>æ ‡è®°</th><th>ç»„å·</th><th>å—å†…åœ°å€</th></tr></thead><tbody><tr><td>$m-r$ä½</td><td>$r$ä½</td><td>$k$ä½</td></tr></tbody></table></div><h2 id="Cacheæ€»å®¹é‡è®¡ç®—"><a href="#Cacheæ€»å®¹é‡è®¡ç®—" class="headerlink" title="Cacheæ€»å®¹é‡è®¡ç®—"></a>Cacheæ€»å®¹é‡è®¡ç®—</h2><blockquote><p>å‡è®¾æŸä¸ªè®¡ç®—æœºçš„ä¸»å­˜åœ°å€ç©ºé—´å¤§å°ä¸º256MB,æŒ‰å­—èŠ‚ç¼–å€,å…¶æ•°æ®Cacheæœ‰8ä¸ªCacheè¡Œ,è¡Œé•¿ä¸º64B</p><p>(1)è‹¥ä¸è€ƒè™‘ç”¨äºCacheçš„ä¸€è‡´ç»´æŠ¤æ€§ä½(è„ä½)å’Œæ›¿æ¢ç®—æ³•æ§åˆ¶ä½,å¹¶ä¸”é‡‡ç”¨ç›´æ¥æ˜ å°„æ–¹å¼,åˆ™è¯¥æ•°æ®Cacheçš„æ€»å®¹é‡ä¸ºå¤šå°‘?</p><p>æ¯ä¸ªCacheè¡Œå¯¹åº”ä¸€ä¸ªæ ‡è®°é¡¹(åŒ…æ‹¬æœ‰æ•ˆä½,è„ä½,æ›¿æ¢ç®—æ³•ä½,æ ‡è®°ä½)</p></blockquote><p>ç”±äºæŒ‰å­—èŠ‚å¯»å€:</p><p>$å—å†…åœ°å€ä½æ•°=\log_2(64)=6$</p><p>$Cacheè¡Œå·ä½æ•°=\log_2(8)=3$</p><p>$æ ‡è®°ä½æ•°=\log_2(256\times 10^{20})-6-3=19$</p><p>ä¸»å­˜åœ°å€ç©ºé—´ç»“æ„ä¸º</p><div class="table-container"><table><thead><tr><th>æ ‡è®°</th><th>Cacheè¡Œå·</th><th>å—å†…åœ°å€</th></tr></thead><tbody><tr><td>19ä½</td><td>3ä½</td><td>6ä½</td></tr></tbody></table></div><p>æœ¬é¢˜æ¯è¡Œ(æ€»å…±8è¡Œ)çš„å­˜å‚¨å™¨å®¹é‡ä¸º:</p><div class="table-container"><table><thead><tr><th>æœ‰æ•ˆä½</th><th>æ ‡è®°</th><th>æ¯è¡Œå­˜å‚¨çš„æ•°æ®</th></tr></thead><tbody><tr><td>1bit</td><td>19bit</td><td>64B=512bit</td></tr></tbody></table></div><p>å› æ­¤:æ€»å®¹é‡ä¸º$(1+19+512)\times 8=4256$ä½</p>]]></content>
    
    
    <categories>
      
      <category>è®¡ç®—æœºç»„æˆåŸç†</category>
      
    </categories>
    
    
    <tags>
      
      <tag>CO</tag>
      
      <tag>CPU</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç¦»æ•£æ•°å­¦-å‡½æ•°</title>
    <link href="/2024/11/10/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6-%E5%87%BD%E6%95%B0/"/>
    <url>/2024/11/10/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6-%E5%87%BD%E6%95%B0/</url>
    
    <content type="html"><![CDATA[<h2 id="éƒ¨åˆ†å‡½æ•°">éƒ¨åˆ†å‡½æ•°</h2><blockquote><p>å¦‚æœä»é›†åˆXåˆ°Yçš„äºŒå…ƒå…³ç³»fæ˜¯"å•å€¼"çš„,å³fæ»¡è¶³ä»¥ä¸‹æ¡ä»¶:</p><p>è‹¥<span class="math inline">\(&lt;x,y_1&gt;\in f\wedge&lt;x,y_2&gt;\in f,åˆ™y_1=y_2\)</span></p><p>fä¸ºXåˆ°Yçš„éƒ¨åˆ†å‡½æ•°</p></blockquote><p>ä»Xåˆ°Yçš„å‡½æ•°ä¸ªæ•°:<span class="math inline">\(\#(Y^X)=(\#Y)^{\#X}\)</span></p><h2 id="å®šä¹‰åŸŸ">å®šä¹‰åŸŸ</h2><p><span class="math inline">\(dom(f)=\{x\in X|y\inYä½¿å¾—y=f(x)\}\)</span></p><p>è‹¥<span class="math inline">\(x\in  dom(f)\)</span>,åˆ™fåœ¨xå¤„æœ‰å®šä¹‰,è®°ä¸º<span class="math inline">\(f(x)\downarrow\)</span>,å¦åˆ™ç§°fåœ¨xå¤„æ— å®šä¹‰,<span class="math inline">\(f(x)\uparrow\)</span>,æ˜¾ç„¶<span class="math inline">\(dom(f)\subseteq X\)</span></p><ol type="1"><li><span class="math inline">\(è‹¥\text{dom}(f)=X,åˆ™è®°fä¸ºXåˆ°Yçš„å…¨å‡½æ•°,fä¸ºXåˆ°Yçš„å‡½æ•°,è®°ä½œf:X\rightarrowY\)</span></li><li><span class="math inline">\(è‹¥\text{dom}(f)\subsetX,åˆ™ç§°fä¸ºXåˆ°Yçš„ä¸¥æ ¼éƒ¨åˆ†å‡½æ•°\)</span></li><li><span class="math inline">\(è‹¥\text{ran}(f)=Y,åˆ™ç§°fä¸ºXåˆ°Yä¸Šçš„éƒ¨åˆ†å‡½æ•°\)</span></li><li><span class="math inline">\(è‹¥\text{ran}(f)\subsetY,åˆ™ç§°fä¸ºXåˆ°Yå†…çš„éƒ¨åˆ†å‡½æ•°\)</span></li><li>è‹¥å¯¹ä»»æ„<span class="math inline">\(x_1,x_2\in\text{dom}(f),å½“x_1\neq x_2æ—¶,çš†æœ‰f(x_1)\neq f(x_2)\)</span></li></ol><h2 id="é™åˆ¶">é™åˆ¶</h2><p>è®¾å‡½æ•°<span class="math inline">\(f:X\rightarrow Y,A\subseteqX\)</span>,åˆ™<span class="math inline">\(f\cap (A\timesY)\)</span>æ˜¯ä»Aåˆ°Yçš„å‡½æ•°,åˆ™ç§°fåœ¨Aä¸Šçš„é™åˆ¶,è®°ä½œ<span class="math inline">\(f|_A\)</span>,åˆç§°<span class="math inline">\(f\)</span>æ˜¯<span class="math inline">\(f_A\)</span>åˆ°Xçš„å»¶æ‹“</p><p><span class="math inline">\(f|_A=\{&lt;x,y&gt;|&lt;x,y&gt;\in F\wedgex\in A\}\)</span></p><h2 id="å®šç†">å®šç†</h2><p><span class="math inline">\(1)f|U(A)|=U\{f[A]|A\in A\}\)</span></p><p><span class="math inline">\(ä»»å–y\in f[U\mathscr A],\therefore\exists x\in \cup \mathscr Aä½¿å¾—f(x)=y\\\)</span></p><p><span class="math inline">\(\exists A\in\mathscr A,x\in A\thereforey\in f(A),\therefore y\in \cup\{f[A]|A\in\mathscr A\},\thereforef[\cup\mathscr A]\subseteq \cup\{f[A]|A\in\mathscr A\}\)</span></p><p><span class="math inline">\(ä»»å–A\in\mathscr A,A\subseteq \cup\mathscr A,f[A]\subseteq f[U\mathscr A]\)</span></p><p><span class="math inline">\(\cup \{f[A]|A\in A\}\subseteqf[\cup\mathscr A]\)</span></p><p>4)<span class="math inline">\(B=\emptyset,f^{-1}[\cap \mathscrB]=\cap\{f^{-1}[B]|B\in\mathscr B\}\)</span></p><figure><img src="image-20241106151958714.png" alt="image-20241106151958714"><figcaption aria-hidden="true">image-20241106151958714</figcaption></figure><h2 id="å®šç†-1">å®šç†</h2><p>è‹¥fä¸ºä»é›†åˆXåˆ°Yçš„éƒ¨åˆ†å‡½æ•°ä¸”<span class="math inline">\(A\subseteqX\)</span>,åˆ™:</p><p><span class="math inline">\(dom(f|_A)=A\cap dom\ f\)</span></p><p><span class="math inline">\(ran(f|_A)=f[A]\)</span></p><p>è‹¥<span class="math inline">\(A\subseteq dom(f)\)</span>,åˆ™<span class="math inline">\(f|_A\)</span>ä¸ºå…¨å‡½æ•°</p><h2 id="æ€è€ƒé¢˜">æ€è€ƒé¢˜</h2><figure><img src="image-20241106153418485.png" alt="image-20241106153418485"><figcaption aria-hidden="true">image-20241106153418485</figcaption></figure><h1 id="å‡½æ•°çš„å¤åˆ">å‡½æ•°çš„å¤åˆ</h1><p><span class="math inline">\(g\cdot f\)</span>å®šä¹‰ä¸º:</p><p><span class="math inline">\(\{&lt;x,z&gt;|x\in X\wedge z\in Z\wedge\exists y(y\in Y\wedge y=f(x)\wedge z=g(y))\}\)</span></p><h2 id="å®šç†1">å®šç†1</h2><p>1)<span class="math inline">\(dom(g\cdot f)=f^{-1}[domg]\)</span></p><p>2)<span class="math inline">\(ran(g\cdot f)=g[ranf]\)</span></p><p>3)è‹¥f,géƒ½æ˜¯å…¨å‡½æ•°,<span class="math inline">\(g\cdotf\)</span>ä¹Ÿæ˜¯å…¨å‡½æ•°</p><h2 id="å®šç†2">å®šç†2</h2><p><span class="math inline">\(h\cdot(g\cdot f)=(h\cdot g)\cdotf\)</span></p><h1 id="ç‰¹æ®Šæ€§è´¨çš„å‡½æ•°ä¸é€†å‡½æ•°">ç‰¹æ®Šæ€§è´¨çš„å‡½æ•°ä¸é€†å‡½æ•°</h1><h2 id="è‡ªç„¶æ˜ å°„">è‡ªç„¶æ˜ å°„</h2><p><span class="math inline">\(\phi=\{&lt;x,[x]_R&gt;|x\inA\}\)</span></p><h2 id="å®šç†-2">å®šç†</h2><p><span class="math inline">\(è‹¥g\cdot fæ˜¯æ»¡å°„,åˆ™gæ˜¯æ»¡å°„\)</span></p><p><span class="math inline">\(1)ran\ g\subseteq Z,g[ran\ f]=g[Y]=ran\g\)</span></p><p><span class="math inline">\(g[ran\ f]=ran(g\cdot f)\)</span></p><p><span class="math inline">\(ç”±äºg\cdot\ fä¸ºæ»¡å°„,ran(g\cdotf)=Z\)</span></p><p><span class="math inline">\(\therefore Z\subseteq ran\ g\)</span></p><p><span class="math inline">\(\therefore Z=ran\g\)</span>,å³gä¸ºæ»¡å°„</p><p>2)<span class="math inline">\(g\cdot fæ˜¯å•å°„,åˆ™fæ˜¯å•å°„\)</span></p><p>3)<span class="math inline">\(è‹¥g\cdotfæ˜¯åŒå°„,åˆ™gæ˜¯æ»¡å°„ä¸”fæ˜¯å•å°„\)</span></p><p><strong>å·¦æ»¡å³å•</strong></p><h2 id="æ€è€ƒé¢˜-1">æ€è€ƒé¢˜</h2><p>a)<strong>æœ‰å¤šå°‘ä¸ªä»Aåˆ°Bçš„å‡½æ•°ä¸ºå•å°„ï¼Ÿ</strong></p><p><strong>â‘  å½“ m</strong> <span class="math inline">\(\leq\)</span><strong>næ—¶ï¼Œæœ‰<span class="math inline">\(p^m_n=\frac{n!}{(n-m)!}\)</span>ä¸ªå•å°„ï¼›</strong></p><p><strong>â‘¡ å½“ m &gt; næ—¶ï¼Œæœ‰0ä¸ªå•å°„</strong></p><p><strong>æœ‰å¤šå°‘ä¸ªä»Aåˆ°Bçš„å‡½æ•°ä¸º</strong> <strong>æ»¡å°„</strong>ï¼Ÿ</p><p><strong>â‘  å½“ m &lt; næ—¶ï¼Œæœ‰ 0 ä¸ªæ»¡å°„ï¼›</strong></p><p><strong>â‘¡ å½“ n = 0ä¸”m &gt; 0 æ—¶ï¼Œ0ä¸ªï¼›</strong></p><p><strong>â‘¢ å½“ n = 0ä¸”m = 0æ—¶ï¼Œ 1ä¸ªï¼›</strong></p><p><strong>â‘£ å½“ m</strong> <span class="math inline">\(\geq\)</span><strong>n</strong> <span class="math inline">\(\geq\)</span><strong>1æ—¶ï¼Œä¸ºç¬¬äºŒç±»Stirlingæ•°ï¼š</strong></p><p><span class="math inline">\(F(n,m)=\mathop\Sigma\limits^m_{i=0}\frac{(-1)^{m-i}i^n}{i!(m-i)!}\)</span></p><h2 id="ç¬¬äºŒç±»æ–¯ç‰¹æ—æ•°">ç¬¬äºŒç±»æ–¯ç‰¹æ—æ•°</h2><p><span class="math inline">\(S(n,m)=S(n-1,m-1)+S(n-1,m)*m\)</span></p><p><span class="math display">\[\begin{align}&amp;G_i=i^n\\&amp;G_i=\mathop\Sigma_{j=0}^iC^i_jF_j\\&amp;F_i=\mathop\Sigma_{j=0}^i(-1)^{i-j}C^i_jG_j\\&amp;=\mathop\Sigma^i_{j=0}\frac{i!(-1)^{i-j}j^n}{j!(i-j)!}\\&amp;S(n,m)=\frac{F_m}{m!}=\mathop\Sigma_{i=o}^m\frac{(-1)^{m-i}i^n}{i!(m-i)!}\end{align}\]</span></p><h2 id="é€†å‡½æ•°">é€†å‡½æ•°</h2><p><span class="math inline">\(1)è‹¥æœ‰g:Y\rightarrow Xä½¿å¾—g\cdotf=I_X,åˆ™ç§°fä¸ºå·¦å¯é€†çš„,\\å¹¶ç§°gä¸ºfçš„ä¸€ä¸ªå·¦é€†å‡½æ•°\)</span></p><p><span class="math inline">\(2)è‹¥æœ‰g:Y\rightarrow Xä½¿å¾—f\cdotg=I_Y,åˆ™ç§°fä¸ºå·¦å¯é€†çš„,\\å¹¶ç§°gä¸ºfçš„ä¸€ä¸ªå³é€†å‡½æ•°\)</span></p><h2 id="å¯é€†åˆ¤å®š">å¯é€†åˆ¤å®š</h2><p><span class="math inline">\(f:X\rightarrow Yä¸ºå·¦å¯é€†çš„\leftrightarrowfä¸ºå•å°„\)</span></p><p><span class="math inline">\(è¯æ˜:(å……åˆ†æ€§)\exists g:Y\rightarrowX,ä½¿å¾—g\cdot f=I_X\)</span></p><p><span class="math inline">\(I_Xæ˜¯æ»¡å°„,åˆ™fæ˜¯å•å°„\)</span></p><p><span class="math inline">\((å¿…è¦æ€§)ç”±äºfæ˜¯å•å°„,å­˜åœ¨g=f^{-1}\cup((Y-ran\ f)\times \{a\}),ä½¿å¾—g\cdot f=I_X\)</span></p><p><span class="math inline">\(f:X\rightarrow Yæ˜¯å³å¯é€†çš„\leftrightarrowfä¸ºæ»¡å°„\)</span></p><p><span class="math inline">\(\begin{align}è¯æ˜:&amp;\existsg:Y\rightarrow Xä½¿å¾— f\cdotg=I_Y\\&amp;ç”±äºI_Aæ˜¯åŒå°„,fä¸ºæ»¡å°„\\&amp;(å¿…è¦æ€§)è®¾fä¸ºæ»¡å°„,\\&amp;i)X=\emptyset,fä¸ºæ»¡å°„,Y=ran\f=\emptyset,å®šç†æ˜¾ç„¶æˆç«‹\\&amp;ii)X\neq\emptyset,å¯¹äºæ¯ä¸ªæœ‰y\inY,ä»¤\\&amp;S_y=\{x|x\in X\wedge f(x)=y\}\\&amp;\{S_y|y\inY\}æ˜¯Xçš„ä¸€ä¸ªåˆ’åˆ†,å¯¹äºæ¯ä¸ªy\inY,éƒ½ä»»æ„å–å®šS_yä¸­å”¯ä¸€çš„ä¸€ä¸ªå…ƒç´ x_y,æ˜¾ç„¶f(x_y)=y,å¹¶ä»¤\\&amp;g=\{&lt;y,x_y&gt;|y\inY\}\\&amp;åˆ™gæ˜¾ç„¶æ˜¯ä¸€ä¸ªä»Yåˆ°Xçš„å…¨å‡½æ•°,ä¸”f\cdotg=I_Y\end{align}\)</span></p><h2 id="å¯é€†æ€§è´¨">å¯é€†æ€§è´¨</h2><p>ä»¥ä¸‹æ¡ä»¶ç­‰ä»·:</p><ol type="1"><li>fæ˜¯åŒå°„</li><li>fæ˜¯å¯é€†çš„</li><li>fçš„é€†å…³ç³»<span class="math inline">\(f^{-1}\)</span>å³ä¸ºfçš„é€†å‡½æ•°</li></ol><h2 id="å®šç†-3">å®šç†</h2><p><span class="math inline">\(f:X\rightarrow Y,g:Y\rightarrowZéƒ½æ˜¯å¯é€†çš„\)</span></p><p><span class="math inline">\(åˆ™g\cdot fä¹Ÿæ˜¯å¯é€†çš„,ä¸”(g\cdotf)^{-1}=f^{-1}\cdot g^{-1}\)</span></p><h2 id="æ€è€ƒé¢˜-2">æ€è€ƒé¢˜</h2><p><img src="image-20241115093739220.png" alt="image-20241115093739220"> <span class="math display">\[\begin{align}&amp;n=1æ—¶,f=I_A,åˆ™fä¸ºåŒå°„\\&amp;n&gt;1æ—¶,\\&amp;f^n=f\cdot f^{n-1}=I_A,æ•…fä¸ºæ»¡å°„\\&amp;f^n=f^{n-1}\cdot f=I_A,æ•…fä¸ºå•å°„\\&amp;å› æ­¤fä¸ºåŒå°„\end{align}\]</span></p><p><span class="math display">\[\begin{align}&amp;è®¾n(A)=m,åˆ™åŒå°„æœ€å¤§æ•°é‡ä¸ºm!\\&amp;å­˜åœ¨0\leq i&lt;j\leq m!,ä½¿å¾—f^i=f^j\\&amp;å› æ­¤f^{i}\cdot (f^i)^{-1}=f^k\cdot (f^i)^{-1}\\&amp;f^{k-i}=I_A\\\end{align}\]</span></p><h3 id="å®šç†-4">å®šç†</h3><p><span class="math inline">\(X,Yä¸ºäºŒé›†åˆä¸”X\neq\emptyset,è‹¥f:X\rightarrow Y,åˆ™ä¸‹åˆ—æ¡ä»¶ç­‰ä»·:\)</span></p><ol type="1"><li><span class="math inline">\(f\)</span>ä¸ºå†…å°„</li><li><span class="math inline">\(f\)</span>å·¦å¯é€†</li><li><span class="math inline">\(f\)</span>å¯å·¦æ¶ˆå»,å³å¯¹ä»»æ„é›†åˆ<span class="math inline">\(Z\)</span>åŠä»»æ„çš„<span class="math inline">\(g\)</span>:<span class="math inline">\(Z\rightarrow X,h:Z\rightarrow X\)</span>,å½“<span class="math inline">\(f\cdot g=f\cdot h\)</span>æ—¶,çš†æœ‰<span class="math inline">\(g=h\)</span></li></ol><h1 id="é›†åˆçš„ç‰¹å¾å‡½æ•°">é›†åˆçš„ç‰¹å¾å‡½æ•°</h1><p><span class="math inline">\(è®¾Uæ˜¯å…¨é›†,Aæ˜¯Uçš„å­é›†,Açš„ç‰¹å¾å‡½æ•°\Phi_A:U\rightarrow\{0,1\}\\\Phi_A(x)=\begin{cases}1,x\in A\\0,x\notinA\end{cases}\)</span></p><h2 id="æ€§è´¨">æ€§è´¨</h2><p><span class="math inline">\(\forall x(\Phi_A(x)=0)\LeftrightarrowA=\emptyset\)</span></p><p><span class="math inline">\(\forall x(\Phi_A(x)=1)\LeftrightarrowA=U\)</span></p><p><span class="math inline">\(\forall x(\Phi_A(x)\leq\Phi_B(x))\Leftrightarrow A\subseteq B\)</span></p><p><span class="math inline">\(\forallx(\Phi_A(x)=\Phi_B(x))\Leftrightarrow A=B\)</span></p><p><span class="math inline">\(\chi_A\leq \chi_B\LeftrightarrowA\subseteq B\)</span> <span class="math display">\[\begin{aligned}(å……åˆ†æ€§)&amp;ä»»å–x\in A,\chi_A(x)=1,\\&amp;ç”±äº\chi_A\leq \chi_B,åˆ™\chi_B=1\\&amp;x\in B,\therefore A\subseteq B\end{aligned}\]</span></p><p><span class="math inline">\(\chi_A=\chi_B\LeftrightarrowA=B\)</span></p><p><span class="math inline">\(\chi_{\sim A}=1-\chi_{A}\)</span></p><p><span class="math inline">\(\chi_{A\cap B}=\chi_A*\chi_B\)</span></p><p><span class="math inline">\(\chi_{A\cupB}=\chi_A+\chi_B-\chi_A*\chi_B\)</span></p><p><span class="math inline">\(\chi_{A}*\chi_B=\chi_Aå½“ä¸”ä»…å½“A \subseteqB\)</span></p><p><span class="math inline">\(\chi_A*\chi_A=\chi_A\)</span></p><p><span class="math inline">\(è¯æ˜:A\cup(B\cap C)=(A\cup B)\cap(A\cupC)\)</span> <span class="math display">\[\begin{aligned}\chi_{A\cup(B\cap C)}&amp;=\chi_A+\chi_{B\cap C}-\chi_B\cap \chi_C\\&amp;=\chi_A+\chi_B*\chi_C-\chi_A*\chi_B*\chi_A\\\chi_{(A\cup B)\cap (A\cup C)}&amp;=\chi_{A\cup B}*\chi_{A\cup C}\\&amp;=(\chi_A+\chi_B-\chi_A*\chi_B)*(\chi_A+\chi_C-\chi_A*\chi_C)\\&amp;=\chi_A+\chi_B*\chi_C-\chi_A*\chi_B*\chi_C\\\end{aligned}\]</span> æ‰€ä»¥<span class="math inline">\(\chi_{A\cup(B\capC)}=\chi_{(A\cup B)\cap(A\cup C)}\)</span>:</p><p><span class="math inline">\(A\cup(B\cap C)=(A\cup B)\cap(A\cupC)\)</span></p>]]></content>
    
    
    <categories>
      
      <category>ç¦»æ•£æ•°å­¦</category>
      
    </categories>
    
    
    <tags>
      
      <tag>discrete mathematics</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å·ç§¯ç¥ç»ç½‘ç»œ</title>
    <link href="/2024/11/05/%E5%8D%B7%E7%A7%AF%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/"/>
    <url>/2024/11/05/%E5%8D%B7%E7%A7%AF%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/</url>
    
    <content type="html"><![CDATA[<h1 id="ä»å…¨è¿æ¥å±‚é“å·ç§¯"><a href="#ä»å…¨è¿æ¥å±‚é“å·ç§¯" class="headerlink" title="ä»å…¨è¿æ¥å±‚é“å·ç§¯"></a>ä»å…¨è¿æ¥å±‚é“å·ç§¯</h1><h2 id="å…¨è¿æ¥å±‚"><a href="#å…¨è¿æ¥å±‚" class="headerlink" title="å…¨è¿æ¥å±‚"></a>å…¨è¿æ¥å±‚</h2><p>$[H]_{i,j}=[U]_{i,j}+\mathop\sum\limits_{k}\mathop\sum\limits_l [W]_{i,j,k,l}[X]_{k,l}\\=[U]_{i,j}+\mathop\sum\limits_{a}\mathop\sum\limits_{b} [V]_{a,b}[X]_{i+a,j+a}$</p><h3 id="å¹³ç§»ä¸å˜æ€§"><a href="#å¹³ç§»ä¸å˜æ€§" class="headerlink" title="å¹³ç§»ä¸å˜æ€§"></a>å¹³ç§»ä¸å˜æ€§</h3><blockquote><p>æ£€æµ‹å¯¹è±¡åœ¨è¾“å…¥Xä¸­çš„å¹³ç§»,åªä¼šå¯¼è‡´éšè—å±‚Hä¸­çš„å¹³ç§»</p><p>Vå’ŒUå®é™…ä¸Šä¸ä¾èµ–äº(i,j)çš„å€¼,å³$[V]_{i,j,a,b}=[V]_{a,b}$,ä¸”Uæ˜¯ä¸€ä¸ªå¸¸æ•°</p></blockquote><p>$[H]_{i,j}=u+\sum\limits_a\sum\limits_b[V]_{a,b}[X]_{i+a,j+b}$</p><h3 id="å±€éƒ¨æ€§"><a href="#å±€éƒ¨æ€§" class="headerlink" title="å±€éƒ¨æ€§"></a>å±€éƒ¨æ€§</h3><blockquote><p>$[H]_{i,j}$ä¸ä¼šå…³æ³¨è·ç¦»(i,j)å¤ªè¿œçš„åœ°æ–¹</p></blockquote><p>$[H]_{i,j}=u_d+\sum\limits^{\Delta}_{a=-\Delta}\sum\limits^{\Delta}_{b=-\Delta}[V]_{a,b}[X]_{i+a,j+b}$</p><h3 id="ä»£ä»·"><a href="#ä»£ä»·" class="headerlink" title="ä»£ä»·"></a>ä»£ä»·</h3><ul><li>ç‰¹å¾å¿…é¡»å¹³ç§»ä¸å˜</li><li>æ¯ä¸€å±‚åªåŒ…å«å±€éƒ¨ä¿¡æ¯</li></ul><h2 id="é€šé“"><a href="#é€šé“" class="headerlink" title="é€šé“"></a>é€šé“</h2><blockquote><p>å¯¹äºå›¾åƒ,ä¸€èˆ¬æ˜¯ä¸‰ç»´çš„å¼ é‡</p></blockquote><p>$[H]_{i,j,d}=\sum\limits^{\Delta}_{a=-\Delta}\sum\limits^{\Delta}_{b=-\Delta}\sum\limits^{\Delta}_{c}[V]_{a,b,c,d}[X]_{i+a,j+b,c}$</p><h1 id="å›¾åƒå·ç§¯"><a href="#å›¾åƒå·ç§¯" class="headerlink" title="å›¾åƒå·ç§¯"></a>å›¾åƒå·ç§¯</h1><p>$n_k\times n_wçš„è¾“å…¥çŸ©é˜µ,k_h\times k_wçš„å·ç§¯æ ¸,è¾“å‡ºçŸ©é˜µä¸º(n_k-k_h+1)\times(n_w-k_w+1)$</p>]]></content>
    
    
    
    <tags>
      
      <tag>æ·±åº¦å­¦ä¹ </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>P4-CPUè®¾è®¡æ–‡æ¡£</title>
    <link href="/2024/11/04/P4-CPU%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3/"/>
    <url>/2024/11/04/P4-CPU%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3/</url>
    
    <content type="html"><![CDATA[<h1 id="CPUè®¾è®¡æ–‡æ¡£"><a href="#CPUè®¾è®¡æ–‡æ¡£" class="headerlink" title="CPUè®¾è®¡æ–‡æ¡£"></a>CPUè®¾è®¡æ–‡æ¡£</h1><h2 id="è®¾è®¡è‰ç¨¿"><a href="#è®¾è®¡è‰ç¨¿" class="headerlink" title="è®¾è®¡è‰ç¨¿"></a>è®¾è®¡è‰ç¨¿</h2><h3 id="å±‚æ¬¡è®¾è®¡"><a href="#å±‚æ¬¡è®¾è®¡" class="headerlink" title="å±‚æ¬¡è®¾è®¡"></a>å±‚æ¬¡è®¾è®¡</h3><blockquote><p><code>mips.v</code>ä¸ºä¸»ç”µè·¯æ–‡ä»¶,å†…å«8ä¸ªå­ç”µè·¯æ–‡ä»¶</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash">-- mips<br>-- uut1 - pc<br>-- uut2 - im<br>-- uut3 - grf<br>-- uut4 - alu<br>-- uut5 - nxtad<br>-- uut6 - dm<br>-- uut7 - ctrl<br>-- uut8 - ext<br></code></pre></td></tr></table></figure><h3 id="æ•°æ®é€šè·¯è®¾è®¡"><a href="#æ•°æ®é€šè·¯è®¾è®¡" class="headerlink" title="æ•°æ®é€šè·¯è®¾è®¡"></a>æ•°æ®é€šè·¯è®¾è®¡</h3><p><img src="image-20241029153321435.png" alt="æ•°æ®é€šè·¯"></p><h3 id="PCè®¾è®¡"><a href="#PCè®¾è®¡" class="headerlink" title="PCè®¾è®¡"></a>PCè®¾è®¡</h3><blockquote><p>åœ¨æ—¶é’Ÿä¸Šå‡æ²¿,<code>reset</code>ä¸º1åˆ™å°†<code>pc_out</code>ç½®ä½<code>32&#39;h3000</code>;å¦åˆ™å°†<code>pc_in</code>ä¼ é€’ç»™<code>pc_out</code></p></blockquote><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> pc(<br>    <span class="hljs-keyword">input</span> clk,<br>    <span class="hljs-keyword">input</span> reset,<br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] pc_in,<br>    <span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] pc_out<br>    );<br></code></pre></td></tr></table></figure><h3 id="IMè®¾è®¡"><a href="#IMè®¾è®¡" class="headerlink" title="IMè®¾è®¡"></a>IMè®¾è®¡</h3><blockquote><p>è®¿é—®ROMä¸­çš„<code>pc</code>åœ°å€,è¾“å‡ºæ•°æ®åˆ°<code>instr</code>,å®¹é‡ä¸º$4096\times 32bit$</p></blockquote><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> im(<br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] pc,<br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] instr<br>    );<br></code></pre></td></tr></table></figure><h3 id="GRFè®¾è®¡"><a href="#GRFè®¾è®¡" class="headerlink" title="GRFè®¾è®¡"></a>GRFè®¾è®¡</h3><blockquote><p>ä¸€ä¸ªç”±32ä¸ª32ä½å¯„å­˜å™¨ç»„æˆå¯„å­˜å™¨å †</p></blockquote><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> grf(<br>    <span class="hljs-keyword">input</span> write_enable, <span class="hljs-comment">// å†™å…¥ä½¿èƒ½ä¿¡å·</span><br>    <span class="hljs-keyword">input</span> clk, <span class="hljs-comment">// æ—¶é’Ÿä¿¡å·</span><br>    <span class="hljs-keyword">input</span> reset, <span class="hljs-comment">// åŒæ­¥å¤ä½ä¿¡å·</span><br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">4</span>:<span class="hljs-number">0</span>] a1, <span class="hljs-comment">// è¯»å‡ºæ•°æ®çš„å¯„å­˜å™¨</span><br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">4</span>:<span class="hljs-number">0</span>] a2, <span class="hljs-comment">// è¯»å‡ºæ•°æ®çš„å¯„å­˜å™¨</span><br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">4</span>:<span class="hljs-number">0</span>] a3, <span class="hljs-comment">// å†™å…¥æ•°æ®çš„å¯„å­˜å™¨</span><br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] rd1, <span class="hljs-comment">// a1å¯„å­˜å™¨çš„è¯»å‡ºå€¼</span><br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] rd2, <span class="hljs-comment">// a2å¯„å­˜å™¨çš„è¯»å‡ºå€¼</span><br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] wpc, <span class="hljs-comment">// å½“å‰æŒ‡ä»¤åœ°å€</span><br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] wd3 <span class="hljs-comment">// a3å¯„å­˜å™¨çš„å†™å…¥å€¼</span><br>    );<br></code></pre></td></tr></table></figure><h3 id="ALUè®¾è®¡"><a href="#ALUè®¾è®¡" class="headerlink" title="ALUè®¾è®¡"></a>ALUè®¾è®¡</h3><blockquote><p>è®¡ç®—æ¨¡å—,æ ¹æ®<code>ALUControl</code>ä¿¡å·å¯¹<code>src_a</code>,<code>src_b</code>è¿›è¡Œè®¡ç®—,ç»“æœè¾“å‡ºåˆ°<code>alu_result</code></p></blockquote><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> alu(<br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] src_a, <br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] src_b,<br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] alu_control, <span class="hljs-comment">// ALUæ§åˆ¶ä¿¡å·</span><br>    <span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] alu_result, <span class="hljs-comment">// è®¡ç®—ç»“æœ</span><br>    <span class="hljs-keyword">output</span> zero <span class="hljs-comment">// src_a, src_bç›¸å‡ä¸º0æ—¶ç½®1</span><br>    );<br></code></pre></td></tr></table></figure><h3 id="NXTAdè®¾è®¡"><a href="#NXTAdè®¾è®¡" class="headerlink" title="NXTAdè®¾è®¡"></a>NXTAdè®¾è®¡</h3><blockquote><p>è®¡ç®—ä¸‹ä¸€ä¸ªæŒ‡ä»¤åœ°å€çš„æ¨¡å—</p></blockquote><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> nxtad(<br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] pc, <span class="hljs-comment">// å½“å‰æŒ‡ä»¤åœ°å€</span><br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] instr, <span class="hljs-comment">// å½“å‰æŒ‡ä»¤</span><br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] gpr_rs, <span class="hljs-comment">// GPR[rs]</span><br>    <span class="hljs-keyword">input</span> jump, <span class="hljs-comment">// Jumpä¿¡å·(ç”±æŒ‡ä»¤jalæ¿€æ´»)</span><br>    <span class="hljs-keyword">input</span> jr, <span class="hljs-comment">// Jrä¿¡å·(ç”±æŒ‡ä»¤jræ¿€æ´»)</span><br>    <span class="hljs-keyword">input</span> zero, <span class="hljs-comment">// zeroä¿¡å·(æ¥è‡ªäºALU)</span><br>    <span class="hljs-keyword">input</span> branch, <span class="hljs-comment">// Branchä¿¡å·(ç”±æŒ‡ä»¤beqæ¿€æ´»)</span><br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] next_pc, <span class="hljs-comment">// ä¸‹ä¸€ä¸ªæŒ‡ä»¤åœ°å€</span><br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] pc_plus_four <span class="hljs-comment">// å½“å‰æŒ‡ä»¤åœ°å€ + 4</span><br>    );<br></code></pre></td></tr></table></figure><h3 id="DMè®¾è®¡"><a href="#DMè®¾è®¡" class="headerlink" title="DMè®¾è®¡"></a>DMè®¾è®¡</h3><blockquote><p>æ•°æ®å­˜å‚¨å™¨,å®¹é‡ä¸º$3072\times 32bit$</p></blockquote><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> dm(<br>    <span class="hljs-keyword">input</span> clk,<br>    <span class="hljs-keyword">input</span> reset,<br>    <span class="hljs-keyword">input</span> MemWrite, <span class="hljs-comment">// memory write enable</span><br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] addr, <span class="hljs-comment">// memory&#x27;s address for write</span><br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] din, <span class="hljs-comment">// write data</span><br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] pc, <span class="hljs-comment">// instruction address</span><br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] dout <span class="hljs-comment">// read data</span><br>    );<br></code></pre></td></tr></table></figure><h3 id="Ctrlè®¾è®¡"><a href="#Ctrlè®¾è®¡" class="headerlink" title="Ctrlè®¾è®¡"></a>Ctrlè®¾è®¡</h3><blockquote><p>Controlæ¨¡å—,æ ¹æ®æŒ‡ä»¤è¾“å‡ºå¯¹åº”çš„æ§åˆ¶ä¿¡å·</p></blockquote><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> ctrl(<br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] in,<br>    <span class="hljs-keyword">output</span> RegWrite,<br>    <span class="hljs-keyword">output</span> MemWrite,<br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] ALUControl,<br>    <span class="hljs-keyword">output</span> ALUSrc,<br>    <span class="hljs-keyword">output</span> MemtoReg,<br>    <span class="hljs-keyword">output</span> RegDst,<br>    <span class="hljs-keyword">output</span> Branch,<br>    <span class="hljs-keyword">output</span> Jump,<br>    <span class="hljs-keyword">output</span> ExtControl,<br>    <span class="hljs-keyword">output</span> Jr,<br>    <span class="hljs-keyword">output</span> Jal<br>    );<br></code></pre></td></tr></table></figure><h3 id="Extè®¾è®¡"><a href="#Extè®¾è®¡" class="headerlink" title="Extè®¾è®¡"></a>Extè®¾è®¡</h3><blockquote><p>æ‰©ä½æ¨¡å—,æ ¹æ®ä¿¡å·<code>ExtControl</code>å¯¹ç«‹å³æ•°è¿›è¡Œä¸åŒå½¢å¼çš„æ‰©å±•</p></blockquote><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> ext(<br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">15</span>:<span class="hljs-number">0</span>] imm16,<br>    <span class="hljs-keyword">input</span> ExtControl, <span class="hljs-comment">// æ§åˆ¶ä¿¡å·</span><br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] imm32 <span class="hljs-comment">// 32ä½è¾“å‡º(é›¶æ‰©å±•æˆ–è€…ç¬¦å·æ‰©å±•)</span><br>    );<br></code></pre></td></tr></table></figure><h2 id="æµ‹è¯•æ–¹æ¡ˆ"><a href="#æµ‹è¯•æ–¹æ¡ˆ" class="headerlink" title="æµ‹è¯•æ–¹æ¡ˆ"></a>æµ‹è¯•æ–¹æ¡ˆ</h2><h3 id="Pythonè‡ªåŠ¨ç”Ÿæˆasmæ–‡ä»¶"><a href="#Pythonè‡ªåŠ¨ç”Ÿæˆasmæ–‡ä»¶" class="headerlink" title="Pythonè‡ªåŠ¨ç”Ÿæˆasmæ–‡ä»¶"></a>Pythonè‡ªåŠ¨ç”Ÿæˆasmæ–‡ä»¶</h3><blockquote><p>åˆ©ç”¨pythonç”Ÿæˆasmæ–‡ä»¶</p></blockquote><h3 id="Marsäº§ç”Ÿæœºå™¨ç æ–‡ä»¶åŠæ­£ç¡®è¿è¡Œç»“æœ"><a href="#Marsäº§ç”Ÿæœºå™¨ç æ–‡ä»¶åŠæ­£ç¡®è¿è¡Œç»“æœ" class="headerlink" title="Marsäº§ç”Ÿæœºå™¨ç æ–‡ä»¶åŠæ­£ç¡®è¿è¡Œç»“æœ"></a>Marsäº§ç”Ÿæœºå™¨ç æ–‡ä»¶åŠæ­£ç¡®è¿è¡Œç»“æœ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">java -jar Mars_perfect.jar mc CompactDataAtZero a dump .text HexText code.txt nc instruction.asm<br>java -jar Mars_perfect.jar mc CompactDataAtZero nc instruction.asm &gt; right_ans.txt<br></code></pre></td></tr></table></figure><blockquote><p>æœºå™¨ç æ–‡ä»¶:</p></blockquote><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs maxima"><span class="hljs-number">00000000</span><br>3555ec49<br>3c0b8baa<br><span class="hljs-number">00ada820</span><br>...<br><span class="hljs-number">0399e020</span><br>12bcfff3<br><span class="hljs-number">341000b8</span><br>8e1d0034<br><br></code></pre></td></tr></table></figure><blockquote><p>æ­£ç¡®è¿è¡Œç»“æœ:</p></blockquote><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs less"><span class="hljs-variable">@00003004:</span> $<span class="hljs-number">21</span> &lt;= <span class="hljs-number">0000</span>ec49<br><span class="hljs-variable">@00003008</span>: $<span class="hljs-number">11</span> &lt;= <span class="hljs-number">8</span>baa0000<br><span class="hljs-variable">@0000300c</span>: $<span class="hljs-number">21</span> &lt;= <span class="hljs-number">00000000</span><br>...<br><span class="hljs-variable">@00003240</span>: $<span class="hljs-number">21</span> &lt;= <span class="hljs-number">00001</span>bef<br></code></pre></td></tr></table></figure><h3 id="iverilogäº§ç”Ÿæ£€æµ‹æ–‡ä»¶è¿è¡Œç»“æœ"><a href="#iverilogäº§ç”Ÿæ£€æµ‹æ–‡ä»¶è¿è¡Œç»“æœ" class="headerlink" title="iverilogäº§ç”Ÿæ£€æµ‹æ–‡ä»¶è¿è¡Œç»“æœ"></a>iverilogäº§ç”Ÿæ£€æµ‹æ–‡ä»¶è¿è¡Œç»“æœ</h3><blockquote><p><code>cmd</code>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤:</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">iverilog -o wave -y docs tb_mips.v<br>vvp -n wave -lxt2 &gt; your_ans.txt<br></code></pre></td></tr></table></figure><p>è¿è¡Œç»“æœè¾“å‡ºåˆ°<code>your_ans.txt</code></p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs less"><span class="hljs-variable">@00003004:</span> $<span class="hljs-number">21</span> &lt;= <span class="hljs-number">0000</span>ec49<br><span class="hljs-variable">@00003008</span>: $<span class="hljs-number">11</span> &lt;= <span class="hljs-number">8</span>baa0000<br><span class="hljs-variable">@0000300c</span>: $<span class="hljs-number">21</span> &lt;= <span class="hljs-number">00000000</span><br>...<br><span class="hljs-variable">@00003240</span>: $<span class="hljs-number">21</span> &lt;= <span class="hljs-number">00001</span>bef<br></code></pre></td></tr></table></figure><h2 id="æ€è€ƒé¢˜"><a href="#æ€è€ƒé¢˜" class="headerlink" title="æ€è€ƒé¢˜"></a>æ€è€ƒé¢˜</h2><ol><li><p>é˜…è¯»ä¸‹é¢ç»™å‡ºçš„ DM çš„è¾“å…¥ç¤ºä¾‹ä¸­ï¼ˆç¤ºä¾‹ DM å®¹é‡ä¸º 4KBï¼Œå³ 32bit Ã— 1024å­—ï¼‰ï¼Œæ ¹æ®ä½ çš„ç†è§£å›ç­”ï¼Œè¿™ä¸ª addr ä¿¡å·åˆæ˜¯ä»å“ªé‡Œæ¥çš„ï¼Ÿåœ°å€ä¿¡å· addr ä½æ•°ä¸ºä»€ä¹ˆæ˜¯ [11:2] è€Œä¸æ˜¯ [9:0] ï¼Ÿ</p><p><img src="http://cscore.buaa.edu.cn/assets/cscore-image/refkxh/86953c72-c519-48b2-8cb8-7b2c90850e53/66.png" alt="66.png"></p><blockquote><p><code>addr</code>æ¥è‡ª<code>ALU</code>æ¨¡å—çš„è®¡ç®—ç»“æœ,è¯¥è®¡ç®—ç»“æœä¸º<code>GPR[base]+SignExtend[imm]</code>,å…¶ä¸­<code>base</code>æ˜¯æŒ‡ä»¤çš„25-21ä½,<code>imm</code>æ˜¯æŒ‡ä»¤çš„15-0ä½.</p><p>ç”±äºDMå®¹é‡ä¸º4KB,DMåº”å½“å–[11:0],åˆå› ä¸ºæŒ‰å­—èŠ‚å¯»å€,åªè¦å–[11:2],</p></blockquote></li><li><p>æ€è€ƒä¸Šè¿°ä¸¤ç§æ§åˆ¶å™¨è®¾è®¡çš„è¯‘ç æ–¹å¼ï¼Œç»™å‡ºä»£ç ç¤ºä¾‹ï¼Œå¹¶å°è¯•å¯¹æ¯”å„æ–¹å¼çš„ä¼˜åŠ£ã€‚</p><blockquote><p>è®°å½•æŒ‡ä»¤å¯¹åº”çš„æ§åˆ¶ä¿¡å·:</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-comment">// å†™å…¥å¯„å­˜å™¨ä½¿èƒ½ä¿¡å·</span><br><span class="hljs-keyword">assign</span> RegWrite = R || lui || ori || lw || jal;<br><span class="hljs-comment">// å†™å…¥Memoryä½¿èƒ½ä¿¡å·</span><br><span class="hljs-keyword">assign</span> MemWrite = sw;<br><span class="hljs-comment">// ALUæ§åˆ¶ä¿¡å·</span><br><span class="hljs-keyword">assign</span> ALUControl[<span class="hljs-number">0</span>] = ori || lui;<br><span class="hljs-keyword">assign</span> ALUControl[<span class="hljs-number">1</span>] = sub || lui || lw || sw || add || beq;<br><span class="hljs-keyword">assign</span> ALUControl[<span class="hljs-number">2</span>] = sub || beq;<br><span class="hljs-keyword">assign</span> ALUControl[<span class="hljs-number">3</span>] = <span class="hljs-number">0</span>;<br><span class="hljs-comment">// ALUSrc:ALUè¯»å…¥ç«¯å£æ¥æºæ§åˆ¶ä¿¡å·(å¯„å­˜å™¨ or ç«‹å³æ•°)</span><br><span class="hljs-keyword">assign</span> ALUSrc = lui || lw || sw || ori;<br><span class="hljs-comment">// MemtoReg:ä¸º1æ—¶,å¯„å­˜å™¨å†™å…¥æ•°æ®æ¥è‡ªMemory,å¦åˆ™ä¸ºALUè®¡ç®—ç»“æœ</span><br><span class="hljs-keyword">assign</span> MemtoReg = lw;<br><span class="hljs-comment">// RegDst:å¯„å­˜å™¨å†™å…¥åœ°å€ç«¯å£é€‰æ‹©ä¿¡å·(1-&gt;15:11, 0-&gt;20:16)</span><br><span class="hljs-keyword">assign</span> RegDst = R;<br><span class="hljs-comment">// Branch:è·³è½¬ä¿¡å·</span><br><span class="hljs-keyword">assign</span> Branch = beq;<br><span class="hljs-comment">// Jump:jal,jè·³è½¬ä¿¡å·</span><br><span class="hljs-keyword">assign</span> Jump = jal;<br><span class="hljs-comment">// ExtControl:é€‰æ‹©Extæ‰©ä½æ–¹å¼</span><br><span class="hljs-keyword">assign</span> ExtControl = ori || lui;<br><span class="hljs-comment">// Jr</span><br><span class="hljs-keyword">assign</span> Jr = jr;<br><span class="hljs-comment">// Jal</span><br><span class="hljs-keyword">assign</span> Jal = jal;<br></code></pre></td></tr></table></figure><p>è®°å½•æ§åˆ¶ä¿¡å·æ¯ç§å–å€¼å¯¹åº”çš„æŒ‡ä»¤:</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">case</span>(option)<br>    beq:<span class="hljs-keyword">begin</span><br>        RegWrite = <span class="hljs-number">1&#x27;b0</span>;<br>        MemWrite = <span class="hljs-number">1&#x27;b0</span>;<br>        ALUControl=<span class="hljs-number">4&#x27;b110</span>;<br>        <span class="hljs-comment">// RegDst = 1&#x27;bX; (æ— å…³ä¿¡å·)</span><br>        <span class="hljs-comment">// MemtoReg = 1&#x27;bX; (æ— å…³ä¿¡å·)</span><br>        ALUSrc = <span class="hljs-number">1&#x27;b0</span>;<br>        Branch = <span class="hljs-number">1&#x27;b1</span>;<br>        Jump = <span class="hljs-number">1&#x27;b0</span>;<br>        ExtControl = <span class="hljs-number">1&#x27;b0</span>;<br>    <span class="hljs-keyword">end</span><br>    ...<br><span class="hljs-keyword">endcase</span><br></code></pre></td></tr></table></figure><p>ä¼˜åŠ£:</p><ol><li>å‰è€…åœ¨æ·»åŠ æ–°çš„ä¿¡å·æ—¶ä¿®æ”¹ä»£ç æ›´ä¸ºæ–¹ä¾¿,å‡å°‘å·¥ä½œé‡,åè€…ä»£ç é‡è¾ƒå¤§,éœ€è¦æŒ‡æ˜æ–°æŒ‡ä»¤å¯¹åº”çš„æ¯ä¸ªä¿¡å·çš„å€¼;</li><li>åè€…æ›´ä¸ºç›´è§‚,å®¹æ˜“æ£€æŸ¥é”™è¯¯,å‰è€…ä¸å¤Ÿç›´è§‚.</li></ol></blockquote></li><li><p>åœ¨ç›¸åº”çš„éƒ¨ä»¶ä¸­ï¼Œå¤ä½ä¿¡å·çš„è®¾è®¡éƒ½æ˜¯<strong>åŒæ­¥å¤ä½</strong>ï¼Œè¿™ä¸ P3 ä¸­çš„è®¾è®¡è¦æ±‚ä¸åŒã€‚è¯·å¯¹æ¯”<strong>åŒæ­¥å¤ä½</strong>ä¸<strong>å¼‚æ­¥å¤ä½</strong>è¿™ä¸¤ç§æ–¹å¼çš„ reset ä¿¡å·ä¸ clk ä¿¡å·ä¼˜å…ˆçº§çš„å…³ç³»ã€‚</p><blockquote><p>åŒæ­¥å¤ä½:<code>reset</code>å°äº<code>clk</code></p><p>å¼‚æ­¥å¤ä½:<code>reset</code>å¤§äº<code>clk</code></p></blockquote></li><li><p>C è¯­è¨€æ˜¯ä¸€ç§å¼±ç±»å‹ç¨‹åºè®¾è®¡è¯­è¨€ã€‚C è¯­è¨€ä¸­ä¸å¯¹è®¡ç®—ç»“æœæº¢å‡ºè¿›è¡Œå¤„ç†ï¼Œè¿™æ„å‘³ç€ C è¯­è¨€è¦æ±‚ç¨‹åºå‘˜å¿…é¡»å¾ˆæ¸…æ¥šè®¡ç®—ç»“æœæ˜¯å¦ä¼šå¯¼è‡´æº¢å‡ºã€‚å› æ­¤ï¼Œå¦‚æœä»…ä»…æ”¯æŒ C è¯­è¨€ï¼ŒMIPS æŒ‡ä»¤çš„æ‰€æœ‰è®¡ç®—æŒ‡ä»¤å‡å¯ä»¥å¿½ç•¥æº¢å‡ºã€‚ è¯·è¯´æ˜ä¸ºä»€ä¹ˆåœ¨å¿½ç•¥æº¢å‡ºçš„å‰æä¸‹ï¼Œaddi ä¸ addiu æ˜¯ç­‰ä»·çš„ï¼Œadd ä¸ addu æ˜¯ç­‰ä»·çš„ã€‚æç¤ºï¼šé˜…è¯»ã€ŠMIPS32Â® Architecture For Programmers Volume II: The MIPS32Â® Instruction Setã€‹ä¸­ç›¸å…³æŒ‡ä»¤çš„ Operation éƒ¨åˆ†ã€‚</p></li></ol><blockquote><p><code>addi</code>,<code>add</code>åœ¨å‘ç”Ÿæº¢å‡ºæ—¶,ä¼šæ”¾å¼ƒå¯¹å¯„å­˜å™¨èµ‹å€¼çš„æ“ä½œ,<code>addiu</code>,<code>addu</code>ä¼šå¿½ç•¥æº¢å‡º.å½“åœ¨å¿½ç•¥æº¢å‡ºçš„å‰æä¸‹,<code>addi</code>ä¸<code>addiu</code>ç­‰ä»·,<code>add</code>ä¸<code>addu</code>ç­‰ä»·</p></blockquote><h2 id="é™„ä»¶"><a href="#é™„ä»¶" class="headerlink" title="é™„ä»¶"></a>é™„ä»¶</h2><h3 id="Pythonè‡ªåŠ¨ç”Ÿæˆä»£ç "><a href="#Pythonè‡ªåŠ¨ç”Ÿæˆä»£ç " class="headerlink" title="Pythonè‡ªåŠ¨ç”Ÿæˆä»£ç "></a>Pythonè‡ªåŠ¨ç”Ÿæˆä»£ç </h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># coding=gb2312</span><br><span class="hljs-keyword">from</span> random <span class="hljs-keyword">import</span> *<br><br>number = <span class="hljs-number">50</span><br>gpr = [<span class="hljs-number">0</span>] * <span class="hljs-number">32</span><br>mem = [<span class="hljs-number">0</span>] * (<span class="hljs-number">2</span>**<span class="hljs-number">10</span>)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">print_add</span>(<span class="hljs-params">f</span>):<br>    rt = randint(<span class="hljs-number">0</span>, <span class="hljs-number">31</span>)<br>    rs = randint(<span class="hljs-number">0</span>, <span class="hljs-number">31</span>)<br>    rd = randint(<span class="hljs-number">0</span>, <span class="hljs-number">31</span>)<br>    <span class="hljs-keyword">if</span> -<span class="hljs-number">2</span>**<span class="hljs-number">31</span> &lt;= gpr[rs] + gpr[rt] &lt;= <span class="hljs-number">2</span>**<span class="hljs-number">31</span>-<span class="hljs-number">1</span>:  <span class="hljs-comment"># è‹¥æº¢å‡º,åˆ™ä¸æ‰“å°è¿™æ¡æŒ‡ä»¤</span><br>        gpr[rd] = gpr[rs] + gpr[rt] <span class="hljs-keyword">if</span> rd != <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> <span class="hljs-number">0</span><br>        f.write(<span class="hljs-string">&#x27;add &#x27;</span> + <span class="hljs-string">&#x27;$&#x27;</span> + <span class="hljs-built_in">str</span>(rd) + <span class="hljs-string">&#x27;,&#x27;</span> +<br>                <span class="hljs-string">&#x27;$&#x27;</span> + <span class="hljs-built_in">str</span>(rs) + <span class="hljs-string">&#x27;,&#x27;</span> +<br>                <span class="hljs-string">&#x27;$&#x27;</span> + <span class="hljs-built_in">str</span>(rt) + <span class="hljs-string">&#x27;\n&#x27;</span>)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">print_sub</span>(<span class="hljs-params">f</span>):<br>    rt = randint(<span class="hljs-number">0</span>, <span class="hljs-number">31</span>)<br>    rs = randint(<span class="hljs-number">0</span>, <span class="hljs-number">31</span>)<br>    rd = randint(<span class="hljs-number">0</span>, <span class="hljs-number">31</span>)<br>    <span class="hljs-keyword">if</span> -<span class="hljs-number">2</span>**<span class="hljs-number">31</span> &lt;= gpr[rs] + gpr[rt] &lt;= <span class="hljs-number">2</span>**<span class="hljs-number">31</span>-<span class="hljs-number">1</span>:  <span class="hljs-comment"># è‹¥æº¢å‡º,åˆ™ä¸æ‰“å°è¿™æ¡æŒ‡ä»¤</span><br>        gpr[rd] = gpr[rs] + gpr[rt] <span class="hljs-keyword">if</span> rd != <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> <span class="hljs-number">0</span><br>        f.write(<span class="hljs-string">&#x27;sub &#x27;</span> + <span class="hljs-string">&#x27;$&#x27;</span> + <span class="hljs-built_in">str</span>(rd) + <span class="hljs-string">&#x27;,&#x27;</span> +<br>                <span class="hljs-string">&#x27;$&#x27;</span> + <span class="hljs-built_in">str</span>(rs) + <span class="hljs-string">&#x27;,&#x27;</span> +<br>                <span class="hljs-string">&#x27;$&#x27;</span> + <span class="hljs-built_in">str</span>(rt) + <span class="hljs-string">&#x27;\n&#x27;</span>)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">print_ori</span>(<span class="hljs-params">f</span>):<br>    rt = randint(<span class="hljs-number">0</span>, <span class="hljs-number">31</span>)<br>    rs = randint(<span class="hljs-number">0</span>, <span class="hljs-number">31</span>)<br>    imm = randint(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>**<span class="hljs-number">16</span>-<span class="hljs-number">1</span>)<br>    <span class="hljs-keyword">if</span> rt != <span class="hljs-number">0</span>:<br>        gpr[rt] = gpr[rs] | imm<br>    f.write(<span class="hljs-string">&#x27;ori &#x27;</span> + <span class="hljs-string">&#x27;$&#x27;</span> + <span class="hljs-built_in">str</span>(rt) + <span class="hljs-string">&#x27;,&#x27;</span> +<br>            <span class="hljs-string">&#x27;$&#x27;</span> + <span class="hljs-built_in">str</span>(rs) + <span class="hljs-string">&#x27;,&#x27;</span> +<br>            <span class="hljs-built_in">str</span>(imm) + <span class="hljs-string">&#x27;\n&#x27;</span>)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">print_lw</span>(<span class="hljs-params">f</span>):<br>    base = randint(<span class="hljs-number">0</span>, <span class="hljs-number">31</span>)<br>    imm = randint(<span class="hljs-number">0</span>, <span class="hljs-number">2</span> ** <span class="hljs-number">8</span>)<br>    <span class="hljs-keyword">if</span> base != <span class="hljs-number">0</span>:<br>        gpr[base] = imm<br>    f.write(<span class="hljs-string">&#x27;ori &#x27;</span> + <span class="hljs-string">&#x27;$&#x27;</span> + <span class="hljs-built_in">str</span>(base) + <span class="hljs-string">&#x27;,&#x27;</span> +<br>            <span class="hljs-string">&#x27;$0&#x27;</span> + <span class="hljs-string">&#x27;,&#x27;</span> +<br>            <span class="hljs-built_in">str</span>(imm) + <span class="hljs-string">&#x27;\n&#x27;</span>)<br>    rt = randint(<span class="hljs-number">0</span>, <span class="hljs-number">31</span>)<br>    offset = (randint(-<span class="hljs-number">200</span>, <span class="hljs-number">200</span>) // <span class="hljs-number">4</span>) * <span class="hljs-number">4</span> - (gpr[base] % <span class="hljs-number">4</span>)<br>    <span class="hljs-keyword">if</span> <span class="hljs-number">2</span>**<span class="hljs-number">10</span> &gt; offset + gpr[base] &gt; <span class="hljs-number">0</span>:<br>        <span class="hljs-keyword">if</span> rt != <span class="hljs-number">0</span>:<br>            gpr[rt] = mem[gpr[base] + offset]<br>        f.write(<span class="hljs-string">&#x27;lw &#x27;</span> + <span class="hljs-string">&#x27;$&#x27;</span> + <span class="hljs-built_in">str</span>(rt) + <span class="hljs-string">&#x27;,&#x27;</span> +<br>                <span class="hljs-built_in">str</span>(offset) + <span class="hljs-string">&#x27;(&#x27;</span> + <span class="hljs-string">&#x27;$&#x27;</span> +<br>                <span class="hljs-built_in">str</span>(base) + <span class="hljs-string">&#x27;)\n&#x27;</span>)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">print_sw</span>(<span class="hljs-params">f</span>):<br>    base = randint(<span class="hljs-number">0</span>, <span class="hljs-number">31</span>)<br>    imm = randint(<span class="hljs-number">0</span>, <span class="hljs-number">2</span> ** <span class="hljs-number">8</span>)<br>    <span class="hljs-keyword">if</span> base != <span class="hljs-number">0</span>:<br>        gpr[base] = imm<br>    f.write(<span class="hljs-string">&#x27;ori &#x27;</span> + <span class="hljs-string">&#x27;$&#x27;</span> + <span class="hljs-built_in">str</span>(base) + <span class="hljs-string">&#x27;,&#x27;</span> +<br>            <span class="hljs-string">&#x27;$0&#x27;</span> + <span class="hljs-string">&#x27;,&#x27;</span> +<br>            <span class="hljs-built_in">str</span>(imm) + <span class="hljs-string">&#x27;\n&#x27;</span>)<br>    rt = randint(<span class="hljs-number">0</span>, <span class="hljs-number">31</span>)<br>    offset = (randint(-<span class="hljs-number">200</span>, <span class="hljs-number">200</span>) // <span class="hljs-number">4</span>) * <span class="hljs-number">4</span> - (gpr[base] % <span class="hljs-number">4</span>)<br>    <span class="hljs-keyword">if</span> <span class="hljs-number">2</span> ** <span class="hljs-number">10</span> &gt; offset + gpr[base] &gt; <span class="hljs-number">0</span>:<br>        <span class="hljs-keyword">if</span> rt != <span class="hljs-number">0</span>:<br>            gpr[rt] = mem[gpr[base] + offset]<br>        f.write(<span class="hljs-string">&#x27;sw &#x27;</span> + <span class="hljs-string">&#x27;$&#x27;</span> + <span class="hljs-built_in">str</span>(rt) + <span class="hljs-string">&#x27;,&#x27;</span> +<br>                <span class="hljs-built_in">str</span>(offset) + <span class="hljs-string">&#x27;(&#x27;</span> + <span class="hljs-string">&#x27;$&#x27;</span> +<br>                <span class="hljs-built_in">str</span>(base) + <span class="hljs-string">&#x27;)\n&#x27;</span>)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">ori</span>(<span class="hljs-params">f, key, num</span>):<br>    gpr[key] = num<br>    f.write(<span class="hljs-string">&#x27;ori &#x27;</span> + <span class="hljs-string">&#x27;$&#x27;</span> + <span class="hljs-built_in">str</span>(key) + <span class="hljs-string">&#x27;,&#x27;</span> +<br>            <span class="hljs-string">&#x27;$0&#x27;</span> + <span class="hljs-string">&#x27;,&#x27;</span> +<br>            <span class="hljs-built_in">str</span>(num) + <span class="hljs-string">&#x27;\n&#x27;</span>)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">f, rd, rs, rt</span>):<br>    gpr[rd] = gpr[rs] + gpr[rt]<br>    f.write(<span class="hljs-string">&#x27;add &#x27;</span> + <span class="hljs-string">&#x27;$&#x27;</span> + <span class="hljs-built_in">str</span>(rd) + <span class="hljs-string">&#x27;,&#x27;</span> +<br>                <span class="hljs-string">&#x27;$&#x27;</span> + <span class="hljs-built_in">str</span>(rs) + <span class="hljs-string">&#x27;,&#x27;</span> +<br>                <span class="hljs-string">&#x27;$&#x27;</span> + <span class="hljs-built_in">str</span>(rt) + <span class="hljs-string">&#x27;\n&#x27;</span>)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">sub</span>(<span class="hljs-params">f, rd, rs, rt</span>):<br>    gpr[rd] = gpr[rs] - gpr[rt]<br>    f.write(<span class="hljs-string">&#x27;sub &#x27;</span> + <span class="hljs-string">&#x27;$&#x27;</span> + <span class="hljs-built_in">str</span>(rd) + <span class="hljs-string">&#x27;,&#x27;</span> +<br>                <span class="hljs-string">&#x27;$&#x27;</span> + <span class="hljs-built_in">str</span>(rs) + <span class="hljs-string">&#x27;,&#x27;</span> +<br>                <span class="hljs-string">&#x27;$&#x27;</span> + <span class="hljs-built_in">str</span>(rt) + <span class="hljs-string">&#x27;\n&#x27;</span>)<br><br>label_ct = <span class="hljs-number">0</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">print_beq</span>(<span class="hljs-params">f</span>):<br>    <span class="hljs-keyword">global</span> label_ct<br>    rs = randint(<span class="hljs-number">1</span>, <span class="hljs-number">31</span>)  <span class="hljs-comment"># æ’é™¤$0</span><br>    rt = randint(<span class="hljs-number">1</span>, <span class="hljs-number">31</span>)<br>    <span class="hljs-keyword">while</span> rt == rs:<br>        rt = randint(<span class="hljs-number">1</span>, <span class="hljs-number">31</span>)  <span class="hljs-comment"># rt != rs</span><br>    key1 = randint(<span class="hljs-number">1</span>, <span class="hljs-number">31</span>)  <span class="hljs-comment"># ä¸­è½¬</span><br>    <span class="hljs-keyword">while</span> key1 == rt <span class="hljs-keyword">or</span> key1 == rs:<br>        key1 = randint(<span class="hljs-number">1</span>, <span class="hljs-number">31</span>)<br>    key2 = randint(<span class="hljs-number">1</span>, <span class="hljs-number">31</span>)  <span class="hljs-comment"># ä¸­è½¬</span><br>    <span class="hljs-keyword">while</span> key2 == rt <span class="hljs-keyword">or</span> key2 == rs <span class="hljs-keyword">or</span> key2 == key1:<br>        key2 = randint(<span class="hljs-number">1</span>, <span class="hljs-number">31</span>)<br><br><br>    mod = randint(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>)  <span class="hljs-comment"># è·³è½¬æ–¹å‘</span><br>    equal = randint(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>)  <span class="hljs-comment"># æ˜¯å¦ç›¸ç­‰</span><br>    label = <span class="hljs-string">&#x27;labelx&#x27;</span>.replace(<span class="hljs-string">&quot;x&quot;</span>, <span class="hljs-built_in">str</span>(label_ct))<br>    label_ct += <span class="hljs-number">1</span><br>    in_ct = randint(<span class="hljs-number">0</span>, <span class="hljs-number">20</span>)  <span class="hljs-comment"># æŒ‡ä»¤æ€»æ•°</span><br><br>    <span class="hljs-comment"># è¿™é‡Œä¸ºäº†é¿å…æº¢å‡º,æˆ‘ä»¬å–ä¸€ä¸ªè¾ƒå°çš„æ•°è€Œä¸”å®ƒä¸èƒ½æ˜¯0</span><br>    imm = randint(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>**<span class="hljs-number">10</span>-<span class="hljs-number">1</span>)<br>    ori(f, key1, imm)  <span class="hljs-comment"># å°†ä¸­è½¬å¯„å­˜å™¨key1è®¾ä¸ºimm</span><br>    ori(f, key2, imm)<br><br>    <span class="hljs-keyword">if</span> mod == <span class="hljs-number">1</span>:   <span class="hljs-comment"># å‘ä¸‹è·³è½¬</span><br>        <span class="hljs-keyword">if</span> equal == <span class="hljs-number">1</span>:  <span class="hljs-comment"># ç›¸ç­‰</span><br><br>            imm = randint(<span class="hljs-number">0</span>, <span class="hljs-number">2</span> ** <span class="hljs-number">16</span> - <span class="hljs-number">1</span>)<br>            gpr[rt] = gpr[rs] = imm<br>            f.write(<span class="hljs-string">&#x27;ori &#x27;</span> + <span class="hljs-string">&#x27;$&#x27;</span> + <span class="hljs-built_in">str</span>(rt) + <span class="hljs-string">&#x27;,&#x27;</span> +<br>                    <span class="hljs-string">&#x27;$0&#x27;</span> + <span class="hljs-string">&#x27;,&#x27;</span> +<br>                    <span class="hljs-built_in">str</span>(imm) + <span class="hljs-string">&#x27;\n&#x27;</span>)<br>            f.write(<span class="hljs-string">&#x27;ori &#x27;</span> + <span class="hljs-string">&#x27;$&#x27;</span> + <span class="hljs-built_in">str</span>(rs) + <span class="hljs-string">&#x27;,&#x27;</span> +<br>                    <span class="hljs-string">&#x27;$0&#x27;</span> + <span class="hljs-string">&#x27;,&#x27;</span> +<br>                    <span class="hljs-built_in">str</span>(imm) + <span class="hljs-string">&#x27;\n&#x27;</span>)<br>        <span class="hljs-keyword">else</span>:  <span class="hljs-comment"># ä¸ç›¸ç­‰(æå°æ¦‚ç‡ç›¸ç­‰)</span><br>            imm1 = randint(<span class="hljs-number">0</span>, <span class="hljs-number">2</span> ** <span class="hljs-number">16</span> - <span class="hljs-number">1</span>)<br>            imm2 = randint(<span class="hljs-number">0</span>, <span class="hljs-number">2</span> ** <span class="hljs-number">16</span> - <span class="hljs-number">1</span>)<br>            gpr[rt] = imm1<br>            gpr[rs] = imm2<br>            f.write(<span class="hljs-string">&#x27;ori &#x27;</span> + <span class="hljs-string">&#x27;$&#x27;</span> + <span class="hljs-built_in">str</span>(rt) + <span class="hljs-string">&#x27;,&#x27;</span> +<br>                    <span class="hljs-string">&#x27;$0&#x27;</span> + <span class="hljs-string">&#x27;,&#x27;</span> +<br>                    <span class="hljs-built_in">str</span>(imm1) + <span class="hljs-string">&#x27;\n&#x27;</span>)<br>            f.write(<span class="hljs-string">&#x27;ori &#x27;</span> + <span class="hljs-string">&#x27;$&#x27;</span> + <span class="hljs-built_in">str</span>(rs) + <span class="hljs-string">&#x27;,&#x27;</span> +<br>                    <span class="hljs-string">&#x27;$0&#x27;</span> + <span class="hljs-string">&#x27;,&#x27;</span> +<br>                    <span class="hljs-built_in">str</span>(imm2) + <span class="hljs-string">&#x27;\n&#x27;</span>)<br>        f.write(<span class="hljs-string">&#x27;beq &#x27;</span> + <span class="hljs-string">&#x27;$&#x27;</span> + <span class="hljs-built_in">str</span>(rs) + <span class="hljs-string">&#x27;,&#x27;</span> +<br>                <span class="hljs-string">&#x27;$&#x27;</span> +<span class="hljs-built_in">str</span> (rt) + <span class="hljs-string">&#x27;,&#x27;</span> + label + <span class="hljs-string">&#x27;\n&#x27;</span>)<br>        run(f, in_ct)<br>        f.write(label + <span class="hljs-string">&#x27;:\n&#x27;</span>)<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-comment"># å‘ä¸Šè·³è½¬</span><br>        f.write(label + <span class="hljs-string">&#x27;:\n&#x27;</span>)<br>        run(f, in_ct)<br>        <span class="hljs-keyword">if</span> equal == <span class="hljs-number">1</span>:  <span class="hljs-comment"># ç›¸ç­‰,è¿™é‡Œå¤„ç†æ­»å¾ªç¯çš„å¯èƒ½</span><br>            sub(f, key1, key1, key2) <span class="hljs-comment"># ç¬¬ä¸€æ¬¡å¾ªç¯key1ä¸º0</span><br>            imm = randint(<span class="hljs-number">0</span>, <span class="hljs-number">2</span> ** <span class="hljs-number">16</span> - <span class="hljs-number">1</span>)<br>            gpr[rt] = gpr[rs] = imm<br>            f.write(<span class="hljs-string">&#x27;ori &#x27;</span> + <span class="hljs-string">&#x27;$&#x27;</span> + <span class="hljs-built_in">str</span>(rs) + <span class="hljs-string">&#x27;,&#x27;</span> +<br>                    <span class="hljs-string">&#x27;$0&#x27;</span> + <span class="hljs-string">&#x27;,&#x27;</span> +<br>                    <span class="hljs-built_in">str</span>(imm) + <span class="hljs-string">&#x27;\n&#x27;</span>)<br>            f.write(<span class="hljs-string">&#x27;ori &#x27;</span> + <span class="hljs-string">&#x27;$&#x27;</span> + <span class="hljs-built_in">str</span>(rt) + <span class="hljs-string">&#x27;,&#x27;</span> +<br>                    <span class="hljs-string">&#x27;$0&#x27;</span> + <span class="hljs-string">&#x27;,&#x27;</span> +<br>                    <span class="hljs-built_in">str</span>(imm) + <span class="hljs-string">&#x27;\n&#x27;</span>)<br>            add(f, rt, rt, key1) <span class="hljs-comment"># gpr[rt] = gpr[rt] + 0(key1)</span><br>        <span class="hljs-keyword">else</span>:<br>            imm1 = randint(<span class="hljs-number">0</span>, <span class="hljs-number">2</span> ** <span class="hljs-number">16</span> - <span class="hljs-number">1</span>)<br>            imm2 = randint(<span class="hljs-number">0</span>, <span class="hljs-number">2</span> ** <span class="hljs-number">16</span> - <span class="hljs-number">1</span>)<br>            gpr[rt] = imm1<br>            gpr[rs] = imm2<br>            f.write(<span class="hljs-string">&#x27;ori &#x27;</span> + <span class="hljs-string">&#x27;$&#x27;</span> + <span class="hljs-built_in">str</span>(rt) + <span class="hljs-string">&#x27;,&#x27;</span> +<br>                    <span class="hljs-string">&#x27;$0&#x27;</span> + <span class="hljs-string">&#x27;,&#x27;</span> +<br>                    <span class="hljs-built_in">str</span>(imm1) + <span class="hljs-string">&#x27;\n&#x27;</span>)<br>            f.write(<span class="hljs-string">&#x27;ori &#x27;</span> + <span class="hljs-string">&#x27;$&#x27;</span> + <span class="hljs-built_in">str</span>(rs) + <span class="hljs-string">&#x27;,&#x27;</span> +<br>                    <span class="hljs-string">&#x27;$0&#x27;</span> + <span class="hljs-string">&#x27;,&#x27;</span> +<br>                    <span class="hljs-built_in">str</span>(imm2) + <span class="hljs-string">&#x27;\n&#x27;</span>)<br>        f.write(<span class="hljs-string">&#x27;beq &#x27;</span> + <span class="hljs-string">&#x27;$&#x27;</span> + <span class="hljs-built_in">str</span>(rs) + <span class="hljs-string">&#x27;,&#x27;</span><br>                <span class="hljs-string">&#x27;$&#x27;</span> + <span class="hljs-built_in">str</span>(rt) + <span class="hljs-string">&#x27;,&#x27;</span> + label + <span class="hljs-string">&#x27;\n&#x27;</span>)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">print_lui</span>(<span class="hljs-params">f</span>):<br>    rt = randint(<span class="hljs-number">0</span>, <span class="hljs-number">31</span>)<br>    imm = randint(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>**<span class="hljs-number">16</span>-<span class="hljs-number">1</span>)<br>    <span class="hljs-keyword">if</span> rt != <span class="hljs-number">0</span>:<br>        gpr[rt] = imm &lt;&lt; <span class="hljs-number">16</span><br>    f.write(<span class="hljs-string">&#x27;lui&#x27;</span> + <span class="hljs-string">&#x27; $&#x27;</span> + <span class="hljs-built_in">str</span>(rt) +<br>            <span class="hljs-string">&#x27;,&#x27;</span> + <span class="hljs-built_in">str</span>(imm) + <span class="hljs-string">&#x27;\n&#x27;</span>)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">print_nop</span>(<span class="hljs-params">f</span>):<br>    f.write(<span class="hljs-string">&#x27;nop\n&#x27;</span>)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">print_jal</span>(<span class="hljs-params">f</span>):<br>    <span class="hljs-keyword">global</span> label_ct<br>    f.write(<span class="hljs-string">&quot;jal labelx\n&quot;</span>.replace(<span class="hljs-string">&quot;x&quot;</span>, <span class="hljs-built_in">str</span>(label_ct)))<br>    run(f, randint(<span class="hljs-number">0</span>,<span class="hljs-number">20</span>))<br>    f.write(<span class="hljs-string">&quot;labelx:\n&quot;</span>.replace(<span class="hljs-string">&quot;x&quot;</span>, <span class="hljs-built_in">str</span>(label_ct)))<br>    label_ct += <span class="hljs-number">1</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">run</span>(<span class="hljs-params">f, ct</span>):<br>    op_set = [<span class="hljs-string">&#x27;add&#x27;</span>, <span class="hljs-string">&#x27;sub&#x27;</span>, <span class="hljs-string">&#x27;ori&#x27;</span>, <span class="hljs-string">&#x27;lw&#x27;</span>, <span class="hljs-string">&#x27;sw&#x27;</span>, <span class="hljs-string">&#x27;lui&#x27;</span>, <span class="hljs-string">&#x27;nop&#x27;</span>]<br>    <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(ct):<br>        op = op_set[randint(<span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(op_set)-<span class="hljs-number">1</span>)]<br>        <span class="hljs-keyword">if</span> op == <span class="hljs-string">&#x27;add&#x27;</span>:<br>            print_add(f)<br>        <span class="hljs-keyword">elif</span> op == <span class="hljs-string">&#x27;sub&#x27;</span>:<br>            print_sub(f)<br>        <span class="hljs-keyword">elif</span> op == <span class="hljs-string">&#x27;ori&#x27;</span>:<br>            print_ori(f)<br>        <span class="hljs-keyword">elif</span> op == <span class="hljs-string">&#x27;lw&#x27;</span>:<br>            print_lw(f)<br>        <span class="hljs-keyword">elif</span> op == <span class="hljs-string">&#x27;sw&#x27;</span>:<br>            print_sw(f)<br>        <span class="hljs-keyword">elif</span> op == <span class="hljs-string">&#x27;lui&#x27;</span>:<br>            print_lui(f)<br>        <span class="hljs-keyword">else</span>:<br>            print_nop(f)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():<br>    op_set = [<span class="hljs-string">&#x27;add&#x27;</span>, <span class="hljs-string">&#x27;sub&#x27;</span>, <span class="hljs-string">&#x27;ori&#x27;</span>, <span class="hljs-string">&#x27;lw&#x27;</span>, <span class="hljs-string">&#x27;sw&#x27;</span>, <span class="hljs-string">&#x27;beq&#x27;</span>, <span class="hljs-string">&#x27;lui&#x27;</span>, <span class="hljs-string">&#x27;nop&#x27;</span>, <span class="hljs-string">&#x27;jal&#x27;</span>]<br>    path = <span class="hljs-string">&#x27;instruction.asm&#x27;</span><br><br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(path, <span class="hljs-string">&quot;w&quot;</span>) <span class="hljs-keyword">as</span> f:<br>        <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-number">32</span>):<br>            ori(f, x, randint(<span class="hljs-number">0</span>, <span class="hljs-number">2</span> ** <span class="hljs-number">31</span> - <span class="hljs-number">1</span>))<br>        <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(number):<br>            op = op_set[randint(<span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(op_set) - <span class="hljs-number">1</span>)]<br>            <span class="hljs-keyword">if</span> op == <span class="hljs-string">&#x27;add&#x27;</span>:<br>                print_add(f)<br>            <span class="hljs-keyword">elif</span> op == <span class="hljs-string">&#x27;sub&#x27;</span>:<br>                print_sub(f)<br>            <span class="hljs-keyword">elif</span> op == <span class="hljs-string">&#x27;ori&#x27;</span>:<br>                print_ori(f)<br>            <span class="hljs-keyword">elif</span> op == <span class="hljs-string">&#x27;lw&#x27;</span>:<br>                print_lw(f)<br>            <span class="hljs-keyword">elif</span> op == <span class="hljs-string">&#x27;sw&#x27;</span>:<br>                print_sw(f)<br>            <span class="hljs-keyword">elif</span> op == <span class="hljs-string">&#x27;beq&#x27;</span>:<br>                print_beq(f)<br>            <span class="hljs-keyword">elif</span> op == <span class="hljs-string">&#x27;lui&#x27;</span>:<br>                print_lui(f)<br>            <span class="hljs-keyword">elif</span> op == <span class="hljs-string">&#x27;jal&#x27;</span>:<br>                print_jal(f)<br>            <span class="hljs-keyword">else</span>:<br>                print_nop(f)<br>    <span class="hljs-comment"># æ¥ä¸‹æ¥æ‰“å°jrè¯­å¥</span><br>        f.write(<span class="hljs-string">&quot;jal labelx\n&quot;</span>.replace(<span class="hljs-string">&quot;x&quot;</span>, <span class="hljs-built_in">str</span>(label_ct)))<br>        run(f, randint(<span class="hljs-number">0</span>, <span class="hljs-number">20</span>))<br>        f.write(<span class="hljs-string">&quot;jal End\n&quot;</span>)<br>        run(f, randint(<span class="hljs-number">0</span>, <span class="hljs-number">20</span>))<br>        f.write(<span class="hljs-string">&quot;labelx:\n&quot;</span>.replace(<span class="hljs-string">&quot;x&quot;</span>, <span class="hljs-built_in">str</span>(label_ct)))<br>        run(f, randint(<span class="hljs-number">0</span>, <span class="hljs-number">20</span>))<br>        f.write(<span class="hljs-string">&quot;jr $ra\n&quot;</span>)<br>        <span class="hljs-comment"># &quot;ç»“æŸ&quot;æ ‡ç­¾</span><br>        f.write(<span class="hljs-string">&quot;End:\n&quot;</span>)<br><br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    main()<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>CO</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æŒ¯åŠ¨ä¸æ³¢</title>
    <link href="/2024/11/04/%E6%8C%AF%E5%8A%A8%E4%B8%8E%E6%B3%A2/"/>
    <url>/2024/11/04/%E6%8C%AF%E5%8A%A8%E4%B8%8E%E6%B3%A2/</url>
    
    <content type="html"><![CDATA[<h2 id="é˜»å°¼æŒ¯åŠ¨æ–¹ç¨‹"><a href="#é˜»å°¼æŒ¯åŠ¨æ–¹ç¨‹" class="headerlink" title="é˜»å°¼æŒ¯åŠ¨æ–¹ç¨‹"></a>é˜»å°¼æŒ¯åŠ¨æ–¹ç¨‹</h2><script type="math/tex; mode=display">\begin{split}&f_é˜»=-\gamma v=-\gamma \frac{dx}{dt}\\&m\frac{d^2x}{dt^2}=-\gamma\frac{dx}{dt}-kx\\&ä»¤\beta=\frac{\gamma}{2m}\\&\frac{dx^2}{dt^2}+2\beta\frac{dx}{dt}+\omega_0^2x=0\\\end{split}</script><h3 id="è¡¥å……-äºŒé˜¶å¾®åˆ†æ–¹ç¨‹"><a href="#è¡¥å……-äºŒé˜¶å¾®åˆ†æ–¹ç¨‹" class="headerlink" title="è¡¥å……:äºŒé˜¶å¾®åˆ†æ–¹ç¨‹"></a>è¡¥å……:äºŒé˜¶å¾®åˆ†æ–¹ç¨‹</h3><script type="math/tex; mode=display">\begin{split}&å¸¸ç³»æ•°äºŒé˜¶é½æ¬¡çº¿æ€§æ–¹ç¨‹:å¯¹äºy^{``}+py^`+qy=0\\&å¸¸ç³»æ•°äºŒé˜¶éé½æ¬¡çº¿æ€§æ–¹ç¨‹:å¯¹äºy^{``}+py^`+qy=f(x)\\&éå¸¸ç³»æ•°äºŒé˜¶é½æ¬¡çº¿æ€§æ–¹ç¨‹:y^{``}+P(x)y^`+Q(x)y=0\\&éå¸¸ç³»æ•°äºŒé˜¶éé½æ¬¡çº¿æ€§æ–¹ç¨‹:y^{``}+P(x)y^`+Q(x)y=f(x)\\\end{split}</script><h4 id="å¸¸ç³»æ•°äºŒé˜¶é½æ¬¡çº¿æ€§æ–¹ç¨‹é€šè§£"><a href="#å¸¸ç³»æ•°äºŒé˜¶é½æ¬¡çº¿æ€§æ–¹ç¨‹é€šè§£" class="headerlink" title="å¸¸ç³»æ•°äºŒé˜¶é½æ¬¡çº¿æ€§æ–¹ç¨‹é€šè§£"></a>å¸¸ç³»æ•°äºŒé˜¶é½æ¬¡çº¿æ€§æ–¹ç¨‹é€šè§£</h4><script type="math/tex; mode=display">\begin{split}&å¯¹äºy^{``}+py^`+qy=0\\&è®¾æ–¹ç¨‹:r^2+pr+q=0\\a)&\Delta >0,y=C_1e^{r_1}+C_2e^{r_2}\\b)&\Delta =0,y=Ce^{x}+Cxe^{x}\\c)&\Delta <0,r=a\pm bi\\&y=e^{ax}(C_1\cos(bx)+iC_2\sin(bx) )\\\end{split}</script><h4 id="æœ—æ–¯åŸºè¡Œåˆ—å¼"><a href="#æœ—æ–¯åŸºè¡Œåˆ—å¼" class="headerlink" title="æœ—æ–¯åŸºè¡Œåˆ—å¼"></a>æœ—æ–¯åŸºè¡Œåˆ—å¼</h4><script type="math/tex; mode=display">\begin{split}&æœ—æ–¯åŸºè¡Œåˆ—å¼\\&W(y_1,y_2)=\begin{vmatrix}&y_1&y_2\\&y_1^`&y_2^`\\\end{vmatrix}=y_1y_2^`-y_2y_1^`\\&\frac{d^2y}{dx^2}+p\frac{dy}{dx}+qy=f(x)çš„ç‰¹è§£:\\&y_p(x)=-y_1(x)\int\frac{y_2(x)f(x)}{W(y_1,y_2)}dx+y_2(x)\int\frac{y_1(x)f(x)}{W(y_1,y_2)}dx\end{split}</script><h4 id="åˆ˜ç»´å°”å…¬å¼"><a href="#åˆ˜ç»´å°”å…¬å¼" class="headerlink" title="åˆ˜ç»´å°”å…¬å¼"></a>åˆ˜ç»´å°”å…¬å¼</h4><script type="math/tex; mode=display">\begin{split}&å¯¹äºæ–¹ç¨‹:\\&y^{``}+p(x)y^`+q(x)y=0\\&y_1(x),y_2(x)æ˜¯è¯¥æ–¹ç¨‹çš„è§£,åˆ™C_1y_1(x)+C_2y_2(x)ä¹Ÿæ˜¯è¯¥æ–¹ç¨‹çš„è§£\\\end{split}</script><script type="math/tex; mode=display">\begin{align}&ä»¤y_2=uy_1:\\y_2=uy_1&\Leftrightarrow y_2^`=u^`y_1+uy_1^`\\&\Leftrightarrow y_2^{``}=u^{``}y_1+2u^`y_1^`+uy_1^{``}\\\end{align}</script><script type="math/tex; mode=display">\begin{split}&u^{``}y_1+2u^`y_1^`+uy_1^{``}+p(x)(u^`y_1+uy_1^`)+q(x)uy_1=0\\&è§£å¾—:u=\int\frac{1}{y_1^2}\cdot e^{-\int pdx}dx\\&å¦ä¸€ä¸ªç‰¹è§£:y_2=y_1\int\frac{1}{y_1^2}e^{-\int pdx}dx(åˆ˜ç»´å°”å…¬å¼)\\\end{split}</script><script type="math/tex; mode=display">\begin{split}é‚£ä¹ˆæ–¹ç¨‹çš„è§£:y=C_1y+C_2y_1\int\frac{1}{y_1^2}e^{-\int pdx}dx\end{split}</script><blockquote><p>å›åˆ°é˜»å°¼æŒ¯åŠ¨æ–¹ç¨‹</p></blockquote><h3 id="é˜»å°¼æŒ¯åŠ¨æ–¹ç¨‹-1"><a href="#é˜»å°¼æŒ¯åŠ¨æ–¹ç¨‹-1" class="headerlink" title="é˜»å°¼æŒ¯åŠ¨æ–¹ç¨‹"></a>é˜»å°¼æŒ¯åŠ¨æ–¹ç¨‹</h3><script type="math/tex; mode=display">\begin{split}&\frac{dx^2}{dt^2}+2\beta\frac{dx}{dt}+\omega_0^2x=0\\&r^2+2\beta r+\omega_0^2=0\\&\Delta=4\beta^2-4\omega_0^2\\&è¿™é‡Œæˆ‘ä»¬è¦æ±‚é˜»å°¼è¾ƒå°,å³\beta<<\omega_0,åˆ™\Delta <0\\&r=-\beta\pm\sqrt{\omega_0^2-\beta^2}\ i\\&åˆ™è§£ä¸º:\\&x=e^{-\beta t}(C_1\cos(\sqrt{\omega_0^2-\beta^2}t)+C_2i\sin(\sqrt{\omega_0^2-\beta^2}t))\\&å¯ä»¥å¾—åˆ°x=A_0e^{-\beta t}\cos (\omega^`t+\phi),\omega^`=\sqrt{\omega_0-\beta^2}\\\end{split}</script>]]></content>
    
    
    
    <tags>
      
      <tag>Physics</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>BUAA OOPreæ€»ç»“</title>
    <link href="/2024/11/01/BUAA%202024OOPre%E6%80%BB%E7%BB%93/"/>
    <url>/2024/11/01/BUAA%202024OOPre%E6%80%BB%E7%BB%93/</url>
    
    <content type="html"><![CDATA[<h1 id="BUAA-2024-OOPreæ€»ç»“"><a href="#BUAA-2024-OOPreæ€»ç»“" class="headerlink" title="BUAA 2024 OOPreæ€»ç»“"></a>BUAA 2024 OOPreæ€»ç»“</h1><h2 id="æ¶æ„è®¾è®¡"><a href="#æ¶æ„è®¾è®¡" class="headerlink" title="æ¶æ„è®¾è®¡"></a>æ¶æ„è®¾è®¡</h2><h3 id="æœ€ç»ˆæ¶æ„"><a href="#æœ€ç»ˆæ¶æ„" class="headerlink" title="æœ€ç»ˆæ¶æ„"></a>æœ€ç»ˆæ¶æ„</h3><p>æœ€ç»ˆä½œä¸šæ¶æ„çš„è®¾è®¡å¦‚ä¸‹(<code>Bouml</code>è½¯ä»¶åˆ¶ä½œ):</p><p><img src="image-20241101173321658.png" alt="æœ€ç»ˆæ¶æ„è®¾è®¡"></p><ul><li>ä¸»å‡½æ•°ä¸º<code>Main()</code>,è°ƒç”¨<code>Solver</code>ç±»</li><li><code>Solver</code>ç±»æ¥æ”¶è¾“å…¥,å†…å«ä¸€ä¸ª<code>ArrayList&lt;Adventurer&gt;</code>,é€šè¿‡è¾“å…¥è°ƒç”¨å¯¹åº”å‡½æ•°å¯¹<code>ArrayList&lt;Adventurer&gt;</code>è¿›è¡Œå¤„ç†</li><li><code>Adventurer</code>ç±»ç»§æ‰¿<code>Employer</code>,<code>Employee</code>æ¥å£</li><li><code>Adventurer</code>ç±»æ‹¥æœ‰<code>Bottle</code>,<code>Equipment</code>,<code>Fragments</code>çš„ç»„åˆ,è¡¨ç¤ºè¯¥å†’é™©è€…æ‹¥æœ‰çš„è¯æ°´ç“¶,è£…å¤‡,ç¢ç‰‡</li><li><code>AdventurerGame</code>ä¾èµ–äº<code>Guard</code>æ¥å£,<code>Guard</code>æ¥å£ç”±<code>Stn</code>,<code>Flm</code>,<code>Stn</code>,<code>Frz</code>,<code>Wnd</code>äº”ç§ç±»(æ€ªç‰©)å®ç°</li><li><code>TreasureFactory</code>ä¾èµ–äº<code>Treasure</code>æ¥å£,<code>Treasure</code>æ¥å£ç”±<code>StnTreasure</code>,<code>FlmTreasure</code>,<code>StnTreasure</code>,<code>FrzTreasure</code>,<code>WndTreasure</code>äº”ç§ç±»(å®ç‰©)å®ç°</li></ul><h3 id="è¿­ä»£è°ƒæ•´"><a href="#è¿­ä»£è°ƒæ•´" class="headerlink" title="è¿­ä»£è°ƒæ•´"></a>è¿­ä»£è°ƒæ•´</h3><ol><li>ç¬¬ä¸‰æ¬¡ä½œä¸šå®ç°äº†ç»§æ‰¿,å°†<code>Bottle</code>ç±»å®ç°ä¸ºçˆ¶ç±»,<code>HpBottle</code>,<code>AtkBottle</code>,<code>DefBottle</code>ç±»ä½œä¸ºå­ç±»ç»§æ‰¿å…¶æ–¹æ³•</li><li>ç¬¬äº”æ¬¡ä½œä¸šæ–°å¢<code>Fragment</code>ç±»,å¹¶æ’°å†™äº†ä¸€ä¸ª<code>Solver</code>ç±»æ¥å¤„ç†è¾“å…¥,ç”±äºè¯„æµ‹æœºçš„<code>JUnit</code>æµ‹è¯•ä¼¼ä¹ä¸æ”¯æŒæ–‡ä»¶é‡å®šå‘,å°†<code>Solver</code>ç±»è°ƒç”¨çš„å‡½æ•°ä¿®æ”¹ä¸ºä»¥å­—ç¬¦ä¸²ä¸ºå‚æ•°</li><li>ç¬¬å…­æ¬¡ä½œä¸šæ–°å¢å·¥å‚æ¨¡å¼ç”Ÿæˆ<code>Treasure</code>ç±»,è§‚å¯Ÿè€…æ¨¡å¼å®ç°<code>Employee</code>ä¸<code>Employer</code>æ¥å£</li></ol><h2 id="JUnitä½¿ç”¨å¿ƒå¾—ä½“ä¼š"><a href="#JUnitä½¿ç”¨å¿ƒå¾—ä½“ä¼š" class="headerlink" title="JUnitä½¿ç”¨å¿ƒå¾—ä½“ä¼š"></a>JUnitä½¿ç”¨å¿ƒå¾—ä½“ä¼š</h2><p>åœ¨è¿›è¡Œ<code>JUnit</code>æµ‹è¯•çš„è¿‡ç¨‹ä¸­æˆ‘ä»¬è¦å®ç°ä¸¤ä¸ªç›®æ ‡:</p><ol><li>ä»£ç è¦†ç›–åº¦é«˜,è¿™éœ€è¦æˆ‘ä»¬æ’°å†™å‡ºå¯ä»¥è¦†ç›–è¶³å¤Ÿå¤šæƒ…å†µçš„æµ‹è¯•æ ·ä¾‹</li><li>æ’æŸ¥ä»£ç éšæ‚£å’Œé”™è¯¯,è€ƒè™‘è¶³é‡å¤šçš„æç«¯æƒ…å†µ,æ¯”å¦‚ç¬¬å…­æ¬¡ä½œä¸šä¸­å¯èƒ½å‡ºç°è¢«é›‡ä½£äººæ”»å‡»é›‡ä½£äººçš„æƒ…å†µ,è¿™æ—¶å¤„ç†<code>normalFight</code>çš„é¡ºåºéå¸¸å…³é”®</li></ol><p><code>JUnit</code>å¯ä»¥é™ä½å¯¹å¤æ‚æŒ‡ä»¤çš„æ£€æŸ¥éš¾åº¦,ä¾‹å¦‚<code>chainFight</code>ä¸­è®¡ç®—è¢«æ”»å‡»è€…çš„é˜Ÿåˆ—,æˆ‘é€šè¿‡ä¸åŒçš„è¾“å…¥æ ·ä¾‹ç¡®ä¿äº†é€’å½’åœ¨æ¬¡æ•°ä¸º5ä¼šåœæ­¢</p><p>åœ¨å¯¹<code>JUnit</code>çš„æ¢ç´¢ä¸­,æˆ‘è®¤è¯†åˆ°<code>assert</code>è¯­å¥çš„é‡è¦æ€§,å®ƒå¯ä»¥å‡å°‘èŠ±åœ¨æ’æŸ¥è¾“å‡ºç»“æœçš„æ—¶é—´</p><p><code>JUnit</code>è¿˜å¯ä»¥æ­é…è‡ªåŠ¨åŒ–ç”Ÿæˆæµ‹è¯•æ•°æ®çš„ç¨‹åº,è™½ç„¶ä¸èƒ½å’Œæ­£ç¡®ç¨‹åºå¯¹æ‹,ä½†æ˜¯å¯¹äºç†è§£é¢˜ç›®è¦æ±‚ä¸æµ‹è¯•è¦†ç›–ç‡éƒ½æœ‰å¾ˆå¤§çš„å¸®åŠ©</p><h2 id="OOPreå¿ƒå¾—ä½“ä¼š"><a href="#OOPreå¿ƒå¾—ä½“ä¼š" class="headerlink" title="OOPreå¿ƒå¾—ä½“ä¼š"></a>OOPreå¿ƒå¾—ä½“ä¼š</h2><p>æˆ‘ä»OOPreè¯¾ç¨‹ä¸­å­¦åˆ°äº†å±‚æ¬¡åŒ–è®¾è®¡,åˆæ­¥ç†è§£äº†é¢å‘å¯¹è±¡æ€æƒ³,å¹¶æŒæ¡äº†<code>Git</code>,<code>Junit</code>ç­‰å·¥å…·çš„ä½¿ç”¨</p><p>ä»¥æˆ‘çš„ç†è§£,é¢å‘å¯¹è±¡å³æŠŠé—®é¢˜ä¸­æ‰€æœ‰çš„äº‹ç‰©éƒ½â€æŠ½è±¡â€æˆâ€å¯¹è±¡â€,é€šè¿‡å°è£…,ç»§æ‰¿,å¤šæ€çš„æ¦‚å¿µè®¾è®¡ç¨‹åº,è¿™æ ·çš„æ€è·¯æå¤§åœ°æé«˜äº†ä»£ç çš„å¯æ‰©å±•æ€§ä¸å¯ç»´æŠ¤æ€§,è¿™äº›éƒ½æ˜¯æˆ‘åœ¨Cè¯­è¨€ä¸­çš„å­¦ä¹ ä¸­æ²¡æœ‰æœºä¼šæŒæ¡çš„</p><p>å¦å¤–,é€šè¿‡è¿™é—¨è¯¾,æˆ‘çš„<code>debug</code>èƒ½åŠ›å¾—åˆ°äº†å¾ˆå¤§çš„æå‡,é€šè¿‡ä½¿ç”¨<code>JUnit</code>å’Œ<code>BreakPoint</code>æ’æŸ¥äº†å¾ˆå¤šé”™è¯¯</p><p>å¯¹ä»£ç çš„é‡æ„ä¹Ÿæ˜¯ä¸€ä»¶å¾ˆé‡è¦çš„äº‹,<code>checkstyle</code>åœ¨æ•²ä»£ç è¿‡ç¨‹ä¸­ä¼šå¯¹é‡å¤ä»£ç å’Œå†—ä½™çš„ä»£ç æå‡ºä¿®æ”¹,å¦‚æœé‡å¤å‡ºç°åœ¨åŒä¸€ä¸ªç±»ä¸­,æˆ‘ä»¬å¯ä»¥é‡å¤ä»£ç æå‡ºæ¥ä½œä¸ºä¸€ä¸ªå•ç‹¬çš„å‡½æ•°;å†—ä½™ä»£ç å¯ä»¥æ ¹æ®IDEAæç¤ºä¿®æ”¹,ä¾‹å¦‚åˆ é™¤ä¸€ä¸ª<code>ArrayList</code>ä¸­å…ƒç´ çš„æ“ä½œ,<code>if (...) remove(...)</code>çš„ä»£ç æ®µå¯ä»¥ç”¨ä¸€å¥<code>removeIf()</code>æ›¿ä»£.è¿™æ ·,ä»£ç æ‰èƒ½ä¿æŒè¶³å¤Ÿçš„æ¸…æ™°å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§</p><h2 id="å¯¹OOPreè¯¾ç¨‹å»ºè®®"><a href="#å¯¹OOPreè¯¾ç¨‹å»ºè®®" class="headerlink" title="å¯¹OOPreè¯¾ç¨‹å»ºè®®"></a>å¯¹OOPreè¯¾ç¨‹å»ºè®®</h2><p>è¯·åŠ å…¥äº’æµ‹åŠŸèƒ½</p>]]></content>
    
    
    
    <tags>
      
      <tag>OOPre</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LeNet&amp;AlexNet</title>
    <link href="/2024/11/01/LeNet&amp;AlexNet/"/>
    <url>/2024/11/01/LeNet&amp;AlexNet/</url>
    
    <content type="html"><![CDATA[<h2 id="AlexNet"><a href="#AlexNet" class="headerlink" title="AlexNet"></a>AlexNet</h2><h3 id="ç¬¬ä¸€å±‚"><a href="#ç¬¬ä¸€å±‚" class="headerlink" title="ç¬¬ä¸€å±‚"></a>ç¬¬ä¸€å±‚</h3><div class="table-container"><table><thead><tr><th>AlexNet</th><th>LeNet</th><th></th></tr></thead><tbody><tr><td>image(3X224X224)</td><td>image(32X32)</td><td></td></tr><tr><td>11X11 Conv(96), stride 4</td><td>5X5 Conv,PAD2</td><td></td></tr><tr><td>3X3 MaxPool, stride 2</td><td>2x2 AvrgPool</td></tr></tbody></table></div><h3 id="ç¬¬äºŒå±‚"><a href="#ç¬¬äºŒå±‚" class="headerlink" title="ç¬¬äºŒå±‚"></a>ç¬¬äºŒå±‚</h3><div class="table-container"><table><thead><tr><th>AlexNet</th><th>LeNet</th><th></th></tr></thead><tbody><tr><td>5X5 Conv(256),pad 2</td><td></td><td></td></tr><tr><td>3X3 MaxPooling,stride 2</td><td></td><td></td></tr><tr><td>3X3 Conv, pad 1</td><td></td><td></td></tr><tr><td>3X3 Conv, pad 1</td><td></td><td></td></tr><tr><td>3X3 Conv, pad 1</td><td></td><td></td></tr><tr><td>3X3 MaxPool, stride 2</td><td></td></tr></tbody></table></div><h3 id="ç¬¬ä¸‰å±‚"><a href="#ç¬¬ä¸‰å±‚" class="headerlink" title="ç¬¬ä¸‰å±‚"></a>ç¬¬ä¸‰å±‚</h3><div class="table-container"><table><thead><tr><th>AlexNet</th><th>LeNet</th><th></th></tr></thead><tbody><tr><td>Dense(4096)</td><td>Dense(84)</td><td></td></tr><tr><td>Dense(4096)</td><td>Dense(84)</td><td></td></tr><tr><td>Dense(1000)</td><td>Dense(10)</td></tr></tbody></table></div><p>æ›´å¤šç»†èŠ‚</p><ul><li>æ¿€æ´»å‡½æ•°ä»Sigmoidå˜åˆ°äº†ReLu(å‡ç¼“æ¢¯åº¦æ¶ˆå¤±)</li><li>éšè—å…¨è¿æ¥å±‚ååŠ å…¥äº†ä¸¢å¼ƒå±‚</li><li>æ•°æ®å¢åŠ </li></ul><script type="math/tex; mode=display">\text{out}(N_i, C_{\text{out}_j}) = \text{bias}(C_{\text{out}_j}) +        \sum_{k = 0}^{C_{\text{in}} - 1} \text{weight}(C_{\text{out}_j}, k) \star \text{input}(N_i, k)</script>]]></content>
    
    
    
    <tags>
      
      <tag>æ·±åº¦å­¦ä¹ </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>éšæœºå˜é‡çš„æ•°å­—ç‰¹å¾</title>
    <link href="/2024/11/01/%E9%9A%8F%E6%9C%BA%E5%8F%98%E9%87%8F%E7%9A%84%E6%95%B0%E5%AD%97%E7%89%B9%E5%BE%81/"/>
    <url>/2024/11/01/%E9%9A%8F%E6%9C%BA%E5%8F%98%E9%87%8F%E7%9A%84%E6%95%B0%E5%AD%97%E7%89%B9%E5%BE%81/</url>
    
    <content type="html"><![CDATA[<blockquote><p>$X\sim U(-\frac{1}{2},\frac{1}{2}),Y=g(X)=\begin{cases}lnX,X&gt;0,\\0,X\leq 0\end{cases}$</p></blockquote><p>$\begin{align}<br>E(Y)=&amp;\int^{+\infty}_{\infty}g(x)f_X(x)dx\\<br>=&amp;\int^{\frac{1}{2} }_{-\frac{1}{2} }g(x)\cdot1dx\\<br>=&amp;\int^{\frac{1}{2} }_{0}\ln xdx\\<br>=&amp;-\frac{1}{2}\ln 2-\frac{1}{2}\\<br>\\<br>E(Y^2)=&amp;\int^{+\infty}_{\infty}g^2(x)f_X(x)dx\\<br>=&amp;\int^{\frac{1}{2} }_{0}\ln xdx\\<br>=&amp;\frac{1}{2}\ln^2 2+1+\ln 2\\<br>D(Y)=&amp;E(Y^2)-(E(Y))^2<br>\end{align}$</p><p><img src="image-20241101101003214.png" alt="image-20241101101003214"></p><div class="table-container"><table><thead><tr><th>$X_i$</th><th>1</th><th>0</th></tr></thead><tbody><tr><td>P</td><td>$\frac{1}{n}$</td><td>$1-\frac{1}{n}$</td></tr></tbody></table></div><p>$E(X_i)=1\cdot \frac{1}{n}+0\cdot (1-\frac{1}{n})=\frac{1}{n}$</p><p>$E(X)=\mathop{\Sigma} _{ i=1}^{n}E(X_i)=1$</p><p>$E(X^2)=E(\Sigma_{i=1}^{n}X_i)^2=\Sigma_{i=1}^n E(X_i^2)+2\Sigma_{1\leq i\leq j\leq n}^nE(X_iX_j)$</p><div class="table-container"><table><thead><tr><th>$X_iX_j$</th><th>1</th><th>0</th></tr></thead><tbody><tr><td>P</td><td>$\frac{1}{n(n-1)}$</td><td>$1-\frac{1}{n(n-1)}$</td></tr></tbody></table></div><p>$E(X_iX_j)=\frac{1}{n(n-1)},i,j=1,2,â€¦,n$</p><p>$E(X_i^2)=\frac{1}{n},n=1,2,â€¦,n$</p><p>$E(X^2)=n\cdot \frac{1}{n}+2\cdot C^2_n\cdot \frac{1}{n(n-1)}=2$</p><p>$D(x)=2-1=1$</p><h2 id="æ ‡å‡†åŒ–éšæœºå˜é‡"><a href="#æ ‡å‡†åŒ–éšæœºå˜é‡" class="headerlink" title="æ ‡å‡†åŒ–éšæœºå˜é‡"></a>æ ‡å‡†åŒ–éšæœºå˜é‡</h2><p>è®¾éšæœºå˜é‡Xçš„æœŸæœ›E(X),æ–¹å·®D(X)éƒ½å­˜åœ¨,ä¸”D(X)$\neq$0,ç§°$X^\star=\frac{X-E(X)}{\sqrt{D(X)} }$ä¸ºXçš„æ ‡å‡†åŒ–éšæœºå˜é‡</p><p>$E(X^\star)=0,D(X^\star)=1$</p><blockquote><p>è‹¥å·²çŸ¥åˆ†å¸ƒçš„ç±»å‹,åŠæœŸæœ›å’Œæ–¹å·®,å¸¸èƒ½ç¡®å®šåˆ†å¸ƒ</p></blockquote><p><img src="image-20241101102752881.png" alt="image-20241101102752881"></p><p>$\begin{align}<br>&amp;\int^1_0(Ax^2+Bx)dx=\frac{A}{3}+\frac{B}{2}=1\\<br>&amp;E(X)=\int^1_0x(Ax^2+Bx)dx=\frac{A}{4}+\frac{B}{3}=0.5\\<br>\end{align}$</p><p>$å¾—åˆ°:A=-6,B=6$</p><h2 id="åæ–¹å·®"><a href="#åæ–¹å·®" class="headerlink" title="åæ–¹å·®"></a>åæ–¹å·®</h2><p>$E((X-E(X))(Y-E(Y))ä¸ºéšæœºå˜é‡X,Yçš„åæ–¹å·®$</p><p>$è®°ä½œ\text{cov}(X,Y)=E(XY)-E(X)E(Y)$</p><p>ç§°$\begin{bmatrix}D(X)&amp;\text{cov}(X,Y)\\\text{cov}(X,Y)&amp;D(Y)\end{bmatrix}$</p><p>ä¸º(X,Y)çš„åæ–¹å·®çŸ©é˜µ</p><p>$\rho_{XY}=\frac{\text{cov}(X,Y)}{\sqrt{D(X)}\sqrt{D(Y)} }$</p><p>äº‹å®ä¸Š:$\rho_{XY}=\text{cov}(X^\star,Y^\star)$</p><blockquote><p>è‹¥$\rho_{XY}=0$,åˆ™ç§°X,Yä¸ç›¸å…³</p></blockquote><p>$\text{cov}(X,Y)=E((X-E(X))(Y-E(Y)))\\=E(XY)-E(X)E(Y)$</p><p>X,Yç›¸äº’ç‹¬ç«‹$\Leftrightarrow $X,Yä¸ç›¸å…³</p><p><img src="image-20241101110908054.png" alt="image-20241101110908054"></p><p>$\begin{align}<br>cov(U,V)=&amp;E(UV)-E(U)E(V)\\<br>=&amp;E(a^2X^2-b^2Y^2)-[E(aX+bY)][E(aX-bY)]\\<br>=&amp;a^2E(X^2)-b^2E(Y^2)-[a^2E^2(X)-b^2E^2(Y)]\\<br>=&amp;a^2[E(X^2)-E^2(X)]-b^2[E(Y^2)-E^2(Y)]\\<br>=&amp;a^2D(X)-b^2D(Y)\\<br>=&amp;(a^2-b^2)\sigma^2\\<br>D(U)=&amp;D(aX+bY)\\<br>=&amp;a^2D(X)+b^2D(Y)=(a^2+b^2)\sigma^2\\<br>D(Y)=&amp;(a^2+b^2)\sigma\\<br>\rho_{UV}=&amp;\frac{cov(U,V)}{\sqrt {D(U)}\sqrt{D(V)} }\\<br>=&amp;\frac{a^2-b^2}{a^2+b^2}\\<br>\end{align}$</p><h2 id="åæ–¹å·®çš„æ€§è´¨"><a href="#åæ–¹å·®çš„æ€§è´¨" class="headerlink" title="åæ–¹å·®çš„æ€§è´¨"></a>åæ–¹å·®çš„æ€§è´¨</h2><ol><li>$cov(X,Y)=cov(Y,X)=E(XY)-E(X)E(Y)$</li><li>$\text{cov}(aX,bY)=ab\text{cov}(X,Y)$</li><li>$\text{cov}(X,X)=D(X)$</li><li>$|\text{cov}(X,Y)|^2\leq D(X)D(Y)$å½“ä¸”ä»…å½“$P(Y-E(Y)=t_0(X-E(X)))=1$</li></ol><h3 id="Cauchy-Schwarzä¸ç­‰å¼"><a href="#Cauchy-Schwarzä¸ç­‰å¼" class="headerlink" title="Cauchy-Schwarzä¸ç­‰å¼"></a>Cauchy-Schwarzä¸ç­‰å¼</h3><p>$|E(XY)|^2\leq E(X^2)E(Y^2)$</p><p>$\begin{align}<br>g(t)=&amp;E[(X-E(X))\cdot t-(Y-E(Y))]^2\\<br>=&amp;E[(X-E(X))^2t^2-2(X-E(X))t(Y-E(Y))+(Y-E(Y))^2]\\<br>=&amp;D(X)t^2-2\text{cov}(X,Y)+D(Y)\\<br>\end{align}$</p><p>å¯¹äºä»»ä½•å®æ•°$t$,$g(t)\geq 0\rightarrow 4\text{cov}^2(X,Y)-4D(X)D(Y)\leq 0$</p><p>å³$|cov(X,Y)|^2\leq D(X)D(Y)$</p><p>$g(t_0)=0$æ—¶,æœ‰ä¸¤ä¸ªç›¸ç­‰çš„å®é›¶ç‚¹</p><p>ç­‰å·æˆç«‹,$|cov(x,Y)|^2=D(X)D(Y)$</p><p>$t_0=\pm\sqrt{\frac{D(Y)}{D(X)} }$</p><p>$\begin{cases}E[(Y-E(Y))-t_0(X-E(X))]^2=0\\E[(Y-E(Y))-t_0(X-E(X))]=0\end{cases}\leftrightarrow \begin{cases}D[(Y-E(Y))-t_0(X-E(X))]=0\\E[(Y-E(Y))-t_0(X-E(X))=0]=1\end{cases}$</p><p>è‹¥X,Yæœä»äºŒç»´æ­£æ€åˆ†å¸ƒ,$X,Yç›¸äº’ç‹¬ç«‹\Leftrightarrow X,Yä¸ç›¸å…³$</p><p><img src="image-20241101115529133.png" alt="image-20241101115529133"></p><p>$\begin{align}<br>&amp;E(X)=E(Y)=1,D(X)=D(Y)=4,\rho_{XY}=\frac{1}{2}\\<br>&amp;cov(X,Y)=\rho_{XY}\sqrt{D(X)}\sqrt{D(Y)}=2\\<br>&amp;cov(X,Z)=cov(X,X)+cov(X,Y)=D(X)+\rho_{XY}\sqrt{D(X)}\sqrt{D(Y)}\\<br>&amp;=4+\frac{1}{2}\cdot\sqrt{4}\cdot \sqrt{4}=6\\<br>&amp;D(Z)=D(X)+D(Y)+2cov(X,Y)=12\\<br>&amp;\rho_{XZ}=\frac{\sqrt {3} }{2}\end{align}$</p><h2 id="é‡è¦æ•°å­¦æœŸæœ›"><a href="#é‡è¦æ•°å­¦æœŸæœ›" class="headerlink" title="é‡è¦æ•°å­¦æœŸæœ›"></a>é‡è¦æ•°å­¦æœŸæœ›</h2><p>$E(X^k)$Xçš„ké˜¶åŸç‚¹çŸ©</p><p>$E(|X|^k)$Xçš„ké˜¶ç»å¯¹åŸç‚¹çŸ©</p><p>$E((X-E(X))^k)$Xçš„ké˜¶ä¸­å¿ƒçŸ©</p><h2 id="é©¬å°”å¯å¤«ä¸ç­‰å¼"><a href="#é©¬å°”å¯å¤«ä¸ç­‰å¼" class="headerlink" title="é©¬å°”å¯å¤«ä¸ç­‰å¼"></a>é©¬å°”å¯å¤«ä¸ç­‰å¼</h2><p>$P(X\geq \varepsilon)\leq \frac{E(x)}{\varepsilon}$</p><p>$è¯:P(X\geq\varepsilon)=\int^{+\infty}_{\varepsilon}f(x)dx\leq\int^{+\infty}_{\varepsilon}\frac{x}{\varepsilon}f(x)dx\\\leq\frac{1}{\varepsilon}\int^{+\infty}_0 xf(x)dx=\frac{E(X)}{\varepsilon}$</p><h3 id="æ¨è®º1"><a href="#æ¨è®º1" class="headerlink" title="æ¨è®º1"></a>æ¨è®º1</h3><p>$P(|X|\geq \varepsilon)\leq\frac{E(|X|^k)}{\varepsilon^k}$</p><h3 id="æ¨è®º2-åˆ‡æ¯”é›ªå¤«ä¸ç­‰å¼"><a href="#æ¨è®º2-åˆ‡æ¯”é›ªå¤«ä¸ç­‰å¼" class="headerlink" title="æ¨è®º2 åˆ‡æ¯”é›ªå¤«ä¸ç­‰å¼"></a>æ¨è®º2 åˆ‡æ¯”é›ªå¤«ä¸ç­‰å¼</h3><p>$P(|X-E(X)|\geq \varepsilon)\leq \frac{D(X)}{\varepsilon^2}$</p><p>$proof:P(|X-E(x)|\geq \varepsilon)=P(|X-E(x)|\geq \varepsilon^2)\\\leq \frac{E(|X-E(X)|^2)}{\varepsilon^2}=\frac{D(X)}{\varepsilon^2}$</p><p><img src="image-20241108101426956.png" alt="image-20241108101426956"></p><p>$X\sim B(6000,\frac{1}{6})\\E(X)=1000\\D(X)=6000\times\frac{1}{6}\times\frac{5}{6}=\frac{5000}{6}$</p><p>$P(|\frac{X}{6000}-\frac{1}{6}|&lt;0.01)=P(|X-6000|&lt;60)\\\geq 1-\frac{\frac{5000}{6} }{60^2}=0.7685$</p><h2 id="åˆ‡æ¯”é›ªå¤«å¤§æ•°å®šå¾‹"><a href="#åˆ‡æ¯”é›ªå¤«å¤§æ•°å®šå¾‹" class="headerlink" title="åˆ‡æ¯”é›ªå¤«å¤§æ•°å®šå¾‹"></a>åˆ‡æ¯”é›ªå¤«å¤§æ•°å®šå¾‹</h2><p>$D(X_k)=\sigma^2_k\leq c,k=1,2,â€¦$</p><p>åˆ™æœ‰</p><p>$\lim\limits_{n\rightarrow \infty}D(\frac{1}{n}\mathop\Sigma\limits_{k=1}^nE(X_k))=0$</p><p>$proof:E(\frac{1}{n}\mathop\Sigma\limits^n_{i=1}X_i)=\frac{1}{n}\mathop\Sigma\limits^n_{i=1}E(X_i)\\D(\frac{1}{n}\mathop\Sigma^n_{i=1}X_i)=\frac{1}{n^2}\mathop\Sigma^n_{i=1}D(X_i)=\frac{1}{n^2}\cdot nc\\=\frac{c}{n}$</p><h3 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><p>$\lim\limits_{n\rightarrow \infty}P(|Y_n-a|\geq \varepsilon)=0\\\lim\limits_{n\rightarrow \infty}P(|Y_n-a|&lt; \varepsilon)=1$</p><p>è®°ä½œ$Y_n\mathop\rightarrow\limits^P_{n\rightarrow \infty}a$</p><h3 id="è¾›é’¦å¤§æ•°å®šå¾‹"><a href="#è¾›é’¦å¤§æ•°å®šå¾‹" class="headerlink" title="è¾›é’¦å¤§æ•°å®šå¾‹"></a>è¾›é’¦å¤§æ•°å®šå¾‹</h3><p>$\lim\limits_{n\rightarrow \infty}(|\frac{1}{n}\mathop\Sigma\limits_{k=1}^nX_k-\mu|\geq\varepsilon)=0$</p><h2 id="ä¼¯åŠªåˆ©å¤§æ•°å®šå¾‹"><a href="#ä¼¯åŠªåˆ©å¤§æ•°å®šå¾‹" class="headerlink" title="ä¼¯åŠªåˆ©å¤§æ•°å®šå¾‹"></a>ä¼¯åŠªåˆ©å¤§æ•°å®šå¾‹</h2><p>$\lim\limits_{n\rightarrow \infty} P(|\frac{n_A}{n}-p|\geq \varepsilon)=0$</p><h3 id="æ„ä¹‰"><a href="#æ„ä¹‰" class="headerlink" title="æ„ä¹‰"></a>æ„ä¹‰</h3><p>å›ç­”äº†:ä¸ºä½•èƒ½ä»¥æŸäº‹ä»¶å‘ç”Ÿçš„æ¦‚ç‡ä½œä¸ºäº‹ä»¶çš„æ¦‚ç‡çš„ä¼°è®¡</p><h2 id="ç‹¬ç«‹åŒåˆ†å¸ƒçš„ä¸­å¿ƒæé™å®šç†"><a href="#ç‹¬ç«‹åŒåˆ†å¸ƒçš„ä¸­å¿ƒæé™å®šç†" class="headerlink" title="ç‹¬ç«‹åŒåˆ†å¸ƒçš„ä¸­å¿ƒæé™å®šç†"></a>ç‹¬ç«‹åŒåˆ†å¸ƒçš„ä¸­å¿ƒæé™å®šç†</h2><p>$éšæœºå˜é‡åºåˆ—X_1,X_2,â€¦,X_n,â€¦ç›¸äº’ç‹¬ç«‹,\\æœä»åŒä¸€åˆ†å¸ƒ,ä¸”æœ‰æœŸæœ›å’Œæ–¹å·®:\\E(X_k)=\mu,D(X_k)=\sigma^2,k=1,2â€¦$</p><p>$\lim\limits_{n\rightarrow \infty}P(\frac{\mathop\Sigma\limits^{n}_{k=1}X_k-n\mu}{\sqrt{n}\sigma}\leq x)=\frac{1}{\sqrt{2\pi} }\int^x_{-\infty}e^{-\frac{t^2}{2} }dt$</p><h2 id="å¾·è«ä½›-æ‹‰æ™®æ‹‰æ–¯ä¸­å¿ƒæé™å®šç†"><a href="#å¾·è«ä½›-æ‹‰æ™®æ‹‰æ–¯ä¸­å¿ƒæé™å®šç†" class="headerlink" title="å¾·è«ä½›-æ‹‰æ™®æ‹‰æ–¯ä¸­å¿ƒæé™å®šç†"></a>å¾·è«ä½›-æ‹‰æ™®æ‹‰æ–¯ä¸­å¿ƒæé™å®šç†</h2><p>$Y_n\sim B(n,p),0&lt;p&lt;1,n=1,2,â€¦$</p><p>$\lim\limits_{n\rightarrow \infty}P(\frac{Y_n-n\mu}{\sqrt{np(1-p)} }\leq x)=\frac{1}{\sqrt{2\pi} }\int^x_{-\infty}e^{-\frac{t^2}{2} }dt$</p><p>å³å¯¹ä»»æ„çš„a&lt;b,</p><p>$\lim\limits_{n\rightarrow \infty}P(a&lt;\frac{Y_n-np}{\sqrt{np(1-p)} }\leq b)=\frac{1}{\sqrt{2\pi} }\int^b_ae^{-\frac{t^2}{2} }dt$</p><p>$Y_n\sim N(np,np(1-p))(è¿‘ä¼¼)$</p><p><img src="image-20241108114422370.png" alt="æ ‡å‡†æ­£æ€åˆ†å¸ƒè¡¨"></p>]]></content>
    
    
    <categories>
      
      <category>æ¦‚ç‡ä¸æ•°ç†æ¨¡å‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ¦‚ç»Ÿ</tag>
      
      <tag>æ¦‚ç‡ç»Ÿè®¡</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æŒ‡ä»¤æµæ°´çº¿</title>
    <link href="/2024/10/30/%E6%8C%87%E4%BB%A4%E6%B5%81%E6%B0%B4/"/>
    <url>/2024/10/30/%E6%8C%87%E4%BB%A4%E6%B5%81%E6%B0%B4/</url>
    
    <content type="html"><![CDATA[<h1 id="æŒ‡ä»¤æµæ°´çº¿"><a href="#æŒ‡ä»¤æµæ°´çº¿" class="headerlink" title="æŒ‡ä»¤æµæ°´çº¿"></a>æŒ‡ä»¤æµæ°´çº¿</h1><h2 id="æŒ‡ä»¤æµæ°´"><a href="#æŒ‡ä»¤æµæ°´" class="headerlink" title="æŒ‡ä»¤æµæ°´"></a>æŒ‡ä»¤æµæ°´</h2><ol><li>å–å€¼</li><li>åˆ†æ</li><li><p>æ‰§è¡Œ</p></li><li><p>é¡ºåºæ‰§è¡Œæ–¹å¼,ä¼ ç»Ÿçš„å†¯è¯ºä¾æ›¼æœºé‡‡ç”¨é¡ºåºæ‰§è¡Œæ–¹å¼,åˆç§°ä¸ºä¸²è¡Œæ‰§è¡Œæ–¹å¼</p></li><li>ä¸€æ¬¡é‡å æ‰§è¡Œæ–¹å¼</li></ol><p><img src="image-20241030161836112.png" alt="ä¸€æ¬¡é‡å "></p><p>ä¼˜ç‚¹:æ‰§è¡Œæ—¶é—´ç¼©çŸ­1/3,éƒ¨ä»¶åˆ©ç”¨ç‡æé«˜</p><p>ç¼ºç‚¹:ç¡¬ä»¶ä¸Šå¼€é”€ä»£ä»·å¤§,æ§åˆ¶è¿‡ç¨‹æ›´ä¸ºå¤æ‚</p><ol><li>äºŒæ¬¡é‡å æ‰§è¡Œæ–¹å¼</li></ol><p><img src="image-20241030162048191.png" alt="image-20241030162048191"></p><p>ç¼©çŸ­è¿‘2/3(ç†æƒ³æƒ…å†µ)</p><blockquote><p>æˆ‘ä»¬å¯ä»¥å°†æŒ‡ä»¤æ‰§è¡Œåˆ†ä¸ºå››æˆ–äº”ä¸ªé˜¶æ®µ,å¹¶ä¸”æ¯ä¸ªé˜¶æ®µåˆ©ç”¨çš„éƒ¨ä»¶ç›¸äº’ç‹¬ç«‹,åˆ™å¯ä»¥è®©CPUå®ç°åŒæ—¶è¿è¡Œå››/äº”æ¡æŒ‡ä»¤</p></blockquote><p>æµæ°´çº¿çš„è¡¨ç¤ºæ–¹æ³•</p><ol><li>æŒ‡ä»¤æ‰§è¡Œè¿‡ç¨‹å›¾</li></ol><p>â€‹    <img src="image-20241030162415476.png" alt="image-20241030162415476"></p><ol><li>æ—¶ç©ºå›¾</li></ol><p><img src="image-20241030162435291.png" alt="image-20241030162435291"></p><h2 id="æ€§èƒ½æ ‡å‡†"><a href="#æ€§èƒ½æ ‡å‡†" class="headerlink" title="æ€§èƒ½æ ‡å‡†"></a>æ€§èƒ½æ ‡å‡†</h2><p><strong>ååç‡</strong>:å¤„ç†å®Œæˆnä¸ªä»»åŠ¡æ‰€ç”¨çš„æ—¶é—´ä¸º$T_k$,$TP=\frac{n}{T_K}$</p><p> $TP_{max}=\frac{1}{\Delta t}$</p><p><img src="image-20241030162818987.png" alt="image-20241030162818987"></p><p>$0-k\Delta t$:è£…å…¥æ—¶é—´</p><p>$k\Delta t-(k+n-1)\Delta t$</p><p><strong>åŠ é€Ÿæ¯”</strong>:å®ŒæˆåŒæ ·ä¸€æ‰¹ä»»åŠ¡,ä¸ä½¿ç”¨æµæ°´çº¿æ‰€ç”¨çš„æ—¶é—´ä¸æ‰€ç”¨æµæ°´çº¿çš„æ—¶é—´ä¹‹æ¯”</p><p><strong>æ•ˆç‡</strong>:æµæ°´çº¿çš„è®¾å¤‡åˆ©ç”¨ç‡</p><p><img src="image-20241030163430255.png" alt="image-20241030163430255"></p><p>$n\rightarrow \inftyæ—¶,E_{max}=1$</p><h2 id="å½±å“å› ç´ "><a href="#å½±å“å› ç´ " class="headerlink" title="å½±å“å› ç´ "></a>å½±å“å› ç´ </h2><p><img src="image-20241030163719987.png" alt="æœºå™¨å‘¨æœŸçš„è®¾ç½®"></p><blockquote><p>ç”±ç»å…¸MIPSæ¶æ„æå‡ºçš„äº”é˜¶æ®µæ‰§è¡Œç†å¿µ</p></blockquote><p>äº”é˜¶æ®µ:</p><ol><li><strong>Instruction Fetch</strong>:å–æŒ‡ä»¤</li><li><strong>Instruction Decode</strong>:è§£ç æŒ‡ä»¤</li><li><strong>EXecute</strong>:æ‰§è¡ŒæŒ‡ä»¤</li><li><strong>Memory</strong>:è®¿å­˜</li><li><strong>Write Back</strong>:å›å†™</li></ol><blockquote><p>ä¸ºæ–¹ä¾¿æµæ°´çº¿çš„è®¾è®¡,å°†æ¯ä¸ªé˜¶æ®µçš„è€—æ—¶å–æˆä¸€æ ·,ä»¥æœ€é•¿è€—æ—¶ä¸ºå‡†</p><p>ä¸ºäº†ä¿è¯å„é˜¶æ®µä¹‹é—´æ•°æ®çš„ä¼ é€’,æˆ‘ä»¬åœ¨æ¯ä¸ªé˜¶æ®µä¹‹é—´éœ€è¦å¢åŠ ä¸€ä¸ªç¼“å†²å¯„å­˜å™¨(æˆ–ç§°ä¸ºé”å­˜å™¨),ä½œç”¨æ˜¯ä¿å­˜æœ¬æµæ°´æ®µçš„æ‰§è¡Œç»“æœ,æä¾›ç»™ä¸‹ä¸€æµæ°´æ®µä½¿ç”¨</p></blockquote><p>å½±å“å› ç´ </p><ol><li>ç»“æ„ç›¸å…³(èµ„æºå†²çª)</li><li>æ•°æ®ç›¸å…³(æ•°æ®å†²çª)</li><li>æ§åˆ¶ç›¸å…³(æ§åˆ¶å†²çª)</li></ol><h3 id="ç»“æ„ç›¸å…³"><a href="#ç»“æ„ç›¸å…³" class="headerlink" title="ç»“æ„ç›¸å…³"></a>ç»“æ„ç›¸å…³</h3><p>å¤šæ¡æŒ‡ä»¤åœ¨åŒä¸€æ—¶åˆ»äº‰ç”¨åŒä¸€èµ„æºè€Œå½¢æˆçš„å†²çªç§°ä¸ºç»“æ„ç›¸å…³</p><p>è§£å†³åŠæ³•:</p><ol><li>åä¸€æŒ‡ä»¤æš‚åœä¸€å‘¨æœŸ</li><li>èµ„æºé‡å¤é…ç½®:æ•°æ®å­˜å‚¨å™¨+æŒ‡ä»¤å­˜å‚¨å™¨</li></ol><h3 id="æ•°æ®ç›¸å…³"><a href="#æ•°æ®ç›¸å…³" class="headerlink" title="æ•°æ®ç›¸å…³"></a>æ•°æ®ç›¸å…³</h3><p>åœ¨ä¸€ä¸ªç¨‹åºä¸­,å­˜åœ¨å¿…é¡»ç­‰å‰ä¸€æ¡æŒ‡ä»¤æ‰§è¡Œå®Œæ‰èƒ½æ‰§è¡Œåä¸€æ¡æŒ‡ä»¤çš„æƒ…å†µ</p><p> è§£å†³åŠæ³•:</p><ol><li>æŠŠé‡åˆ°æ•°æ®ç›¸å…³çš„æŒ‡ä»¤åŠå…¶åç»­æŒ‡ä»¤éƒ½æš‚åœä¸€è‡³å‡ ä¸ªæ—¶é’Ÿå‘¨æœŸ,ç›´åˆ°æ•°æ®ç›¸å…³é—®é¢˜æ¶ˆå¤±åå†ç»§ç»­æ‰§è¡Œ,åˆ†ä¸º:<ol><li>ç¡¬ä»¶é˜»å¡</li><li>è½¯ä»¶æ’å…¥<code>NOP</code></li></ol></li><li>æ•°æ®æ—è·¯æŠ€æœ¯</li><li>ç¼–è¯‘ä¼˜åŒ–:é€šè¿‡ç¼–è¯‘å™¨è°ƒæ•´æŒ‡ä»¤é¡ºåºæ¥è§£å†³æ•°æ®ç›¸å…³</li></ol><h3 id="æ§åˆ¶ç›¸å…³"><a href="#æ§åˆ¶ç›¸å…³" class="headerlink" title="æ§åˆ¶ç›¸å…³"></a>æ§åˆ¶ç›¸å…³</h3><p>å½“æµæ°´çº¿é‡åˆ°è½¬ç§»æŒ‡ä»¤å’Œå…¶ä»–æ”¹å˜PCå€¼çš„æŒ‡ä»¤è€Œé€ æˆæ–­æµæ—¶,ä¼šå¼•èµ·æ§åˆ¶ç›¸å…³</p><p>è§£å†³åŠæ³•:</p><ol><li>è½¬ç§»æŒ‡ä»¤åˆ†æ”¯é¢„æµ‹</li><li>é¢„å–è½¬ç§»æˆåŠŸå’Œä¸æˆåŠŸä¸¤ä¸ªæ§åˆ¶æµæ–¹å‘ä¸Šçš„ç›®æ ‡æŒ‡ä»¤</li><li>åŠ å¿«å’Œæå‰å½¢æˆæ¡ä»¶ç </li></ol><p>æµæ°´çº¿çš„åˆ†ç±»</p><ol><li>éƒ¨ä»¶åŠŸèƒ½çº§,å¤„ç†æœºçº§,å¤„ç†æœºé—´çº§æµæ°´çº¿</li><li>å•åŠŸèƒ½æµæ°´çº¿å’Œå¤šåŠŸèƒ½æµæ°´çº¿</li><li>é™æ€æµæ°´çº¿å’ŒåŠ¨æ€æµæ°´çº¿</li></ol><p><img src="image-20241030190211089.png" alt="æ•°æ®é€šè·¯"></p><p>é›†ä¸­å¼æ§åˆ¶å™¨</p><ul><li>æ§åˆ¶å™¨åªé›†ä¸­å®ç°åœ¨IDé˜¶æ®µ</li><li>æ§åˆ¶å™¨äº§ç”Ÿå…¨éƒ¨çš„è¯‘ç ä¿¡å·</li><li>æµæ°´æ‰€æœ‰çš„è¯‘ç ä¿¡å·,ç›´åˆ°å…¶ä¸å†éœ€è¦ä¸ºæ­¢</li></ul><p>åˆ†å¸ƒå¼æ§åˆ¶å™¨</p><ul><li>æ§åˆ¶å™¨åˆ†å¸ƒå®ç°åœ¨å¤šä¸ªæµæ°´çº¿é˜¶æ®µ</li><li>æ¯çº§æ§åˆ¶å™¨åªäº§ç”Ÿè¯¥çº§åŠŸèƒ½éƒ¨ä»¶ç›¸å…³çš„è¯‘ç ä¿¡å·</li><li>æµæ°´æŒ‡ä»¤,ä½œä¸ºå„çº§æ§åˆ¶å™¨çš„è¾“å…¥</li></ul><h2 id="å¤šå‘æŠ€æœ¯"><a href="#å¤šå‘æŠ€æœ¯" class="headerlink" title="å¤šå‘æŠ€æœ¯"></a>å¤šå‘æŠ€æœ¯</h2><ol><li>è¶…æ ‡é‡æŠ€æœ¯</li></ol><ul><li>æ¯ä¸ªæ—¶é’Ÿå‘¨æœŸå†…å¯å¹¶å‘å¤šæ¡æŒ‡ä»¤</li><li>è¦é…ç½®å¤šä¸ªåŠŸèƒ½éƒ¨ä»¶</li><li>ä¸èƒ½è°ƒæ•´æŒ‡ä»¤çš„é¡ºåº</li></ul><ol><li>è¶…æµæ°´æŠ€æœ¯</li></ol><ul><li>åœ¨ä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸå†…å†åˆ†æ®µ</li><li>åœ¨ä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸå†…ä¸€ä¸ªåŠŸèƒ½éƒ¨ä»¶ä½¿ç”¨å¤šæ¬¡</li><li>ä¸èƒ½è°ƒæ•´æŒ‡ä»¤çš„æ‰§è¡Œé¡ºåº</li><li>é ç¼–è¯‘å™¨è§£å†³ä¼˜åŒ–é—®é¢˜</li></ul><ol><li>è¶…é•¿æŒ‡ä»¤å­—</li></ol><h2 id="ä¸‰æ§åˆ¶å™¨æ¶æ„è§„åˆ’"><a href="#ä¸‰æ§åˆ¶å™¨æ¶æ„è§„åˆ’" class="headerlink" title="ä¸‰æ§åˆ¶å™¨æ¶æ„è§„åˆ’"></a>ä¸‰æ§åˆ¶å™¨æ¶æ„è§„åˆ’</h2><h3 id="åŠŸèƒ½éƒ¨ä»¶æ§åˆ¶å™¨"><a href="#åŠŸèƒ½éƒ¨ä»¶æ§åˆ¶å™¨" class="headerlink" title="åŠŸèƒ½éƒ¨ä»¶æ§åˆ¶å™¨"></a>åŠŸèƒ½éƒ¨ä»¶æ§åˆ¶å™¨</h3><h3 id="æš‚åœæ§åˆ¶å™¨"><a href="#æš‚åœæ§åˆ¶å™¨" class="headerlink" title="æš‚åœæ§åˆ¶å™¨"></a>æš‚åœæ§åˆ¶å™¨</h3><h3 id="è½¬å‘æ§åˆ¶å™¨"><a href="#è½¬å‘æ§åˆ¶å™¨" class="headerlink" title="è½¬å‘æ§åˆ¶å™¨"></a>è½¬å‘æ§åˆ¶å™¨</h3>]]></content>
    
    
    
    <tags>
      
      <tag>CO</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ¬¡åºå…³ç³»</title>
    <link href="/2024/10/25/%E6%AC%A1%E5%BA%8F%E5%85%B3%E7%B3%BB/"/>
    <url>/2024/10/25/%E6%AC%A1%E5%BA%8F%E5%85%B3%E7%B3%BB/</url>
    
    <content type="html"><![CDATA[<h1 id="æ¬¡åºå…³ç³»"><a href="#æ¬¡åºå…³ç³»" class="headerlink" title="æ¬¡åºå…³ç³»"></a>æ¬¡åºå…³ç³»</h1><h2 id="ååºå…³ç³»"><a href="#ååºå…³ç³»" class="headerlink" title="ååºå…³ç³»"></a>ååºå…³ç³»</h2><ul><li>è‡ªå,åå¯¹ç§°,ä¼ é€’</li><li>$\leq$è¡¨ç¤ºååºå…³ç³»,$&lt;P,\leq$è¡¨ç¤ºååºç»“æ„</li><li>ä¾‹:$\lt N,\leq\gt,\lt N,\geq\gt,\lt P(A),\subseteq\gt,\lt I_+,|\gt$</li></ul><h2 id="å…¨åºå…³ç³»"><a href="#å…¨åºå…³ç³»" class="headerlink" title="å…¨åºå…³ç³»"></a>å…¨åºå…³ç³»</h2><ul><li>è®¾$\lt P,\leq\gt$æ˜¯ä¸€ä¸ªååºç»“æ„,å¦‚æœå¯¹äºä»»æ„$x,y\in P$,æˆ–è€…$x\leq y$,æˆ–è€…$y\leq x$,åˆ™ç§°$\leq$ä¸ºPä¸Šçš„<strong>å…¨åº</strong>æˆ–çº¿åº,å¹¶ç§°$\lt P,\leq\gt$ä¸º<strong>å…¨åºç»“æ„</strong>æˆ–é“¾</li><li>$\forall x\forall y(x\in P\wedge y\in P\rightarrow x\leq y\vee y\leq x)$</li></ul><h2 id="å¯æ¯”"><a href="#å¯æ¯”" class="headerlink" title="å¯æ¯”"></a>å¯æ¯”</h2><p>å¯¹äºååºé›†åˆ$\lt P,\leq\gt,x,y\in P$,å¦‚æœæœ‰$x\leq y$æˆ–è€…$y\leq x$,å°±è¯´Pçš„å…ƒç´ xå’Œyæ˜¯å¯æ¯”çš„</p><h2 id="ä¸¥æ ¼ååºå…³ç³»-æ‹Ÿåºå…³ç³»"><a href="#ä¸¥æ ¼ååºå…³ç³»-æ‹Ÿåºå…³ç³»" class="headerlink" title="ä¸¥æ ¼ååºå…³ç³»(æ‹Ÿåºå…³ç³»)"></a>ä¸¥æ ¼ååºå…³ç³»(æ‹Ÿåºå…³ç³»)</h2><ul><li><p>Ræ˜¯Pä¸Šçš„<strong>ä¸¥æ ¼ååºå…³ç³»</strong>,å½“ä¸”ä»…å½“Ræ˜¯<strong>åè‡ªåçš„</strong>å’Œ<strong>ä¼ é€’çš„</strong></p></li><li><p>&lt;è¡¨ç¤ºä¸¥æ ¼ååºå…³ç³»,&lt;$P,&lt;$&gt;ä¸ºä¸¥æ ¼ååº(æ‹Ÿåº)ç»“æ„</p></li><li><p>$\lt=\leq-I_P$</p></li></ul><h2 id="é®ç›–"><a href="#é®ç›–" class="headerlink" title="é®ç›–"></a>é®ç›–</h2><p>$yé®ç›–x\Leftrightarrow x&lt;y\wedge \neg \exists (z\in P\wedge x&lt;z \wedge z&lt;y)$</p><h2 id="å“ˆæ–¯å›¾-ååºç»“æ„å›¾"><a href="#å“ˆæ–¯å›¾-ååºç»“æ„å›¾" class="headerlink" title="å“ˆæ–¯å›¾/ååºç»“æ„å›¾"></a>å“ˆæ–¯å›¾/ååºç»“æ„å›¾</h2><p>ååºç»“æ„é€šå¸¸ç”¨<strong>ç®€åŒ–çš„å…³ç³»å›¾</strong>æ¥è¡¨ç¤º</p><h2 id="ååºç»“æ„ä¸­çš„ç‰¹æ®Šå…ƒç´ "><a href="#ååºç»“æ„ä¸­çš„ç‰¹æ®Šå…ƒç´ " class="headerlink" title="ååºç»“æ„ä¸­çš„ç‰¹æ®Šå…ƒç´ "></a>ååºç»“æ„ä¸­çš„ç‰¹æ®Šå…ƒç´ </h2><script type="math/tex; mode=display">\begin{align}&\lt A,\leq\gtæ˜¯ååºç»“æ„,å¹¶ä¸”B\subseteq A,åˆ™\\\\ &(1)bæ˜¯Bçš„æœ€å¤§å…ƒ\Leftrightarrow b\in B\wedge \forall x(x\in B\rightarrow x\leq b)\\\\ &(2)bæ˜¯Bçš„æœ€å°å…ƒ\Leftrightarrow b\in B\wedge \forall x(x\in B\rightarrow b\leq x)\\\\ &(3)bæ˜¯Bçš„æå¤§å…ƒ\Leftrightarrow \neg\exists x(x\in B\wedge b<x)\\\\  &(4)bæ˜¯Bçš„æå°å…ƒ\Leftrightarrow \neg\exists x(x\in B\wedge x<b)\\\\\end{align}</script><ul><li>Bçš„æœ€å¤§å…ƒã€æœ€å°å…ƒ<strong>è‹¥å­˜åœ¨,åˆ™å”¯ä¸€</strong></li><li>Bçš„æå¤§å…ƒã€æå°å…ƒè‹¥å­˜åœ¨,ä¸ä¸€å®šå”¯ä¸€</li><li>è‹¥Bæ˜¯<strong>æœ‰ç©·é›†</strong>,åˆ™Bçš„æå¤§å…ƒã€æå°å…ƒå¿…å­˜åœ¨,ä½†Bçš„æœ€å¤§å…ƒã€æœ€å°å…ƒä¸ä¸€å®šå­˜åœ¨</li></ul><h2 id="è‰¯åºç»“æ„"><a href="#è‰¯åºç»“æ„" class="headerlink" title="è‰¯åºç»“æ„"></a>è‰¯åºç»“æ„</h2><ul><li>ä¸€ä¸ªååºç»“æ„$\lt P,\leq\gt$,å¦‚æœPçš„æ¯ä¸€ä¸ªéç©ºå­é›†éƒ½æœ‰ä¸€ä¸ª<strong>æœ€å°å…ƒ</strong>,åˆ™ç§°$\leq$ä¸º<strong>è‰¯åºå…³ç³»</strong></li><li><strong>æ¯ä¸ªè‰¯åºç»“æ„éƒ½æ˜¯å…¨åºç»“æ„</strong></li><li><strong>ä½†å¹¶éæ¯ä¸ªå…¨åºç»“æ„éƒ½æ˜¯è‰¯åºçš„</strong></li></ul><h2 id="è‰¯åºçš„å……è¦æ¡ä»¶"><a href="#è‰¯åºçš„å……è¦æ¡ä»¶" class="headerlink" title="è‰¯åºçš„å……è¦æ¡ä»¶"></a>è‰¯åºçš„å……è¦æ¡ä»¶</h2><h3 id="å®šç†A"><a href="#å®šç†A" class="headerlink" title="å®šç†A"></a>å®šç†A</h3><script type="math/tex; mode=display">\begin{align}&è‹¥\leqä¸ºé›†åˆPä¸Šçš„ååºå…³ç³»,åˆ™\leqä¸ºPä¸Šè‰¯åºå…³ç³»,å½“ä¸”ä»…å½“\\\\&a.\leq ä¸ºPä¸Šçš„å…¨åºå…³ç³»ï¼›\\\\&b.Pä¸Šçš„æ¯ä¸ªéç©ºå­é›†éƒ½æœ‰æå°å…ƒã€‚\\\\\end{align}</script><h3 id="å®šç†B"><a href="#å®šç†B" class="headerlink" title="å®šç†B"></a>å®šç†B</h3><script type="math/tex; mode=display">\begin{align}&è®¾\lt A,\leq\gtä¸ºå…¨åºç»“æ„,åˆ™\lt A,\leq\gtæ˜¯è‰¯åºç»“æ„çš„å……åˆ†å¿…è¦æ¡ä»¶æ˜¯:\\\\&ä¸å­˜åœ¨Aä¸­å…ƒç´ çš„æ— ç©·åºåˆ—a_0,a_1,a_2,...,ä½¿å¾—å¯¹æ¯ä¸ªi\in N,çš†æœ‰a_{i+1}<a_i\\\\\end{align}</script><h2 id="ç­‰ä»·å…³ç³»"><a href="#ç­‰ä»·å…³ç³»" class="headerlink" title="ç­‰ä»·å…³ç³»"></a>ç­‰ä»·å…³ç³»</h2><blockquote><p>å¦‚æœé›†åˆAä¸Šçš„å…³ç³»Ræ˜¯è‡ªå,å¯¹ç§°,ä¼ é€’çš„,åˆ™Råœ¨Aä¸Šæ˜¯<strong>ç­‰ä»·å…³ç³»</strong></p></blockquote><h3 id="ç­‰ä»·ç±»"><a href="#ç­‰ä»·ç±»" class="headerlink" title="ç­‰ä»·ç±»"></a>ç­‰ä»·ç±»</h3><blockquote><p>è®¾Ræ˜¯é›†åˆAä¸Šçš„ç­‰ä»·å…³ç³»,å¯¹äºæ¯ä¸ªx$\in$A,Aä¸­ä¸xæœ‰å…³ç³»Rçš„å…ƒç´ çš„é›†åˆç§°ä¸º<strong>xå…³äºRçš„ç­‰ä»·ç±»</strong>,ç®€ç§°ä¸ºxçš„ç­‰ä»·ç±»,è®°ä½œ$[x]_R$</p></blockquote><script type="math/tex; mode=display">[x]_R=\{y|y\in A\wedge x R y\}\\\\[x]_R\subseteq A</script><h3 id="å®šç†"><a href="#å®šç†" class="headerlink" title="å®šç†"></a>å®šç†</h3><script type="math/tex; mode=display">\begin{align}&Ræ˜¯éç©ºé›†åˆAä¸Šçš„ç­‰ä»·å…³ç³»,åˆ™æœ‰:\\\\&(1)å¯¹äºæ¯ä¸ªx\in A,x\in [x]_R,å³[x]_Ræ˜¯Açš„éç©ºå­é›†\\\\&(2)[x]_R=[y]_Rå½“ä¸”ä»…å½“xRy\\\\&(3)è‹¥x, y\in Aä¸”x \bar Ry,åˆ™[x]_R\cap [y]_R=\emptyset\\\\&(4)\mathop{\bigcup}\limits_{x\in A}[x]_R=A\end{align}</script><script type="math/tex; mode=display">\begin{align}&(4)è¯æ˜:\forall x\in A,x\in [x]_R,åˆ™x\in\mathop{\bigcup}\limits_{x\in A}[x]_R\\\\&\forall x\in A,åˆ™[x]_R\subseteq A,æ‰€ä»¥\mathop{\bigcup}\limits_{x\in A}[x]_R\subseteq A\\\\&æ•…\mathop{\bigcup}\limits_{x\in A}[x]_R=A\\\\\end{align}</script><h3 id="å•†é›†"><a href="#å•†é›†" class="headerlink" title="å•†é›†"></a>å•†é›†</h3><blockquote><p>Ræ˜¯Aä¸Šçš„ç­‰ä»·å…³ç³»,æ‰€æœ‰ç­‰ä»·ç±»ç»„æˆçš„é›†åˆç§°ä¸ºAå…³äºRçš„å•†é›†,è®°ä½œA/R</p><p>ä¾‹å¦‚A={1,2,3,4,5,6,7},A/R={ {1,4,7}, {2,5}, {3,6} }</p><p><img src="image-20241025082644058.png" alt="æ¨¡3åŒä½™å…³ç³»å›¾"></p></blockquote><script type="math/tex; mode=display">\begin{align}&A/R=\{[x]_R|x\in A\}\end{align}</script><h2 id="åˆ’åˆ†"><a href="#åˆ’åˆ†" class="headerlink" title="åˆ’åˆ†"></a>åˆ’åˆ†</h2><script type="math/tex; mode=display">\begin{align}&è®¾Aæ˜¯éç©ºé›†åˆ,\pi\subseteq \rho(A),è‹¥\piæ»¡è¶³ä»¥ä¸‹ä¸‰ä¸ªæ¡ä»¶,åˆ™ç§°\piä¸ºAä¸Šçš„ä¸€ä¸ªåˆ’åˆ†:\\\\&(1)å¯¹äºæ¯ä¸ªS\in \pi,S=\emptyset\\\\&(2)å¯¹äºä»»æ„B,C\in \pi,è‹¥B\neq C,B\cap C=\emptyset\\\\&(3)\cup \pi =A\\\\&\piä¸­çš„å…ƒç´ ç§°ä¸ºåˆ’åˆ†å—,\piä¸­åˆ’åˆ†å—çš„ä¸ªæ•°ç§°ä¸ºç§©\\\\&æœ‰ç©·ä¸ªåˆ’åˆ†å¿«çš„åˆ’åˆ†ç§°ä¸ºæœ‰ç©·åˆ’åˆ†,å¦åˆ™ç§°ä¸ºæ— ç©·åˆ’åˆ†\end{align}</script><h3 id="å®šç†-1"><a href="#å®šç†-1" class="headerlink" title="å®šç†"></a>å®šç†</h3><blockquote><p>éç©ºé›†åˆAä¸Šçš„ç­‰ä»·å…³ç³»R,å†³å®šäº†Aä¸Šçš„ä¸€ä¸ªåˆ’åˆ†,å³å•†é›†A/R</p></blockquote><h3 id="å®šç†-2"><a href="#å®šç†-2" class="headerlink" title="å®šç†"></a>å®šç†</h3><blockquote><p>è®¾$\pi$æ˜¯éç©ºé›†åˆAä¸Šçš„ä¸€ä¸ªåˆ’åˆ†,è‹¥ä»¤:</p><p>$R_\pi=\{\lt x,y\gt|å­˜åœ¨S\in \piä½¿å¾—x,y\in S\}$</p><p>åˆ™$R_\pi$å¿…æ˜¯Aä¸Šçš„ç­‰ä»·å…³ç³»ä¸”$A/R_\pi=\pi$</p></blockquote><script type="math/tex; mode=display">\begin{align}&\pi=\{C_1,C_2,...,C_n\}\\\\&R_\pi=(C_1\times C_1)\cup (C_2\times C_2)\cup...\cup(C_n\times C_n)\\\\\end{align}</script>]]></content>
    
    
    <categories>
      
      <category>ç¦»æ•£æ•°å­¦</category>
      
    </categories>
    
    
    <tags>
      
      <tag>discrete mathematics</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æœ‰åºå¶å’Œç¬›å¡å°”ä¹˜ç§¯</title>
    <link href="/2024/10/25/%E6%9C%89%E5%BA%8F%E5%81%B6%E5%92%8C%E7%AC%9B%E5%8D%A1%E5%B0%94%E4%B9%98%E7%A7%AF/"/>
    <url>/2024/10/25/%E6%9C%89%E5%BA%8F%E5%81%B6%E5%92%8C%E7%AC%9B%E5%8D%A1%E5%B0%94%E4%B9%98%E7%A7%AF/</url>
    
    <content type="html"><![CDATA[<h1 id="æœ‰åºå¶å’Œç¬›å¡å°”ä¹˜ç§¯">æœ‰åºå¶å’Œç¬›å¡å°”ä¹˜ç§¯</h1><h2 id="æœ‰åºå¶">æœ‰åºå¶</h2><h3 id="å®šä¹‰">å®šä¹‰</h3><blockquote><p>ä»»ç»™ä¸¤ä¸ªå¯¹è±¡ x å’Œy,å°†å®ƒä»¬æŒ‰è§„å®šçš„é¡ºåºæ„æˆçš„åºåˆ—,ç§°ä¹‹ä¸ºæœ‰åºå¶ï¼Œè®°ä¸º&lt;x,y &gt;</p><p>å…¶ä¸­,x ç§°ä¸ºæœ‰åºå¶çš„ç¬¬ä¸€å…ƒ,y ç§°ä¸ºç¬¬äºŒå…ƒ</p></blockquote><h3 id="è¡¨ç¤ºæ–¹æ³•">è¡¨ç¤ºæ–¹æ³•</h3><p>Kuratovskiæå‡ºäº†ä¸€ç§æœ‰åºå¶çš„é›†åˆè¡¨ç¤º:<span class="math inline">\(\lta,b\gt= \{ \{a\}, \{a,b\} \}\)</span></p><h3 id="å®šç†">å®šç†</h3><p><span class="math display">\[\begin{align}&amp;å”¯ä¸€æ€§å®šç†:&lt;u,v&gt;=&lt;x,y&gt;\ \ iff\ \ u=x\wedge v = y\\\\&amp;è¯æ˜:\\\\(å……åˆ†æ€§)&amp;u=x,v=yæ—¶,æœ‰\{u\}=\{x\},\{u,v\}=\{x,y\}\\\\&amp;å› æ­¤\{\{u\},\{u,v\}\}=\{\{x\},\{x,y\}\}\\\\&amp;å³&lt;u,v&gt;=&lt;x,y&gt;\\\\(å¿…è¦æ€§)&amp;åˆ†æƒ…å†µè®¨è®º:\\\\&amp;(1)è®¾u=v\\\\&amp;å› ä¸º&lt;u,v&gt;=\{\{u\},\{u,v\}\}={ {u} }\\\\&amp;&lt;u,v&gt;=&lt;x,y&gt;=\{\{x\},\{x,y\}\}\\\\&amp;æ‰€ä»¥u=x=y\\\\&amp;u=x,v=y\\\\&amp;(2)è®¾u\neq v\\\\&amp;\because\{\{u\},\{u,v\}\}=\{\{x\},\{x,y\}\}\\\\&amp;\therefore\{u\}=\{x\},\{u,v\}\}=\{x,y\}\\\\&amp;\therefore u=x,v=y\\\\&amp;\end{align}\]</span></p><h2 id="ç¬›å¡å°”ä¹˜ç§¯">ç¬›å¡å°”ä¹˜ç§¯</h2><h3 id="å®šä¹‰-1">å®šä¹‰</h3><p><span class="math display">\[ A\times B=\{&lt;x,y&gt;|x\in A\wedgey\in B\} \]</span></p><h3 id="æ€§è´¨">æ€§è´¨</h3><ol type="1"><li>ä¸æ»¡è¶³äº¤æ¢å¾‹</li><li>ä¸æ»¡è¶³ç»“åˆå¾‹</li><li>å½“<span class="math inline">\(A=\emptyset\)</span>æˆ–<span class="math inline">\(B=\emptyset\)</span>æ—¶,<span class="math inline">\(A\times B=\emptyset\)</span></li><li><span class="math inline">\(\sharp(A\times B)=\sharp A\cdot\sharpB\)</span></li></ol><h3 id="å®šç†-1">å®šç†</h3><p><span class="math display">\[\begin{align}&amp;A\times B=\emptyset\ \ iff\ \ A=\emptysetæˆ– B=\emptyset\\\\&amp;è¯æ˜:åªéœ€è¯æ˜A\times B\neq \emptyset\ \ iff\ \ A\neq \emptysetä¸”B\neq\emptyset\\\\&amp;\because A \neq \emptyset,B\neq \emptyset\\\\&amp;\therefore è®¾x\in A,y\in B\\\\&amp;\therefore&lt;x,y&gt;\in A\times B\\\\&amp;\therefore A\times B\neq \emptyset\\\\\end{align}\]</span></p><p><span class="math display">\[\begin{align}&amp;è®¾A,B,C,Dä¸ºä»»æ„å››ä¸ªéç©ºé›†åˆ,åˆ™\\\\&amp;A\times B\subseteq C\times D\ \ iff\ \ A\subseteq Cä¸”B\subseteqD\\\\&amp;è¯æ˜:(å……åˆ†æ€§)ä»»å–x\in A,ç”±äºB\neq \emptyset,å¯å–b\in B\\\\&amp;&lt;x,b&gt;\in A\times B\\\\&amp;å› A\times B\subset C\times D\\\\&amp;&lt;x,b&gt;\in C\times D\\\\&amp;åˆ™x\in C,æ•…A\subseteq C\\\\&amp;åŒç†:B\subseteq D\\\\&amp;(å¿…è¦æ€§)ä»»å–&lt;a,b&gt;\in A\times B\\\\&amp;åˆ™a\in Aä¸”b\in B\\\\&amp;ç”±A\subseteq C,B\subseteq D\\\\&amp;åˆ™a\in C,b\in D\\\\&amp;&lt;a,b&gt;\in C\times D\\\\&amp;A\times B\subseteq C\times D\\\\\end{align}\]</span></p><h2 id="å…³ç³»">å…³ç³»</h2><h3 id="å®šä¹‰-2">å®šä¹‰</h3><p><span class="math display">\[\begin{align}&amp;å…³ç³»çš„å®šä¹‰:\\\\&amp;R\subseteq X\times Y\\\\&amp;&lt;x,y&gt;\in R\Rightarrow x\ R\ y\\\\&amp;&lt;x,y&gt;\notin R\Rightarrow x\ \bar{R}\ y\end{align}\]</span></p><p>$$ <span class="math display">\[\begin{align}&amp;å…¨åŸŸå…³ç³»U_x=\{&lt;x_i,x_j&gt;|x_i,x_j\in X\}=X\times X\\\\&amp;æ’ç­‰å…³ç³»I_x=\{&lt;x,x&gt;|x\in X\}\end{align}\]</span></p><p>$$</p><p><span class="math display">\[\begin{align}&amp;å®šä¹‰åŸŸdom(R)=\{x\in X|\exists y\in Y:&lt;x,y&gt;\in R\}\\\\&amp;å€¼åŸŸran(R)=\{y\in Y|\exists x\in X:&lt;x,y&gt;\in R\}\\\\&amp;dom(R)\subseteq X,ran(R)\subseteq Y\\\\\end{align}\]</span></p><p><span class="math display">\[\begin{align}&amp;Rçš„å…³ç³»çŸ©é˜µM_R=(r_{ij})_{m\times n}\\\\&amp;r_{ij}=\begin{cases}0\,\,è‹¥x_i\bar{R}y_i\\\\1\,\,è‹¥x_iRy_i\end{cases}\end{align}\]</span></p><p><span class="math display">\[\begin{align}&amp;R=\{&lt;x_1,y_1&gt;,&lt;x_2,y_1&gt;,&lt;x_2,y_2&gt;,&lt;x_2,y_3&gt;\}\\\\&amp;å…³ç³»çŸ©é˜µä¸º\begin{bmatrix}1&amp;0&amp;0\\\\1&amp;1&amp;1\\\\\end{bmatrix}\end{align}\]</span></p><p><span class="math display">\[\begin{align}&amp;Rè‡ªå\Leftrightarrow \forall x(x\in X\rightarrow &lt;x,x&gt;\inR)\\\\&amp;åœ¨Rçš„å…³ç³»å›¾ä¸­,æ¯ä¸ªé¡¶ç‚¹å‡æœ‰è‡ªç¯\\\\&amp;Rçš„å…³ç³»çŸ©é˜µä¸­,ä¸»å¯¹è§’çº¿å…ƒç´ å‡ä¸º1\\\\\end{align}\]</span></p><p><span class="math display">\[\begin{align}&amp;åè‡ªå\Leftrightarrow \\\\&amp;\forall x(x\in X\rightarrow &lt;x,x&gt;\notin R)\\\\\end{align}\]</span></p><p><span class="math display">\[\begin{align}&amp;å¯¹ç§°çŸ©é˜µ:\forall x\forall y(x\in X\wedge y\in Y\wedge&lt;x,y&gt;\in R\rightarrow &lt;y,x&gt;\in R)\\\\&amp;åœ¨Rçš„å…³ç³»å›¾ä¸­,ä»»æ„ä¸¤ä¸ªä¸åŒé¡¶ç‚¹ä¹‹é—´:æˆ–è€…æ— å¼§,æˆ–è€…æœ‰ä¸¤æ¡æ–¹å‘ç›¸åçš„å¼§\\\\&amp;å…³ç³»çŸ©é˜µä¸ºå¯¹ç§°çŸ©é˜µ\\\\\end{align}\]</span></p><p><span class="math display">\[\begin{align}&amp;Ræ˜¯åå¯¹ç§°çš„\Leftrightarrow \forall x\forall y(x\in X\wedge y\inY\wedge &lt;x,y&gt;\in R\wedge &lt;y,x&gt;\in R\rightarrow x=y)\\\\&amp;\Leftrightarrow\forall x\forall y(x\in X\wedge y\in Y\wedge&lt;x,y&gt;\in R\rightarrow &lt;y,x&gt;\notin R)\\\\&amp;åœ¨Rçš„å…³ç³»å›¾ä¸­,ä»»æ„ä¸åŒé¡¶ç‚¹ä¹‹é—´è‡³å¤šæœ‰ä¸€æ¡å¼§\\\\&amp;RçŸ©é˜µä¸­,è‹¥i\neq jä¸”iRj,åˆ™j\bar{R}i\end{align}\]</span></p><p><span class="math display">\[\begin{align}&amp;Ræ˜¯ä¼ é€’çš„ \Leftrightarrow \forall x\forall y\forall z\\\\&amp;(x\inX\wedge y\in X\wedge z\in X\wedge &lt;x,y&gt;\in R\wedge &lt;y,z&gt;\inR\rightarrow &lt;x,z&gt;\in R)\end{align}\]</span></p><p><span class="math display">\[\begin{align}&amp;Aæœ‰nä¸ªå…ƒç´ \\\\&amp;è‡ªåå…³ç³»:2^{n^2-n}\\\\&amp;åè‡ªåå…³ç³»:2^{n^2-1}\\\\&amp;å¯¹ç§°å…³ç³»:2^{\frac{n(n+1)}{2}}\\\\&amp;åå¯¹ç§°å…³ç³»:2^n\times3^{\frac{n(n-1)}{2}}\end{align}\]</span></p><h2 id="ä¹ é¢˜2.1.9">ä¹ é¢˜2.1.9</h2><h3 id="a">a)</h3><blockquote><p><span class="math inline">\(dom(U\mathscr A)=\cup\{domR|R\in \mathscrA\}\)</span></p></blockquote><h3 id="b">b)</h3><blockquote><p><span class="math inline">\(ran(U\mathscr A)=\cup\{ranR|R\in \mathscrA\}\)</span></p></blockquote><h2 id="ä¸‰åºå¶çš„ç†è§£">ä¸‰åºå¶çš„ç†è§£</h2><p><span class="math display">\[\begin{align}&lt;a,b,c&gt;=&amp;&lt;&lt;a,b&gt;,c&gt;\\\\=&amp;&lt;\{\{a\},\{a,b\}\},c&gt;\\\\=&amp;\{\{\{\{a\},\{a,b\}\}\},\{\{\{a\},\{a,b\}\},c\}\} \\\\\neq&amp; \{\{a\},\{a,b\},\{a,b,c\}\}\end{align}\]</span></p>]]></content>
    
    
    <categories>
      
      <category>ç¦»æ•£æ•°å­¦</category>
      
    </categories>
    
    
    <tags>
      
      <tag>discrete mathematics</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>é€’å½’ä¸‹é™</title>
    <link href="/2024/10/24/%E9%80%92%E5%BD%92%E4%B8%8B%E9%99%8D/"/>
    <url>/2024/10/24/%E9%80%92%E5%BD%92%E4%B8%8B%E9%99%8D/</url>
    
    <content type="html"><![CDATA[<h2 id="Grammeræ–‡æ³•"><a href="#Grammeræ–‡æ³•" class="headerlink" title="Grammeræ–‡æ³•"></a>Grammeræ–‡æ³•</h2><h3 id="Lexè¯æ³•"><a href="#Lexè¯æ³•" class="headerlink" title="Lexè¯æ³•"></a>Lexè¯æ³•</h3><blockquote><p>è¯­è¨€ä¸­çš„è¯æ±‡åŠå…¶å±æ€§å’Œå«ä¹‰çš„è§„åˆ™</p></blockquote><script type="math/tex; mode=display"><var\_name>\rightarrow <letter>|<letter><var\_name>\\<letter>\rightarrow a^`|b^`|...|z^`</script><script type="math/tex; mode=display"><>æ ‡è¯†è¯­æ³•æˆåˆ†çš„è¾¹ç•Œ\\\rightarrowè¡¨ç¤ºå·¦ä¾§éƒ¨åˆ†ç”±å³ä¾§éƒ¨åˆ†çš„å…·ä½“è§„åˆ™ç»„åˆè€Œæˆ\\|è¡¨ç¤ºè§„åˆ™å¯ä»¥ä»å…¶ä¸¤ä¾§æä¾›çš„ä»»æ„é€‰é¡¹ä¸­é€‰å–\\å˜é‡åå®šä¹‰ä¸º:æœ‰è‡³å°‘ä¸€ä¸ª(å¤§äº0ä¸ª)å°å†™å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²\\</script><h3 id="Syntax-è¯­æ³•"><a href="#Syntax-è¯­æ³•" class="headerlink" title="Syntax è¯­æ³•"></a>Syntax è¯­æ³•</h3><blockquote><p>æè¿°è¯­è¨€ä¸­å¥å­ç»“æ„å’Œç»„ç»‡æ–¹å¼çš„è§„åˆ™</p></blockquote><h2 id="è¯æ³•-amp-è¯­æ³•åˆ†æ"><a href="#è¯æ³•-amp-è¯­æ³•åˆ†æ" class="headerlink" title="è¯æ³•&amp;è¯­æ³•åˆ†æ"></a>è¯æ³•&amp;è¯­æ³•åˆ†æ</h2><h3 id="Lexer-è¯æ³•åˆ†æ"><a href="#Lexer-è¯æ³•åˆ†æ" class="headerlink" title="Lexer è¯æ³•åˆ†æ"></a>Lexer è¯æ³•åˆ†æ</h3><h4 id="Token"><a href="#Token" class="headerlink" title="Token"></a>Token</h4><blockquote><p>æ–‡æœ¬çš„æœ€å°è¯­æ³•å•å…ƒ,è¯•è¯‘ä½œâ€è¯­ç´ â€</p></blockquote><h3 id="Parser-è¯­æ³•åˆ†æ"><a href="#Parser-è¯­æ³•åˆ†æ" class="headerlink" title="Parser è¯­æ³•åˆ†æ"></a>Parser è¯­æ³•åˆ†æ</h3><script type="math/tex; mode=display">Expr<è¡¨è¾¾å¼>\rightarrow <é¡¹>|<é¡¹>+<è¡¨è¾¾å¼>\\Term<é¡¹>\rightarrow <å› å­>|<å› å­>*<é¡¹>\\Factor<å› å­>\rightarrow 'i'</script>]]></content>
    
    
    
    <tags>
      
      <tag>OOPre</tag>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å•å‘¨æœŸCPUè®¾è®¡æ–‡æ¡£</title>
    <link href="/2024/10/23/%E5%8D%95%E5%91%A8%E6%9C%9FCPU%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3/"/>
    <url>/2024/10/23/%E5%8D%95%E5%91%A8%E6%9C%9FCPU%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3/</url>
    
    <content type="html"><![CDATA[<h1 id="CPU-è®¾è®¡æ–‡æ¡£"><a href="#CPU-è®¾è®¡æ–‡æ¡£" class="headerlink" title="CPU è®¾è®¡æ–‡æ¡£"></a>CPU è®¾è®¡æ–‡æ¡£</h1><h2 id="æ•´ä½“æ¶æ„"><a href="#æ•´ä½“æ¶æ„" class="headerlink" title="æ•´ä½“æ¶æ„"></a>æ•´ä½“æ¶æ„</h2><p><img src="image-20241022231853793.png" alt="æ•´ä½“æ¶æ„"></p><h2 id="éƒ¨ä»¶"><a href="#éƒ¨ä»¶" class="headerlink" title="éƒ¨ä»¶"></a>éƒ¨ä»¶</h2><h3 id="PC-Program-Counter"><a href="#PC-Program-Counter" class="headerlink" title="PC(Program Counter)"></a>PC(Program Counter)</h3><blockquote><p>ç¨‹åºè®¡æ•°å™¨,ç”¨äºæŒ‡ç¤ºæŒ‡ä»¤çš„ä½ç½®.</p><p>ä¸»ä½“ä¸ºä¸€ä¸ªå¯„å­˜å™¨,ç”¨äºå­˜å‚¨æŒ‡ä»¤åœ°å€,åœ¨æ—¶é’Ÿä¸Šå‡æ²¿æ—¶è¾“å‡ºåˆ°PC`</p></blockquote><p><img src="image-20241022185634323.png" alt="PC"></p><h3 id="IM-Insturction-Memory"><a href="#IM-Insturction-Memory" class="headerlink" title="IM(Insturction Memory)"></a>IM(Insturction Memory)</h3><blockquote><p>æŒ‡ä»¤å­˜å‚¨å™¨,å­˜å‚¨æŒ‡ä»¤å†…å®¹.</p><p>ä¸»ä½“ä¸ºä¸€ä¸ªROM,é€šè¿‡PCè¾“å…¥åœ°å€,å°†PCæ‰€å¯¹åº”çš„æŒ‡ä»¤è¾“å‡ºåˆ°Instr.</p></blockquote><p><img src="image-20241022190043406.png" alt="IM"></p><h3 id="DM-Data-Memory"><a href="#DM-Data-Memory" class="headerlink" title="DM(Data Memory)"></a>DM(Data Memory)</h3><blockquote><p>æ•°æ®å­˜å‚¨å™¨,ä¸CPUç›´æ¥äº¤æ¢æ•°æ®çš„å†…éƒ¨å­˜å‚¨å™¨</p><p>ä¸»ä½“ä¸ºä¸€ä¸ªRAM,å³å¯è¯»åˆå¯å†™,WEä¸º1æ—¶,å°†WDæ•°æ®å†™å…¥åˆ°Aåœ°å€;WEä¸º0æ—¶,è¯»å‡ºWDåœ°å€å¯¹åº”æ•°æ®åˆ°RD</p></blockquote><p><img src="image-20241022231940141.png" alt="DM"></p><h3 id="GRF-Register-File"><a href="#GRF-Register-File" class="headerlink" title="GRF(Register File)"></a>GRF(Register File)</h3><blockquote><p>CPUå†…éƒ¨çš„å¯„å­˜å™¨å †</p><p>æœ‰32ä¸ª32ä½å¯„å­˜å™¨,é€šè¿‡A1/A2é€‰æ‹©å¯„å­˜å™¨è¯»å‡ºåˆ°RD1/RD2,é€šè¿‡A3é€‰æ‹©å¯„å­˜å™¨å†™å…¥æ•°æ®WD3</p></blockquote><p><img src="image-20241022190555004.png" alt="GRF"></p><h3 id="ALU-Arithmetic-and-Logical-Unit"><a href="#ALU-Arithmetic-and-Logical-Unit" class="headerlink" title="ALU(Arithmetic and Logical Unit)"></a>ALU(Arithmetic and Logical Unit)</h3><blockquote><p>è®¡ç®—å•å…ƒ,æ”¯æŒå¤šç§è®¡ç®—æ“ä½œ</p><p>ç”±SrcAä¸SrcBè¯»å…¥ä¸¤ä¸ªæ“ä½œæ•°,é€šè¿‡ALUControlé€‰æ‹©è®¡ç®—ç±»å‹,è¾“å‡ºåˆ°ALUResult</p></blockquote><p><img src="image-20241022232019925.png" alt="ALU"></p><h3 id="SPT-Splitter"><a href="#SPT-Splitter" class="headerlink" title="SPT(Splitter)"></a>SPT(Splitter)</h3><blockquote><p>åˆ†çº¿å™¨,åˆ†å‰²æŒ‡ä»¤çš„ä¸åŒä½</p></blockquote><p><img src="image-20241022190810134.png" alt="SPT"></p><h3 id="EXT-Extender"><a href="#EXT-Extender" class="headerlink" title="EXT(Extender)"></a>EXT(Extender)</h3><blockquote><p>æ‰©ä½å™¨,å½“ExtControlä¸º0æ—¶,å°†è¾“å…¥çš„ç«‹å³æ•°ç”±16ä½æœ‰ç¬¦å·æ‰©å±•å˜ä¸º32ä½;å½“ExtControlä¸º1æ—¶,å°†è¾“å…¥çš„ç«‹å³æ•°ç”±16ä½é›¶æ‰©å±•å˜ä¸º32ä½</p></blockquote><p><img src="image-20241022232119130.png" alt="EXT"></p><h3 id="NXTAD-Next-Address"><a href="#NXTAD-Next-Address" class="headerlink" title="NXTAD(Next Address)"></a>NXTAD(Next Address)</h3><blockquote><p>ç”¨äºè®¡ç®—PCè¾“å…¥çš„ä¸‹ä¸€ä¸ªæŒ‡ä»¤åœ°å€</p></blockquote><p><img src="image-20241022232220391.png" alt="NXTAD"></p><h3 id="CU-Control-Unit"><a href="#CU-Control-Unit" class="headerlink" title="CU(Control Unit)"></a>CU(Control Unit)</h3><blockquote><p>æ§åˆ¶å•å…ƒ,é€šè¿‡è¾“å…¥æŒ‡ä»¤,å†³å®šè¾“å‡ºä¿¡å·</p></blockquote><p><img src="image-20241022232239176.png" alt="CU"></p><h2 id="ALUä¿¡å·è¡¨"><a href="#ALUä¿¡å·è¡¨" class="headerlink" title="ALUä¿¡å·è¡¨"></a>ALUä¿¡å·è¡¨</h2><div class="table-container"><table><thead><tr><th>ALUControlä¿¡å·</th><th>æ“ä½œ</th></tr></thead><tbody><tr><td>000</td><td>ä¸</td></tr><tr><td>001</td><td>æˆ–</td></tr><tr><td>010</td><td>åŠ </td></tr><tr><td>011</td><td>è¦†ç›–é«˜ä½</td></tr><tr><td>110</td><td>å‡</td></tr><tr><td>111</td><td>ç§»ä½</td></tr></tbody></table></div><h2 id="CUä¿¡å·è¡¨"><a href="#CUä¿¡å·è¡¨" class="headerlink" title="CUä¿¡å·è¡¨"></a>CUä¿¡å·è¡¨</h2><div class="table-container"><table><thead><tr><th>æŒ‡ä»¤</th><th>RegWrite</th><th>MemWrite</th><th>ALUControl</th><th>RegDst</th><th>MemtoReg</th><th>ALUSrc</th><th>Branch</th><th>Jump</th><th>ExtControl</th></tr></thead><tbody><tr><td>lw</td><td>1</td><td>0</td><td>010(åŠ æ³•)</td><td>0</td><td>1</td><td>1</td><td>0</td><td>0</td><td>0</td></tr><tr><td>sw</td><td>0</td><td>1</td><td>010(åŠ æ³•)</td><td>X</td><td>X</td><td>1</td><td>0</td><td>0</td><td>0</td></tr><tr><td>beq</td><td>0</td><td>0</td><td>110(å‡æ³•)</td><td>X</td><td>X</td><td>0</td><td>1</td><td>0</td><td>0</td></tr><tr><td>add</td><td>1</td><td>0</td><td>010(åŠ æ³•)</td><td>1</td><td>0</td><td>0</td><td>0</td><td>0</td><td>X</td></tr><tr><td>sub</td><td>1</td><td>0</td><td>110(å‡æ³•)</td><td>1</td><td>0</td><td>0</td><td>0</td><td>0</td><td>X</td></tr><tr><td>and</td><td>1</td><td>0</td><td>000(ä¸)</td><td>1</td><td>0</td><td>0</td><td>0</td><td>0</td><td>X</td></tr><tr><td>or</td><td>1</td><td>0</td><td>001(æˆ–)</td><td>1</td><td>0</td><td>0</td><td>0</td><td>0</td><td>X</td></tr><tr><td>slt</td><td>1</td><td>0</td><td>111(å°äºç½®ä½)</td><td>1</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td></tr><tr><td>addi</td><td>1</td><td>0</td><td>010(åŠ æ³•)</td><td>0</td><td>0</td><td>1</td><td>0</td><td>0</td><td>0</td></tr><tr><td>j</td><td>0</td><td>0</td><td>XXX</td><td>X</td><td>X</td><td>X</td><td>X</td><td>1</td><td>0</td></tr><tr><td>ori</td><td>1</td><td>0</td><td>001</td><td>X</td><td>0</td><td>1</td><td>0</td><td>0</td><td>1</td></tr><tr><td>lui</td><td>1</td><td>0</td><td>011(é«˜ä½è¦†ç›–)</td><td>0</td><td>0</td><td>1</td><td>0</td><td>0</td><td>1</td></tr><tr><td>nop</td><td>X</td><td>X</td><td>X</td><td>X</td><td>X</td><td>X</td><td>X</td><td>X</td><td>X</td></tr></tbody></table></div><h2 id="æµ‹è¯•æ–¹æ¡ˆ"><a href="#æµ‹è¯•æ–¹æ¡ˆ" class="headerlink" title="æµ‹è¯•æ–¹æ¡ˆ"></a>æµ‹è¯•æ–¹æ¡ˆ</h2><h3 id="æ’°å†™MIPSæµ‹è¯•æ–‡ä»¶"><a href="#æ’°å†™MIPSæµ‹è¯•æ–‡ä»¶" class="headerlink" title="æ’°å†™MIPSæµ‹è¯•æ–‡ä»¶"></a>æ’°å†™MIPSæµ‹è¯•æ–‡ä»¶</h3><blockquote><p>ä½¿ç”¨<code>ori,nop,add,sub,lw,sw,</code>æ’°å†™ä¸€ä¸ªæµ‹è¯•ç”¨MIPSæ–‡ä»¶.</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs assembly">ori $0, $0, 10<br>ori $1, $0, 11<br>ori $2, $0, 22<br>ori $3, $0, 40<br>ori $4, $0, 2000<br>ori $5, $4, 12<br><br>nop<br>nop<br>nop<br><br>add $6, $5, $4<br>add $7, $6, $2<br>add $8, $7, $1<br>add $9, $8, $0<br>add $10, $0, $3<br><br>sw $0, 0($10)<br>sw $1, 4($10)<br>sw $2, 8($10)<br><br>nop<br>nop<br>nop<br><br><br>lw $11, 0($10)<br>lw $12, 0($10)<br>lw $13, 0($10)<br><br>sub $14, $10, $0<br>sub $15, $14, $1<br>sub $16, $15, $2<br><br>lui $17, 0xffff<br>lui $18, 0x4fff<br>lui $19, 0x1<br>lui $20, 0x223<br><br>ori $21, $21, 1<br>ori $22, $22, 1<br>loop:<br>sub $22, $22, $4<br>beq $21, $22, loop<br></code></pre></td></tr></table></figure><h3 id="ä½¿ç”¨MARSè·å¾—æœºå™¨ç "><a href="#ä½¿ç”¨MARSè·å¾—æœºå™¨ç " class="headerlink" title="ä½¿ç”¨MARSè·å¾—æœºå™¨ç "></a>ä½¿ç”¨MARSè·å¾—æœºå™¨ç </h3><blockquote><p>å°†MIPSä»£ç è¾“å…¥MARSä¸­,å°†æ–‡ä»¶æœºå™¨ç ä»¥åå…­è¿›åˆ¶æ ¼å¼å¯¼å‡º,å¹¶åœ¨æ–‡ä»¶å¼€å¤´æ·»åŠ <code>v2.0 raw</code>.</p></blockquote><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><code class="hljs dns"><span class="hljs-number">3400000</span>a<br><span class="hljs-number">3401000</span>b<br><span class="hljs-number">34020016</span><br><span class="hljs-number">34030028</span><br><span class="hljs-number">340407d0</span><br><span class="hljs-number">3485000</span>c<br><span class="hljs-number">00000000</span><br><span class="hljs-number">00000000</span><br><span class="hljs-number">00000000</span><br><span class="hljs-number">00a43020</span><br><span class="hljs-number">00c23820</span><br><span class="hljs-number">00e14020</span><br><span class="hljs-number">01004820</span><br><span class="hljs-number">00035020</span><br>ad400000<br>ad410004<br>ad420008<br><span class="hljs-number">00000000</span><br><span class="hljs-number">00000000</span><br><span class="hljs-number">00000000</span><br><span class="hljs-number">8d4b0000</span><br><span class="hljs-number">8d4c0000</span><br><span class="hljs-number">8d4d0000</span><br><span class="hljs-number">01407022</span><br><span class="hljs-number">01c17822</span><br><span class="hljs-number">01e28022</span><br><span class="hljs-number">3</span>c11ffff<br><span class="hljs-number">3</span>c124fff<br><span class="hljs-number">3c130001</span><br><span class="hljs-number">3c140223</span><br><span class="hljs-number">36b50001</span><br><span class="hljs-number">36d60001</span><br><span class="hljs-number">02c4b022</span><br><span class="hljs-number">12</span>b6fffe<br>v2.<span class="hljs-number">0</span> raw<br><span class="hljs-number">3400000</span>a<br><span class="hljs-number">3401000</span>b<br><span class="hljs-number">34020016</span><br><span class="hljs-number">34030028</span><br><span class="hljs-number">3</span>c01ffff<br><span class="hljs-number">3421</span>ffff<br><span class="hljs-number">00012025</span><br><span class="hljs-number">3485000</span>c<br><span class="hljs-number">00000000</span><br><span class="hljs-number">00000000</span><br><span class="hljs-number">00000000</span><br><span class="hljs-number">00a43020</span><br><span class="hljs-number">00c23820</span><br><span class="hljs-number">00e14020</span><br><span class="hljs-number">01004820</span><br><span class="hljs-number">00035020</span><br>ad400000<br>ad410004<br>ad420008<br><span class="hljs-number">00000000</span><br><span class="hljs-number">00000000</span><br><span class="hljs-number">00000000</span><br><span class="hljs-number">8d4b0000</span><br><span class="hljs-number">8d4c0000</span><br><span class="hljs-number">8d4d0000</span><br><span class="hljs-number">01407022</span><br><span class="hljs-number">01c17822</span><br><span class="hljs-number">01e28022</span><br><span class="hljs-number">3</span>c11ffff<br><span class="hljs-number">3</span>c124fff<br><span class="hljs-number">3c130001</span><br><span class="hljs-number">3c140223</span><br><span class="hljs-number">36b50001</span><br><span class="hljs-number">36d60001</span><br><span class="hljs-number">02c4b022</span><br><span class="hljs-number">12</span>b6fffe<br></code></pre></td></tr></table></figure><h3 id="æ¯”å¯¹MARSä¸Logisimæ¨¡æ‹ŸCPUçš„å¯„å­˜å™¨"><a href="#æ¯”å¯¹MARSä¸Logisimæ¨¡æ‹ŸCPUçš„å¯„å­˜å™¨" class="headerlink" title="æ¯”å¯¹MARSä¸Logisimæ¨¡æ‹ŸCPUçš„å¯„å­˜å™¨"></a>æ¯”å¯¹MARSä¸Logisimæ¨¡æ‹ŸCPUçš„å¯„å­˜å™¨</h3><blockquote><p>ç»è¿‡æµ‹è¯•,ä¸¤è€…ç»“æœç›¸ç¬¦</p></blockquote><p><img src="image-20241023000916439.png" alt="image-20241023000916439"></p><p><img src="image-20241023000930000.png" alt="image-20241023000930000"></p><h3 id="æ¯”å¯¹DM"><a href="#æ¯”å¯¹DM" class="headerlink" title="æ¯”å¯¹DM"></a>æ¯”å¯¹DM</h3><p>Logisimä¸­DMå¯¼å‡ºç»“æœ:</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">v2</span>.<span class="hljs-number">0</span> raw<br><span class="hljs-attribute">11</span>*<span class="hljs-number">0</span> b <span class="hljs-number">16</span><br></code></pre></td></tr></table></figure><p>Marsä¸­çš„ç»“æœä¸º:</p><p><img src="image-20241023000652564.png" alt="image-20241023000652564"></p><h3 id="Pythonè‡ªåŠ¨åŒ–æµ‹è¯•"><a href="#Pythonè‡ªåŠ¨åŒ–æµ‹è¯•" class="headerlink" title="Pythonè‡ªåŠ¨åŒ–æµ‹è¯•"></a>Pythonè‡ªåŠ¨åŒ–æµ‹è¯•</h3><h4 id="Mars-Memoryæ–‡ä»¶å¯¼å‡ºæ–¹å¼"><a href="#Mars-Memoryæ–‡ä»¶å¯¼å‡ºæ–¹å¼" class="headerlink" title="Mars Memoryæ–‡ä»¶å¯¼å‡ºæ–¹å¼"></a>Mars Memoryæ–‡ä»¶å¯¼å‡ºæ–¹å¼</h4><blockquote><p>é€šè¿‡<code>File-Dump Memory to File</code>,Memory Segmenté€‰æ‹©<code>.data</code>,Dump Formaté€‰æ‹©<code>Hexadecimal Text</code></p></blockquote><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs dns"><span class="hljs-number">00000000</span><br><span class="hljs-number">00000000</span><br><span class="hljs-number">00000000</span><br><span class="hljs-number">00000000</span><br><span class="hljs-number">00000000</span><br><span class="hljs-number">00000000</span><br><span class="hljs-number">00000000</span><br><span class="hljs-number">00000000</span><br><span class="hljs-number">00000000</span><br><span class="hljs-number">00000000</span><br><span class="hljs-number">00000000</span><br><span class="hljs-number">0000000</span>b<br><span class="hljs-number">00000016</span><br><span class="hljs-number">00000000</span><br>...<br><span class="hljs-number">00000000</span><br></code></pre></td></tr></table></figure><h4 id="Logisim-Memoryæ–‡ä»¶å¯¼å‡ºæ–¹å¼"><a href="#Logisim-Memoryæ–‡ä»¶å¯¼å‡ºæ–¹å¼" class="headerlink" title="Logisim Memoryæ–‡ä»¶å¯¼å‡ºæ–¹å¼"></a>Logisim Memoryæ–‡ä»¶å¯¼å‡ºæ–¹å¼</h4><blockquote><p>å³é”®RAM,é€‰æ‹©<code>save image</code></p></blockquote><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">v2</span>.<span class="hljs-number">0</span> raw<br><span class="hljs-attribute">11</span>*<span class="hljs-number">0</span> b <span class="hljs-number">16</span><br></code></pre></td></tr></table></figure><h4 id="Pythonæµ‹è¯•æ–‡ä»¶"><a href="#Pythonæµ‹è¯•æ–‡ä»¶" class="headerlink" title="Pythonæµ‹è¯•æ–‡ä»¶"></a>Pythonæµ‹è¯•æ–‡ä»¶</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs python">mips_path = <span class="hljs-string">&quot;mips.txt&quot;</span><br>logisim_path = <span class="hljs-string">&quot;logisim.txt&quot;</span><br><br>mips_file = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;mips.txt&quot;</span>, <span class="hljs-string">&quot;r&quot;</span>)<br>logisim_file = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;logisim.txt&quot;</span>, <span class="hljs-string">&quot;r&quot;</span>)<br><br>mips_mem = []<br>lines = mips_file.readlines()<br><span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> lines:<br>    line = line.removesuffix(<span class="hljs-string">&quot;\n&quot;</span>)<br>    mips_mem.append(<span class="hljs-built_in">int</span>(line, <span class="hljs-number">16</span>))<br><br>logisim_mem = [<span class="hljs-number">0</span>] * <span class="hljs-built_in">len</span>(mips_mem)<br>lines2 = logisim_file.readlines()<br>line = lines2[<span class="hljs-number">1</span>]<br>line = line.removesuffix(<span class="hljs-string">&quot;\n&quot;</span>)<br>index = <span class="hljs-number">0</span><br><span class="hljs-keyword">for</span> s <span class="hljs-keyword">in</span> line.split(<span class="hljs-string">&quot; &quot;</span>):<br>    <span class="hljs-built_in">print</span>(s)<br>    <span class="hljs-keyword">if</span> <span class="hljs-string">&quot;*&quot;</span> <span class="hljs-keyword">in</span> s:<br>        <span class="hljs-comment"># cntä¸º10è¿›åˆ¶,valueä¸º16è¿›åˆ¶</span><br>        cnt, value = s.split(<span class="hljs-string">&quot;*&quot;</span>)<br>        cnt = <span class="hljs-built_in">int</span>(cnt)<br>        value = <span class="hljs-built_in">int</span>(value, <span class="hljs-number">16</span>)<br>        <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(cnt):<br>            logisim_mem[index] = value<br>            index += <span class="hljs-number">1</span><br>    <span class="hljs-keyword">else</span>:<br>        value = <span class="hljs-built_in">int</span>(s, <span class="hljs-number">16</span>)<br>        logisim_mem[index] = value<br>        index += <span class="hljs-number">1</span><br><br>flag = <span class="hljs-literal">True</span><br><span class="hljs-keyword">for</span> x, y <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(logisim_mem, mips_mem):<br>    <span class="hljs-keyword">if</span> x != y:<br>        flag = <span class="hljs-literal">False</span><br><br><span class="hljs-built_in">print</span>(logisim_mem)<br><span class="hljs-built_in">print</span>(mips_mem)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Two documents is the same!!!&quot;</span> <span class="hljs-keyword">if</span> flag == <span class="hljs-literal">True</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&quot;Two documents is different!!!&quot;</span>)<br></code></pre></td></tr></table></figure><h2 id="æ€è€ƒé¢˜"><a href="#æ€è€ƒé¢˜" class="headerlink" title="æ€è€ƒé¢˜"></a>æ€è€ƒé¢˜</h2><ol><li><p>ä¸Šé¢æˆ‘ä»¬ä»‹ç»äº†é€šè¿‡ FSM ç†è§£å•å‘¨æœŸ CPU çš„åŸºæœ¬æ–¹æ³•ã€‚è¯·å¤§å®¶æŒ‡å‡ºå•å‘¨æœŸ CPU æ‰€ç”¨åˆ°çš„æ¨¡å—ä¸­ï¼Œå“ªäº›å‘æŒ¥çŠ¶æ€å­˜å‚¨åŠŸèƒ½ï¼Œå“ªäº›å‘æŒ¥çŠ¶æ€è½¬ç§»åŠŸèƒ½ã€‚</p><blockquote><p><code>IM,GRF,DM</code>å‘æŒ¥çŠ¶æ€å­˜å‚¨åŠŸèƒ½,<code>PC</code>å‘æŒ¥çŠ¶æ€,<code>EXT,NXTAD,ALU,CU</code>å‘æŒ¥çŠ¶æ€è½¬ç§»åŠŸèƒ½</p></blockquote></li><li><p>ç°åœ¨æˆ‘ä»¬çš„æ¨¡å—ä¸­ IM ä½¿ç”¨ ROMï¼Œ DM ä½¿ç”¨ RAMï¼Œ GRF ä½¿ç”¨ Registerï¼Œè¿™ç§åšæ³•åˆç†å—ï¼Ÿ è¯·ç»™å‡ºåˆ†æï¼Œè‹¥æœ‰æ”¹è¿›æ„è§ä¹Ÿè¯·ä¸€å¹¶ç»™å‡ºã€‚</p><blockquote><p>åˆç†,<code>IM</code>ä½œä¸ºæŒ‡ä»¤å­˜å‚¨å™¨,åªéœ€è¦åœ¨è¿è¡Œå‰å¯¼å…¥æŒ‡ä»¤é›†,åœ¨è¿è¡Œä¸­ä¸ä¼šä¿®æ”¹,åº”å½“ä½¿ç”¨ <code>ROM</code>;</p><p><code>DM</code>æ˜¯æ•°æ®å­˜å‚¨å™¨,åœ¨æ¶‰åŠ<code>lw,sw</code>çš„æŒ‡ä»¤ä¸­ä¼šå‘ç”Ÿè¯»å–å’Œå†™å…¥æ“ä½œ,åº”å½“ä½¿ç”¨ <code>RAM</code>;</p><p><code>GRF</code>ä½œä¸º<code>CPU</code>å†…éƒ¨å­˜å‚¨,æ¯æ¬¡åªä¼šå­˜å‚¨ä¸€ä¸ªæ•°,å¹¶ä¸”éœ€è¦å®ç°è¯»å–å’Œå†™å…¥,åº”å½“ç”¨<code>Register</code>.</p><p>æ”¹è¿›æ–¹å¼:<code>IM</code>,<code>DM</code>åŠ å…¥ç‰‡é€‰é€»è¾‘</p></blockquote></li><li><p>åœ¨ä¸Šè¿°æç¤ºçš„æ¨¡å—ä¹‹å¤–ï¼Œä½ æ˜¯å¦åœ¨å®é™…å®ç°æ—¶è®¾è®¡äº†å…¶ä»–çš„æ¨¡å—ï¼Ÿå¦‚æœæ˜¯çš„è¯ï¼Œè¯·ç»™å‡ºä»‹ç»å’Œè®¾è®¡çš„æ€è·¯ã€‚</p><blockquote><p><code>NXTAD</code>(Next Address Module),ç”¨äºè®¡ç®—ä¸‹ä¸€ä¸ªæŒ‡ä»¤çš„åœ°å€.</p><p><code>NXTAD</code>éœ€è¦å¤„ç†ä¸¤ç§æƒ…å†µ:ä¸€ç§æ˜¯æ­£å¸¸çš„é€šè¿‡åœ°å€+4è·å¾—æ–°åœ°å€;å¦ä¸€ç§æ˜¯åœ¨<code>beq</code>æŒ‡ä»¤ä¸­è·³è½¬åˆ°ç‰¹å®šåœ°å€.</p><p>æˆ‘ä»¬ä½¿ç”¨<code>Branch</code>,<code>Zero</code>ä½œä¸ºæ§åˆ¶ä¿¡å·:è¾“å…¥æŒ‡ä»¤ä¸º<code>beq</code>æ—¶,<code>Branch</code>ç½®1,è‹¥æŒ‡ä»¤ä¸­çš„ä¸¤ä¸ªå¯„å­˜å™¨å€¼ç›¸ç­‰,åˆ™<code>Zero</code>ç½®1.å½“<code>Branch</code>ä¸<code>Zero</code>å‡ä¸º1æ—¶,<code>NXTAD</code>æ¨¡å—å¤„ç†åä¸€ç§æƒ…å†µ,å¦åˆ™ä¸ºå‰ä¸€ç§.</p></blockquote></li><li><p>äº‹å®ä¸Šï¼Œå®ç° <code>nop</code> ç©ºæŒ‡ä»¤ï¼Œæˆ‘ä»¬å¹¶ä¸éœ€è¦å°†å®ƒåŠ å…¥æ§åˆ¶ä¿¡å·çœŸå€¼è¡¨ï¼Œä¸ºä»€ä¹ˆï¼Ÿ</p><blockquote><p><code>nop</code>ä¸æ”¹å˜ä»»ä½•å¯„å­˜å™¨æˆ–è€…<code>Data Memory</code>çš„å€¼,ä¸ä¼šäº§ç”Ÿä»»ä½•å½±å“,æˆ‘ä»¬æ— éœ€å†™å…¥æˆ–è¯»å–æ•°æ®</p></blockquote></li><li><p>é˜…è¯» Pre çš„ <a href="http://cscore.buaa.edu.cn/tutorial/mips/mips-6/mips6-1/">â€œMIPS æŒ‡ä»¤é›†åŠæ±‡ç¼–è¯­è¨€â€</a> ä¸€èŠ‚ä¸­ç»™å‡ºçš„æµ‹è¯•æ ·ä¾‹ï¼Œè¯„ä»·å…¶å¼ºåº¦ï¼ˆå¯ä»å„ä¸ªæŒ‡ä»¤çš„è¦†ç›–æƒ…å†µï¼Œå•ä¸€æŒ‡ä»¤å„ç§è¡Œä¸ºçš„è¦†ç›–æƒ…å†µç­‰æ–¹é¢åˆ†æï¼‰ï¼Œå¹¶æŒ‡å‡ºå…·ä½“çš„ä¸è¶³ä¹‹å¤„ã€‚</p><blockquote><p>å¯¹<code>ori,lui,add</code>æ¶‰åŠçš„æƒ…å†µè¾ƒä¸ºå……åˆ†,ä½†ç¼ºä¹å¯¹<code>sub</code>çš„æµ‹è¯•,<code>lw,sw</code>ç¼ºä¹ç«‹å³æ•°ä¸ºè´Ÿæ•°çš„æƒ…å†µ,æœªè€ƒè™‘ç”¨<code>beq</code>å®ç°å¾ªç¯çš„æƒ…å†µ</p></blockquote></li></ol>]]></content>
    
    
    
    <tags>
      
      <tag>CO</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>manimce</title>
    <link href="/2024/10/22/manimce/"/>
    <url>/2024/10/22/manimce/</url>
    
    <content type="html"><![CDATA[<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">conda activate manimce<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">manim basic.py <br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Video Action Recognition</title>
    <link href="/2024/10/21/video-Action-Recognition/"/>
    <url>/2024/10/21/video-Action-Recognition/</url>
    
    <content type="html"><![CDATA[<h1 id="Video-Action-Recognition"><a href="#Video-Action-Recognition" class="headerlink" title="Video Action Recognition"></a>Video Action Recognition</h1><ul><li><h2 id="LSTM"><a href="#LSTM" class="headerlink" title="LSTM"></a>LSTM</h2></li><li><h2 id="3D-ConvNets"><a href="#3D-ConvNets" class="headerlink" title="3D ConvNets"></a>3D ConvNets</h2></li></ul><p><img src="image-20241022001842588.png" alt="image-20241022001842588"></p><ul><li><p>large parameters</p></li><li><p>extract feature</p></li></ul><ul><li><h2 id="Two-Stream-Network"><a href="#Two-Stream-Network" class="headerlink" title="Two-Stream Network"></a>Two-Stream Network</h2></li><li><h2 id="3D-Fused-Two-Stream"><a href="#3D-Fused-Two-Stream" class="headerlink" title="3D-Fused Two-Stream"></a>3D-Fused Two-Stream</h2></li><li><h2 id="Inflated-3D-I3D"><a href="#Inflated-3D-I3D" class="headerlink" title="Inflated 3D(I3D)"></a>Inflated 3D(I3D)</h2><ul><li>infate to 3D from 2D</li><li>use parameters in 2D models</li><li>bootstrapping</li></ul></li><li><h2 id="Temporal-Segment-Networks"><a href="#Temporal-Segment-Networks" class="headerlink" title="Temporal Segment Networks"></a>Temporal Segment Networks</h2><ul><li>segmental consensus</li><li>late fusion</li></ul></li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>CV</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Two-Stream Inflated 3D ConvNets</title>
    <link href="/2024/10/20/Two-Stream-Inflated-3D-ConvNets/"/>
    <url>/2024/10/20/Two-Stream-Inflated-3D-ConvNets/</url>
    
    <content type="html"><![CDATA[<h1 id="Two-Stream-Inflated-3D-ConvNets"><a href="#Two-Stream-Inflated-3D-ConvNets" class="headerlink" title="Two-Stream Inflated 3D ConvNets"></a>Two-Stream Inflated 3D ConvNets</h1><blockquote><p>è§†é¢‘åˆ†ç±»æ–¹å‘</p><p>é‡‡ç”¨å…ˆè¿›çš„äºŒç»´å›¾åƒè¯†åˆ«æ¶æ„,æ‹“å±•è¿‡æ»¤å™¨å’Œæ± åŒ–å†…æ ¸åˆ°3ç»´</p><p>åŸºäºåŒæµç¥ç»ç½‘ç»œ:å±€éƒ¨è¿åŠ¨æ•ˆæœè¾ƒå¥½ </p><p>è®ºæ–‡å‘è¡¨æ—¶åŸºäºInception,åæ”¹ä¸ºåŸºäºResNet</p></blockquote><h2 id="Related-Work"><a href="#Related-Work" class="headerlink" title="Related Work"></a>Related Work</h2><blockquote><p>è§†é¢‘é¢†åŸŸå¯¹äºä½¿ç”¨2Dè¿˜æ˜¯3Dæš‚æ— å®šè®º,ä¸€ç§åŸºæœ¬æ–¹æ³•æ˜¯2Dç½‘ç»œé…ä¸ŠLSTM,LSTMä½œä¸ºæ—¶ç©ºå»ºæ¨¡;æˆ–è€…é…å¤‡å…‰æµ;æˆ–è€…ç›´æ¥å»ºç«‹3Dç½‘ç»œ</p></blockquote><h3 id="ConvNet-LSTM"><a href="#ConvNet-LSTM" class="headerlink" title="ConvNet+LSTM"></a>ConvNet+LSTM</h3><p><img src="image-20241021165310989.png" alt="image-20241021165310989"></p><ul><li>ä»æ¯ä¸€å¸§ä¸­ç‹¬ç«‹æå–ç‰¹å¾,åœ¨æ•´ä¸ªè§†é¢‘ä¸­æ•´åˆé¢„æµ‹</li><li>ConvNetå¿½ç•¥æ—¶é—´ç»“æ„,å› æ­¤åŠ å…¥LSTM</li></ul><h3 id="3D-ConvNets"><a href="#3D-ConvNets" class="headerlink" title="3D ConvNets"></a>3D ConvNets</h3><ul><li>ç›´æ¥åˆ›å»ºæ—¶ç©ºæ•°æ®çš„åˆ†å±‚å±•ç¤º</li><li>å› ä¸ºå¤šäº†ä¸€å±‚å†…æ ¸çš„ç»´åº¦,å…¶å‚æ•°æ¯”2Då·ç§¯ç½‘ç»œæ›´ä¸ºå¤æ‚,éš¾ä»¥è®­ç»ƒ</li></ul><h3 id="Two-Stream-Network-åŒæµç¥ç»ç½‘ç»œ"><a href="#Two-Stream-Network-åŒæµç¥ç»ç½‘ç»œ" class="headerlink" title="Two-Stream Network åŒæµç¥ç»ç½‘ç»œ"></a>Two-Stream Network åŒæµç¥ç»ç½‘ç»œ</h3><p><img src="image-20241021164927825.png" alt="two-stream"></p><blockquote><p>ç”±ä¸¤ä¸ª2Dç¥ç»ç½‘ç»œæ„æˆ:</p><p>ç©ºé—´æµ:å­¦ä¹ åœºæ™¯ä¿¡æ¯</p><p>æ—¶é—´æµ:åˆ†æå…‰æµå›¾åƒ,å­¦ä¹ æ—¶é—´ä¿¡æ¯</p><p>æœ€ååŠ æƒå¹³å‡</p></blockquote><h3 id="3D-Fused-Two-Stream"><a href="#3D-Fused-Two-Stream" class="headerlink" title="3D-Fused Two-Stream"></a>3D-Fused Two-Stream</h3><p><img src="image-20241021165442590.png" alt="image-20241021165442590"></p><blockquote><p>æå‰èåˆ(fuse),ç”¨ä¸€ä¸ª3Då·ç§¯ç¥ç»ç½‘ç»œè¾“å‡ºç»“æœ</p></blockquote><h2 id="Approach"><a href="#Approach" class="headerlink" title="Approach"></a>Approach</h2><h3 id="inflate"><a href="#inflate" class="headerlink" title="inflate"></a>inflate</h3><blockquote><p>å°†2Dçš„Kernel,pooling layerç›´æ¥è½¬æ¢ä¸º3D</p></blockquote><h3 id="bootstrapping"><a href="#bootstrapping" class="headerlink" title="bootstrapping"></a>bootstrapping</h3><blockquote><p>å°†å›¾åƒå¤åˆ¶Næ¬¡å½¢æˆä¸€ä¸ªæ— èŠè§†é¢‘,å°†3Dæ¨¡å‹åœ¨ImageNetä¸Šé¢„è®­ç»ƒ,ä»¥æ»¡è¶³æ— èŠè§†é¢‘çš„ä¸åŠ¨ç‚¹.</p><p>é€”å¾„:å°†å›¾ç‰‡çš„å‚æ•°å¤åˆ¶Næ¬¡(Næ˜¯æ—¶é—´ç»´åº¦),å†é™¤ä»¥Nå®ç°ç¼©æ”¾</p><p>ç¡®ä¿å·ç§¯filterå¯¹å›¾åƒå’Œè§†é¢‘è¾“å…¥çš„å¤„ç†ä¸€è‡´</p></blockquote>]]></content>
    
    
    
    <tags>
      
      <tag>CV</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LSSPT</title>
    <link href="/2024/10/20/LSSPT/"/>
    <url>/2024/10/20/LSSPT/</url>
    
    <content type="html"><![CDATA[<h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><h2 id="conventional-deep-learning-based-methods"><a href="#conventional-deep-learning-based-methods" class="headerlink" title="conventional deep learning-based methods"></a>conventional deep learning-based methods</h2><ul><li>LSTM, GCN</li><li>explore group activity representations under supervised or weakly supervised modes</li><li>require manually annotated personal action, labels(æ•°æ®æ ‡è®°?)</li></ul><h2 id="background"><a href="#background" class="headerlink" title="background"></a>background</h2><ul><li>NLP:unsupervised</li><li>SSL developes</li><li>SSRL, the temporal evolution (æ—¶é—´æ¼”å˜) not yet been explicitly exploited</li><li>predictive coding scheme (é¢„æµ‹ç¼–ç æ–¹æ¡ˆ)</li></ul><h2 id="group-activities"><a href="#group-activities" class="headerlink" title="group activities"></a>group activities</h2><ul><li>more complex state dynamics</li><li>lead to failure of SSRL using RNN(å¤æ‚åºåˆ—<strong>å…³ç³»</strong>å»ºæ¨¡å›°éš¾)</li><li>LSTMç›¸å…³æ¨¡å‹ç¼ºä¹æ³¨æ„åŠ›æœºåˆ¶(attention to the history sequence dependencies)</li><li>Transformer networks in NLP restricted to normal data</li><li>äººç±»åœ¨é•¿å‘¨æœŸgroup activityä¸­é‡å¤æŸç§è¿åŠ¨</li><li><strong>exploiting multiple ranges of historical information</strong></li></ul><h2 id="LSSPT"><a href="#LSSPT" class="headerlink" title="LSSPT"></a>LSSPT</h2><h3 id="encoder-decoder-framework"><a href="#encoder-decoder-framework" class="headerlink" title="encoder-decoder framework"></a>encoder-decoder framework</h3><ul><li>encoder: summarize group state</li><li>decoder: anticipate the state in the future</li><li>based on relation graph and casual Transformer</li></ul><h3 id="sparse-graph-Transformer"><a href="#sparse-graph-Transformer" class="headerlink" title="sparse graph Transformer"></a>sparse graph Transformer</h3><ul><li>spatial state context in short time</li></ul><h3 id="casual-temporal-Transformer-CTT"><a href="#casual-temporal-Transformer-CTT" class="headerlink" title="casual temporal Transformer(CTT)"></a>casual temporal Transformer(CTT)</h3><ul><li>long range temporal dynamics</li></ul><h1 id="Approach"><a href="#Approach" class="headerlink" title="Approach"></a>Approach</h1><h2 id="predictive-coding"><a href="#predictive-coding" class="headerlink" title="predictive coding"></a>predictive coding</h2><ul><li>æ—¶ç©ºç¼–ç å‡½æ•°</li><li>é¢„æµ‹å‡½æ•°</li><li>ä¼˜åŒ–å‡½æ•°</li></ul><h2 id="Architecture"><a href="#Architecture" class="headerlink" title="Architecture"></a>Architecture</h2><ul><li>ç‰¹å¾æå–<ul><li>I3Dé¢„è®­ç»ƒæ¨¡å‹æå–äººç‰©ç‰¹å¾</li></ul></li><li>é•¿çŸ­çŠ¶æ€ç¼–ç </li><li>é•¿çŸ­çŠ¶æ€è§£ç </li><li>æ¨ç†è®­ç»ƒ<ul><li>é‡æ„æŸå¤±reconstructed loss</li><li>å¯¹æ¯”æŸå¤±contrasitive loss </li><li>å¯¹æŠ—æŸå¤±adversarial loss</li></ul></li></ul><h2 id="Long-Short-State-Encoder"><a href="#Long-Short-State-Encoder" class="headerlink" title="Long-Short State Encoder"></a>Long-Short State Encoder</h2><h3 id="sparse-graph-transformer"><a href="#sparse-graph-transformer" class="headerlink" title="sparse graph transformer"></a>sparse graph transformer</h3><h4 id="building"><a href="#building" class="headerlink" title="building"></a>building</h4><p>$\{p{}^t_i\}{}^N_{i=1}$,$p_i\in \mathit R^d$è¡¨ç¤ºç¬¬iä¸ªäººçš„ç‰¹å¾</p><p>$ç¨€ç–çŸ©é˜µG^t=\{V^t,E^t\}$,$V_t=\{p{}^t_i\}{}^N_{i=1}$è¡¨ç¤ºèŠ‚ç‚¹,$E_t=\{(i,j)|p_i,p_j åœ¨næ—¶åˆ»è¿ç»“\}$</p><p>$èŠ‚ç‚¹çš„é‚»å±…Nei(i,t)=\{p^t_j\}{}^M_{i=1},å…¶ä¸­p^t_jæ»¡è¶³(i,j)\in E^t$</p><h4 id="update"><a href="#update" class="headerlink" title="update"></a>update</h4><p>é€šè¿‡é‚»å±…èŠ‚ç‚¹ä¼ é€’çš„key,è‡ªèº«èŠ‚ç‚¹çš„equryæ›´æ–°èŠ‚ç‚¹ä¿¡æ¯,ç”±åŸå…ˆçš„$h_i$å˜ä¸º$\hat{h_i}$</p><p>$<br>\hat{h_i}=softmax(\frac{[q_i^Tk_j]_ {j=1:N} }{ \sqrt{d_k} })[v_i]^N_{i=1}\\<br>q_iè¡¨ç¤ºquery\\<br>k_jè¡¨ç¤ºkey\\<br>v_iè¡¨ç¤ºvalue\\<br>$</p><h4 id="group-state-modeling"><a href="#group-state-modeling" class="headerlink" title="group state modeling"></a>group state modeling</h4><p>$<br>å°ç»„çŠ¶æ€g_t=P_{max}(Norm(f_o(\hat{p_i}),â€¦,f_o(\hat{p_N}))) \\<br>P_{max}æ± åŒ–å±‚ \\<br>Normå±‚æ ‡å‡†åŒ– \\<br>f_oå…¨è¿æ¥å±‚ \\<br>$</p><h4 id="casual-temporal-transformer"><a href="#casual-temporal-transformer" class="headerlink" title="casual temporal transformer"></a>casual temporal transformer</h4><ul><li>masked Transformer<ul><li>ä¸ºç»å¯¹å¸§æ·»åŠ æ—¶é—´ä½ç½®ç¼–ç </li><li>å¤šå±‚CTTå±‚ä¼ é€’,masked multihead attention, LayerNorm(å±‚å½’ä¸€åŒ–),MLP(what???)</li><li>maskä¿è¯æ¨¡å‹åªæ³¨æ„éƒ¨åˆ†ç‰¹å®šè¾“å…¥(ç±»ä¼¼äºLLMä¸­åæ–‡ä¸ä¼šå½±å“å‰æ–‡è¯­ç´ çš„æ³¨æ„åŠ›åˆ†é…æœºåˆ¶)</li></ul></li></ul><h2 id="Long-Short-State-Decoder"><a href="#Long-Short-State-Decoder" class="headerlink" title="Long-Short State Decoder"></a>Long-Short State Decoder</h2><ul><li>state attention modules: å»ºç«‹é•¿çŸ­æœŸä¹‹é—´çš„ä¾èµ–</li><li>state update modules: è¾“å‡ºé•¿çŸ­æœŸä¿¡æ¯</li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>CV</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Java HashMap</title>
    <link href="/2024/10/12/Java-HashMap/"/>
    <url>/2024/10/12/Java-HashMap/</url>
    
    <content type="html"><![CDATA[<h1 id="HashMap"><a href="#HashMap" class="headerlink" title="HashMap"></a>HashMap</h1><h2 id="ä½œç”¨"><a href="#ä½œç”¨" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h2><blockquote><p>å­—å…¸</p></blockquote><h2 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h2><h3 id="åˆ›å»º"><a href="#åˆ›å»º" class="headerlink" title="åˆ›å»º"></a>åˆ›å»º</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Java">HashMap&lt;Integer, Integer&gt; hm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br></code></pre></td></tr></table></figure><h3 id="æ·»åŠ é”®å€¼å¯¹"><a href="#æ·»åŠ é”®å€¼å¯¹" class="headerlink" title="æ·»åŠ é”®å€¼å¯¹"></a>æ·»åŠ é”®å€¼å¯¹</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java">hm.put(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>);<br>hm.putIfAbsent(<span class="hljs-number">2</span>,<span class="hljs-number">3</span>); <span class="hljs-comment">//ä»…åœ¨hmåŸæœ¬ä¸åŒ…å«2å¯¹åº”çš„é”®å€¼å¯¹æ—¶æ‰§è¡Œæ·»åŠ 2-3é”®å€¼å¯¹çš„æ“ä½œ</span><br><br><span class="hljs-comment">// æ·»åŠ æ‰€æœ‰é”®å€¼å¯¹</span><br>HashMap&lt;Integer, Integer&gt; hm2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br>hm2.putAll(hm);<br></code></pre></td></tr></table></figure><h3 id="åˆ é™¤é”®å€¼å¯¹"><a href="#åˆ é™¤é”®å€¼å¯¹" class="headerlink" title="åˆ é™¤é”®å€¼å¯¹"></a>åˆ é™¤é”®å€¼å¯¹</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">hm.remove(<span class="hljs-number">1</span>);<br></code></pre></td></tr></table></figure><h3 id="è®¿é—®é”®å€¼å¯¹"><a href="#è®¿é—®é”®å€¼å¯¹" class="headerlink" title="è®¿é—®é”®å€¼å¯¹"></a>è®¿é—®é”®å€¼å¯¹</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">System.out.println(hm.get(<span class="hljs-number">2</span>)); <span class="hljs-comment">// æ‰“å°2å¯¹åº”çš„å…ƒç´ </span><br></code></pre></td></tr></table></figure><h3 id="è¿­ä»£"><a href="#è¿­ä»£" class="headerlink" title="è¿­ä»£"></a>è¿­ä»£</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// å¯¹é”®é›†åˆéå†forå¾ªç¯</span><br><span class="hljs-keyword">for</span> (Integer i : hm.keySet()) &#123;<br>    System.out.println(<span class="hljs-string">&quot;key: &quot;</span> + i + <span class="hljs-string">&quot; values: &quot;</span> + Sites.get(i));<br>&#125;<br><br><span class="hljs-comment">// iterator</span><br>Iterator&lt;Integer&gt; it = hm.keySet().iterator();<br><span class="hljs-keyword">while</span> (it.hasNext()) &#123;<br>    <span class="hljs-type">int</span> <span class="hljs-variable">key</span> <span class="hljs-operator">=</span> it.next;<br>    System.out.println(<span class="hljs-string">&quot;key: &quot;</span> + key + <span class="hljs-string">&quot; values: &quot;</span> + Sites.get(key));<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="merge"><a href="#merge" class="headerlink" title="merge"></a>merge</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">hashmap.merge(key, value, remappingFunction)<br></code></pre></td></tr></table></figure><blockquote><p>å¦‚æœ key å¯¹åº”çš„ value ä¸å­˜åœ¨ï¼Œåˆ™è¿”å›è¯¥ value å€¼ï¼Œå¦‚æœå­˜åœ¨ï¼Œåˆ™è¿”å›é€šè¿‡ remappingFunction é‡æ–°è®¡ç®—åçš„å€¼ã€‚</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">hm2.merge(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,(k,v)-&gt;v+<span class="hljs-number">1</span>); <span class="hljs-comment">// è‹¥keySetä¸­ä¸åŒ…å«1,åˆ™æ’å…¥1-1é”®å€¼å¯¹,è‹¥æœ‰åˆ™å¯¹våŠ ä¸€</span><br></code></pre></td></tr></table></figure><h3 id="compute"><a href="#compute" class="headerlink" title="compute"></a>compute</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">hashmap.compute(K key, BiFunction remappingFunction);<br></code></pre></td></tr></table></figure><blockquote><p>å¯¹<code>hashMap</code>ä¸­çš„æŒ‡å®š<code>key</code>çš„å€¼è¿›è¡Œé‡æ–°è®¡ç®—</p><p>è‹¥<code>key</code>å¯¹åº”çš„<code>value</code>ä¸å­˜åœ¨,åˆ™è¿”å›<code>null</code>,è‹¥å­˜åœ¨åˆ™è¿”å›é€šè¿‡<code>remappingFunction</code>é‡æ–°è®¡ç®—åçš„å€¼</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span> <span class="hljs-variable">newPrice</span> <span class="hljs-operator">=</span> prices.compute(<span class="hljs-string">&quot;Shoes&quot;</span>, (key, value) -&gt; value - value * <span class="hljs-number">10</span>/<span class="hljs-number">100</span>);<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Java-PriorityQueue</title>
    <link href="/2024/10/12/PriorityQueue/"/>
    <url>/2024/10/12/PriorityQueue/</url>
    
    <content type="html"><![CDATA[<h1 id="PriorityQueue"><a href="#PriorityQueue" class="headerlink" title="PriorityQueue"></a>PriorityQueue</h1><h2 id="ç”¨é€”"><a href="#ç”¨é€”" class="headerlink" title="ç”¨é€”"></a>ç”¨é€”</h2><blockquote><p>å¤§é¡¶å †ã€å°é¡¶å †</p></blockquote><h2 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h2><h3 id="åˆ›å»º"><a href="#åˆ›å»º" class="headerlink" title="åˆ›å»º"></a>åˆ›å»º</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java">PriorityQueue&lt;Integer&gt; numbers0 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PriorityQueue</span>&lt;&gt;(); <span class="hljs-comment">// å°æ ¹å †(é¡¶ç«¯å…ƒç´ ä¸ºæœ€å°)</span><br><br>PriorityQueue&lt;Integer&gt; numbers1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PriorityQueue</span>&lt;&gt;((a,b)-&gt;b-a); <span class="hljs-comment">// å¤§æ ¹å †(é¡¶ç«¯å…ƒç´ ä¸ºæœ€å¤§)</span><br><br><span class="hljs-comment">// æŒ‡å®šæ•°é‡</span><br>PriorityQueue&lt;Integer&gt; numbers2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PriorityQueue</span>&lt;&gt;(<span class="hljs-number">10</span>); <span class="hljs-comment">// æŒ‡å®šå®¹é‡å¯ä»¥é¿å…æ‰§è¡Œæ‰©å®¹æ“ä½œ,åŠ å¿«é€Ÿåº¦</span><br><br><span class="hljs-comment">// ä½¿ç”¨Comparator</span><br>PriorityQueue&lt;Integer&gt; numbers3 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PriorityQueue</span>&lt;Integer&gt;(<span class="hljs-number">10</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Comparator</span>&lt;Integer&gt;()&#123;<br>            <span class="hljs-meta">@Override</span><br>            <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">compare</span><span class="hljs-params">(Integer o1, Integer o2)</span> &#123;<br>                <span class="hljs-keyword">return</span> o2-o1; <span class="hljs-comment">// &gt;=0å³è¡¨ç¤ºä¸ç”¨äº¤æ¢</span><br>            &#125;<br>        &#125;); <span class="hljs-comment">// å¤§æ ¹å †(é¡¶ç«¯å…ƒç´ ä¸ºæœ€å¤§)</span><br><br><span class="hljs-comment">// é€šè¿‡Collectionä½œä¸ºå‚æ•°åˆ›å»º</span><br>ArrayList&lt;Integer&gt; arr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;(Arrays.asList(<span class="hljs-number">2</span>,<span class="hljs-number">5</span>,<span class="hljs-number">3</span>));<br>PriorityQueue&lt;Integer&gt; numbers4 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PriorityQueue</span>&lt;Integer&gt;(arr);<br></code></pre></td></tr></table></figure><h3 id="å…¥é˜Ÿ"><a href="#å…¥é˜Ÿ" class="headerlink" title="å…¥é˜Ÿ"></a>å…¥é˜Ÿ</h3><blockquote><p><code>add()</code>,<code>offer()</code>ä¸¤è€…å‡ä¸ºå…¥é˜Ÿæ–¹æ³•ï¼Œä»…åœ¨å¤„ç†é˜Ÿåˆ—å·²æ»¡çš„æƒ…å†µæ—¶æœ‰æ‰€ä¸åŒ</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java">PriorityQueue&lt;Integer&gt; numbers = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PriorityQueue</span>&lt;&gt;();<br><br>numbers.add(<span class="hljs-number">4</span>); <span class="hljs-comment">// é˜Ÿåˆ—å·²æ»¡æ—¶å¼•å‘å¼‚å¸¸</span><br>numbers.add(<span class="hljs-number">3</span>);<br>System.out.println(<span class="hljs-string">&quot;PriorityQueue: &quot;</span> + numbers);<br><span class="hljs-comment">// [3, 4]</span><br><br>numbers.offer(<span class="hljs-number">1</span>); <span class="hljs-comment">// é˜Ÿåˆ—å·²æ»¡æ—¶è¿”å›false</span><br>System.out.println(<span class="hljs-string">&quot;PriorityQueue: &quot;</span> + numbers);<br><span class="hljs-comment">// [1, 4, 3]</span><br></code></pre></td></tr></table></figure><h3 id="å‡ºé˜Ÿ"><a href="#å‡ºé˜Ÿ" class="headerlink" title="å‡ºé˜Ÿ"></a>å‡ºé˜Ÿ</h3><blockquote><p><code>remove()</code>,<code>poll()</code>åœ¨å¤„ç†é˜Ÿåˆ—ä¸ºç©ºæ—¶ä¸ä¸€æ ·ï¼š<code>remove()</code>æŠ›å‡ºå¼‚å¸¸ï¼Œ<code>poll()</code>è¿”å›<code>null</code></p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">numbers.remove();<br><br>numbers.poll(); <span class="hljs-comment">// æ¨èè¿™ç§æ–¹æ³•</span><br></code></pre></td></tr></table></figure><h3 id="è®¿é—®"><a href="#è®¿é—®" class="headerlink" title="è®¿é—®"></a>è®¿é—®</h3><blockquote><p><code>peek()</code>:é˜Ÿåˆ—ä¸ºç©ºæ—¶è¿”å›<code>null</code></p><p><code>element()</code>:é˜Ÿåˆ—ä¸ºç©ºæ—¶æŠ›å‡ºå¼‚å¸¸</p></blockquote><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs abnf">numbers.peek()<span class="hljs-comment">;</span><br><br>numbers.element()<span class="hljs-comment">;</span><br></code></pre></td></tr></table></figure><h3 id="æ¸…ç©º"><a href="#æ¸…ç©º" class="headerlink" title="æ¸…ç©º"></a>æ¸…ç©º</h3><p><code>clear()</code></p><h3 id="åˆ¤ç©º"><a href="#åˆ¤ç©º" class="headerlink" title="åˆ¤ç©º"></a>åˆ¤ç©º</h3><p><code>isEmpty()</code></p><p>è®¿é—®å…ƒç´ ä¸ªæ•°</p><p><code>size()</code></p><h2 id="è‡ªåŠ¨æ‰©å®¹æœºåˆ¶"><a href="#è‡ªåŠ¨æ‰©å®¹æœºåˆ¶" class="headerlink" title="è‡ªåŠ¨æ‰©å®¹æœºåˆ¶"></a>è‡ªåŠ¨æ‰©å®¹æœºåˆ¶</h2><blockquote><p>æºç å¦‚ä¸‹:</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Increases the capacity of the array.</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> minCapacity the desired minimum capacity</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">grow</span><span class="hljs-params">(<span class="hljs-type">int</span> minCapacity)</span> &#123;<br>    <span class="hljs-type">int</span> <span class="hljs-variable">oldCapacity</span> <span class="hljs-operator">=</span> queue.length;<br>    <span class="hljs-comment">// Double size if small; else grow by 50%</span><br>    <span class="hljs-type">int</span> <span class="hljs-variable">newCapacity</span> <span class="hljs-operator">=</span> ArraysSupport.newLength(oldCapacity,<br>            minCapacity - oldCapacity, <span class="hljs-comment">/* minimum growth */</span><br>            oldCapacity &lt; <span class="hljs-number">64</span> ? oldCapacity + <span class="hljs-number">2</span> : oldCapacity &gt;&gt; <span class="hljs-number">1</span><br>                                       <span class="hljs-comment">/* preferred growth */</span>);<br>    queue = Arrays.copyOf(queue, newCapacity);<br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p>æ—§å®¹é‡åœ¨64ä»¥ä¸‹å¢åŠ 2,å¦åˆ™ä¹˜ä»¥2</p></blockquote>]]></content>
    
    
    
    <tags>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è®¡ç»„P1æ€»ç»“</title>
    <link href="/2024/10/09/%E8%AE%A1%E7%BB%84P1%E6%80%BB%E7%BB%93/"/>
    <url>/2024/10/09/%E8%AE%A1%E7%BB%84P1%E6%80%BB%E7%BB%93/</url>
    
    <content type="html"><![CDATA[<h1 id="å¾€å¹´é¡Œ"><a href="#å¾€å¹´é¡Œ" class="headerlink" title="å¾€å¹´é¡Œ"></a>å¾€å¹´é¡Œ</h1><h2 id="å…è®¸æ‹¬å·çš„è¡¨è¾¾å¼çŠ¶æ€æœº"><a href="#å…è®¸æ‹¬å·çš„è¡¨è¾¾å¼çŠ¶æ€æœº" class="headerlink" title="å…è®¸æ‹¬å·çš„è¡¨è¾¾å¼çŠ¶æ€æœº"></a>å…è®¸æ‹¬å·çš„è¡¨è¾¾å¼çŠ¶æ€æœº</h2><p><a href="http://cscore.buaa.edu.cn/#/problem?ProblemId=145&amp;PieId=1202">P1_L7_å…è®¸æ‹¬å·çš„è¡¨è¾¾å¼çŠ¶æ€æœº - ç³»ç»Ÿèƒ½åŠ›è¯¾ç¨‹å®éªŒå¹³å° (buaa.edu.cn)</a></p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> string2(<br>    <span class="hljs-keyword">input</span> clk,<br>    <span class="hljs-keyword">input</span> clr,<br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">7</span>:<span class="hljs-number">0</span>] in,<br>    <span class="hljs-keyword">output</span> out<br>    );<br>    <span class="hljs-keyword">parameter</span> START = <span class="hljs-number">3&#x27;B000</span>,<br>              DIGIT = <span class="hljs-number">3&#x27;B001</span>,<br>              CAL = <span class="hljs-number">3&#x27;B010</span>,<br>              LEFT_BRACKET = <span class="hljs-number">3&#x27;B011</span>,<br>              LEFT_DIGIT = <span class="hljs-number">3&#x27;B100</span>,<br>              LEFT_CAL = <span class="hljs-number">3&#x27;B101</span>,<br>              ILLEGAL = <span class="hljs-number">3&#x27;B110</span>;<br>    <span class="hljs-keyword">parameter</span> zero = <span class="hljs-number">48</span>,<br>              nine = <span class="hljs-number">57</span>,<br>              left = <span class="hljs-number">40</span>,<br>              right = <span class="hljs-number">41</span>,<br>              mult_ = <span class="hljs-number">42</span>,<br>              plus_ = <span class="hljs-number">43</span>;<br>    <span class="hljs-keyword">reg</span> [<span class="hljs-number">2</span>:<span class="hljs-number">0</span>] state;<br>    <span class="hljs-keyword">reg</span> num;<br>    <span class="hljs-keyword">reg</span> mark;<br>    <span class="hljs-keyword">reg</span> left_bracket;<br>    <span class="hljs-keyword">reg</span> right_bracket;<br>    <span class="hljs-keyword">initial</span> <span class="hljs-keyword">begin</span><br>        state = START;<br>        num = <span class="hljs-number">1&#x27;b0</span>;<br>        mark = <span class="hljs-number">1&#x27;b0</span>;<br>        left_bracket = <span class="hljs-number">1&#x27;b0</span>;<br>        right_bracket = <span class="hljs-number">1&#x27;b0</span>;<br>    <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">always</span> @(<span class="hljs-keyword">posedge</span> clk <span class="hljs-keyword">or</span> <span class="hljs-keyword">posedge</span> clr) <span class="hljs-keyword">begin</span><br>      <span class="hljs-keyword">if</span> (clr)<span class="hljs-keyword">begin</span><br>        state = START;<br>        num = <span class="hljs-number">1&#x27;b0</span>;<br>        mark = <span class="hljs-number">1&#x27;b0</span>;<br>        left_bracket = <span class="hljs-number">1&#x27;b0</span>;<br>        right_bracket = <span class="hljs-number">1&#x27;b0</span>;<br>      <span class="hljs-keyword">end</span><br>      <span class="hljs-keyword">else</span> <span class="hljs-keyword">begin</span><br>        num = (in &gt;= zero &amp;&amp; in &lt;= nine) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>;<br>        mark = (in == mult_ || in == plus_) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>;<br>        left_bracket = (in == left) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>;<br>        right_bracket = (in == right) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>;<br><br>        <span class="hljs-keyword">case</span> (state)<br>            START:<span class="hljs-keyword">begin</span><br>              state = num ? DIGIT:<br>                      left_bracket ? LEFT_BRACKET:<br>                      ILLEGAL;<br>            <span class="hljs-keyword">end</span> <br>            DIGIT:<span class="hljs-keyword">begin</span><br>              state = mark ? CAL: ILLEGAL;<br>            <span class="hljs-keyword">end</span><br>            CAL:<span class="hljs-keyword">begin</span><br>              state = left_bracket ? LEFT_BRACKET : <br>                      num ? DIGIT:<br>                      ILLEGAL;<br>            <span class="hljs-keyword">end</span> <br>            LEFT_BRACKET:<span class="hljs-keyword">begin</span><br>              state = num ? LEFT_DIGIT: ILLEGAL;<br>            <span class="hljs-keyword">end</span><br>            LEFT_DIGIT:<span class="hljs-keyword">begin</span><br>              state = mark ? LEFT_CAL :<br>                      right_bracket ? DIGIT:<br>                      ILLEGAL;<br>            <span class="hljs-keyword">end</span><br>            LEFT_CAL:<span class="hljs-keyword">begin</span><br>              state = num ? LEFT_DIGIT : ILLEGAL;<br>            <span class="hljs-keyword">end</span><br>            ILLEGAL:<span class="hljs-keyword">begin</span><br>              state = ILLEGAL;<br>            <span class="hljs-keyword">end</span><br>        <span class="hljs-keyword">endcase</span><br>      <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">end</span><br><br>    <span class="hljs-keyword">assign</span> out = (state == DIGIT) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>;<br><br><span class="hljs-keyword">endmodule</span><br><br></code></pre></td></tr></table></figure><h2 id="æŠ•ç¥¨è¡¨æ±ºå™¨"><a href="#æŠ•ç¥¨è¡¨æ±ºå™¨" class="headerlink" title="æŠ•ç¥¨è¡¨æ±ºå™¨"></a>æŠ•ç¥¨è¡¨æ±ºå™¨</h2><p><a href="http://cscore.buaa.edu.cn/#/problem?ProblemId=424&amp;PieId=1202">P1_L1_vote_plus - ç³»ç»Ÿèƒ½åŠ›è¯¾ç¨‹å®éªŒå¹³å° (buaa.edu.cn)</a></p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> VoterPlus(<br>    <span class="hljs-keyword">input</span> clk,<br>    <span class="hljs-keyword">input</span> reset,<br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] np,<br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">7</span>:<span class="hljs-number">0</span>] vip,<br>    <span class="hljs-keyword">input</span> vvip,<br>    <span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span>[<span class="hljs-number">7</span>:<span class="hljs-number">0</span>] result<br>    );<br><br>    <span class="hljs-keyword">reg</span>[<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] last_np;<br>    <span class="hljs-keyword">reg</span>[<span class="hljs-number">7</span>:<span class="hljs-number">0</span>] last_vip;<br>    <span class="hljs-keyword">reg</span> last_vvip;<br>    <span class="hljs-keyword">integer</span> temp;<br>    <span class="hljs-keyword">integer</span> i;<br>    <span class="hljs-keyword">always</span> @(<span class="hljs-keyword">posedge</span> clk <span class="hljs-keyword">or</span> <span class="hljs-keyword">posedge</span> reset) <span class="hljs-keyword">begin</span><br>      <span class="hljs-keyword">if</span> (reset)<span class="hljs-keyword">begin</span><br>        last_np = <span class="hljs-number">32&#x27;b0</span>;<br>        last_vip = <span class="hljs-number">8&#x27;b0</span>;<br>        last_vvip = <span class="hljs-number">1&#x27;b0</span>;<br>        result = <span class="hljs-number">8&#x27;b0</span>;<br>      <span class="hljs-keyword">end</span><br>      <span class="hljs-keyword">else</span> <span class="hljs-keyword">begin</span><br>        temp = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">32</span>; i=i+<span class="hljs-number">1</span>)<span class="hljs-keyword">begin</span>:c<br>          temp = temp + ((last_np[i] ^ np[i]) &amp; np[i]);<br>        <span class="hljs-keyword">end</span><br>        result = result + temp;<br><br>        temp = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">8</span>; i=i+<span class="hljs-number">1</span>) <span class="hljs-keyword">begin</span>:cycle<br>          temp = temp + ((last_vip[i] ^ vip[i]) &amp; vip[i]);<br>        <span class="hljs-keyword">end</span><br>        result = result + <span class="hljs-number">4</span> * temp;<br><br>        result = result + <span class="hljs-number">16</span> * ((last_vvip ^ vvip) &amp; vvip);<br>        last_np = last_np | np;<br>        last_vip = last_vip | vip;<br>        last_vvip = last_vvip | vvip;<br>      <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">end</span><br>    <br><span class="hljs-keyword">endmodule</span><br><br></code></pre></td></tr></table></figure><h1 id="ä¸Šæœº"><a href="#ä¸Šæœº" class="headerlink" title="ä¸Šæœº"></a>ä¸Šæœº</h1><h2 id="é¢˜ç›®å¤§æ„"><a href="#é¢˜ç›®å¤§æ„" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h2><blockquote><p>ä¸‰é“é¢˜,å‰ä¸€é“æ˜¯è€ƒå¯Ÿforå¾ªç¯çš„åŸºæœ¬è¯­æ³•,åä¸¤é“è€ƒå¯ŸçŠ¶æ€æœº</p></blockquote><ul><li>é¢˜ç›®1:è¾“å…¥ä¸¤ä¸ª32ä½æ•°,å°†å…¶ä¸­ä¸€ä¸ªæ•°çš„äºŒè¿›åˆ¶ä½é€†åºæ’åˆ—,æ¯”è¾ƒä¸¤ä¸ªæ•°åŒä¸€äºŒè¿›åˆ¶ä½ä¸Šå‡ºç°ä¸åŒä½çš„æ¬¡æ•°</li><li>é¢˜ç›®2:åˆ¤æ–­ä¸€ä¸²ç”±0,1ç»„æˆçš„å­—ç¬¦ä¸²æ˜¯å¦ç¬¦åˆå¦‚ä¸‹è¦æ±‚:<ul><li>å°†ç›¸é‚»çš„ç›¸åŒæ•°å­—åˆæˆä¸€ç»„,ç›¸é‚»ç»„çš„é•¿åº¦å¥‡å¶æ€§ä¸€å®šä¸åŒ</li></ul></li><li>é¢˜ç›®3:è¾“å…¥æ ¼å¼ä¸º<code>&#123;xxxx:xxxx,xxxx:xxxx,&#125;</code>çš„å­—ç¬¦ä¸²,è®°å½•å½“å‰çš„é”®å€¼å¯¹æ•°ç›®å’Œè‡ªä¸Šæ¬¡å¤ä½ä»¥æ¥çš„å•ä¸ªé›†åˆä¸­æœ€å¤§é”®å€¼å¯¹æ•°ç›®</li></ul><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><h3 id="1"><a href="#1" class="headerlink" title="1"></a>1</h3><blockquote><p>ä½¿ç”¨ç»„åˆé€»è¾‘,åœ¨always @(*)å—ä¸­å†™ä¸€ä¸ªforå¾ªç¯</p></blockquote><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">always</span> @(*)<span class="hljs-keyword">begin</span><br>    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">32</span>; i = i + <span class="hljs-number">1</span>) <span class="hljs-keyword">begin</span><br>        cnt = (a[i] ^ b[i] == <span class="hljs-number">1</span>) ? cnt + <span class="hljs-number">1</span> : cnt;<br>    <span class="hljs-keyword">end</span><br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure><h3 id="2"><a href="#2" class="headerlink" title="2"></a>2</h3><blockquote><p>è®¾ç½®çŠ¶æ€:</p><p>xx_xxä¸­,ä¸‹åˆ’ç¬¦å‰çš„è¡¨ç¤ºä¸Šä¸€ä¸ªé›†åˆçš„å¥‡å¶æ€§(æˆ–è€…NULLè¡¨ç¤ºæš‚æ— ä¸Šä¸€ä¸ªé›†åˆ,ä¸‹åˆ’ç¬¦åçš„è¡¨ç¤ºå½“å‰é›†åˆçš„é›†åˆçš„å¥‡å¶æ€§</p><p>çŠ¶æ€è½¬æ¢å›¾å¦‚ä¸‹:</p></blockquote><p><img src="935df7948fedda6ff43aeb9df3a7759.jpg" alt="çŠ¶æ€è½¬æ¢å›¾" style="zoom: 25%;"></p><h3 id="3"><a href="#3" class="headerlink" title="3"></a>3</h3><blockquote><p>è€ƒåœºæ²¡æœ‰å†™å‡ºæ¥,é”™åœ¨äº†å¯¹äºå¼‚å¸¸è¾“å…¥çš„å¤„ç†åŠæ³•.è¯¥é¢˜å·²ç»æŒ‡æ˜äº†<code>&#123;xxxx:xxx,xxxx:xxxx&#125;</code>çš„ç»“æ„æ˜¯å›ºå®šçš„,æµ‹è¯•æ•°æ®ä¸ä¼šå‡ºç°<code>&#123;</code>,<code>&#125;</code>,<code>:</code>,<code>,</code>è¿™å››ä¸ªå­—ç¬¦çš„ä¸¢å¤±,æ‰€ä»¥å½“å­˜åœ¨é”®å€¼å¯¹ä¸æ»¡è¶³æ¡ä»¶å,åº”å½“ç­‰å¾…ä¸‹ä¸€ä¸ª<code>,</code>çš„è¾“å…¥</p><p>ä¾‹å¦‚åœ¨<code>&#123;a:,b:12,&#125;</code>ä¸­,<code>a:</code>æ˜æ˜¾ä¸æ˜¯ä¸€ä¸ªç¬¦åˆè¦æ±‚çš„é”®å€¼å¯¹(ç¼ºä¹<code>value</code>),ä½†è¿™æ—¶æˆ‘ä»¬å¿…é¡»ä¿è¯åé¢çš„é”®å€¼å¯¹èƒ½è®¡å…¥,éœ€è¦ç­‰å¾…<code>,</code>è¾“å…¥åè¿›å…¥æ–°ä¸€è½®è¾“å…¥é”®å€¼å¯¹ä¸­.</p></blockquote>]]></content>
    
    
    
    <tags>
      
      <tag>CO</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è®¡ç»„P2æ€»ç»“</title>
    <link href="/2024/10/07/%E8%AE%A1%E7%BB%84P2%E6%80%BB%E7%BB%93/"/>
    <url>/2024/10/07/%E8%AE%A1%E7%BB%84P2%E6%80%BB%E7%BB%93/</url>
    
    <content type="html"><![CDATA[<blockquote><p>MIPSçš„è€ƒå¯Ÿæ–¹å¼ä¸ºå°†Cè¯­è¨€ä»£ç ç¿»è¯‘æˆMIPSæ±‡ç¼–è¯­è¨€,å…¶ä¸­å¯¹forå¾ªç¯çš„ç¿»è¯‘ã€é€’å½’å‡½æ•°çš„è½¬æ¢æœ€ä¸ºé‡è¦</p></blockquote><h1 id="å¾€å¹´é¢˜"><a href="#å¾€å¹´é¢˜" class="headerlink" title="å¾€å¹´é¢˜"></a>å¾€å¹´é¢˜</h1><h2 id="åˆ æ•°é—®é¢˜"><a href="#åˆ æ•°é—®é¢˜" class="headerlink" title="åˆ æ•°é—®é¢˜"></a>åˆ æ•°é—®é¢˜</h2><blockquote><p>é”®ç›˜è¾“å…¥ä¸€ä¸ªé«˜ç²¾åº¦çš„æ­£æ•´æ•° <code>n</code>ï¼ˆä¸è¶…è¿‡ 250 ä½ï¼‰ï¼Œå»æ‰å…¶ä¸­ä»»æ„ <code>k</code>ä¸ªæ•°å­—åå‰©ä¸‹çš„æ•°å­—æŒ‰åŸå·¦å³æ¬¡åºå°†ç»„æˆä¸€ä¸ªæ–°çš„éè´Ÿæ•´æ•°ã€‚ç¼–ç¨‹å¯¹ç»™å®šçš„ <code>n</code> å’Œ <code>k</code>ï¼Œå¯»æ‰¾ä¸€ç§æ–¹æ¡ˆä½¿å¾—å‰©ä¸‹çš„æ•°å­—ç»„æˆçš„æ–°æ•°æœ€å°ã€‚</p></blockquote><h3 id="é¢˜ç›®æ¥æº"><a href="#é¢˜ç›®æ¥æº" class="headerlink" title="é¢˜ç›®æ¥æº"></a>é¢˜ç›®æ¥æº</h3><p><a href="https://www.luogu.com.cn/problem/P1106">P1106 åˆ æ•°é—®é¢˜ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)</a></p><h3 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><blockquote><p>å·²çŸ¥æˆ‘ä»¬è¦åˆ æ‰mä¸ªæ•°,æˆ‘ä»¬è¦ä½¿å¾—æ–°æ•°å­—æœ€å°,ä¸€å®šä¼šé€‰æ‹©å‰m+1ä½æ•°ä¸­æœ€å°çš„é‚£ä½ä½œä¸ºæœ€é«˜ä½,è®¾è¯¥ä½ä¸ºk,åˆ™kä¹‹å‰çš„ä½å‡å¯ä»¥åˆ å»,ä¿ç•™ç¬¬iä½,å¯¹äºç¬¬i+1ä½åˆ°æœ«å°¾çš„æ•°æ®,æˆ‘ä»¬å°†mä¿®æ”¹ä¸ºm-(i-1)(å› ä¸ºæ­¤æ—¶æ•°å­—å·²ç»åˆ å»i-1ä½),é‡‡å–åŒæ ·çš„ä¸Šè¿°æ“ä½œ,ç›´åˆ°m=0.</p></blockquote><h3 id="C-ä»£ç "><a href="#C-ä»£ç " class="headerlink" title="C++ä»£ç "></a>C++ä»£ç </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;string&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">int</span> n,k,a[<span class="hljs-number">257</span>],rest,t=<span class="hljs-number">1</span>,minp,cnt=<span class="hljs-number">0</span>;<br><span class="hljs-type">bool</span> flag=<span class="hljs-number">0</span>;<br>string num;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    cin&gt;&gt;num&gt;&gt;k;<br>    n=num.<span class="hljs-built_in">length</span>();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;++i)a[i]=num[i<span class="hljs-number">-1</span>]-<span class="hljs-string">&#x27;0&#x27;</span>;<br>    rest=n-k;<br>    <span class="hljs-keyword">while</span>(cnt&lt;rest)&#123;<br>        minp=t;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=t;i&lt;=k+t;++i)<span class="hljs-keyword">if</span>(a[minp]&gt;a[i])minp=i;<br>        <span class="hljs-keyword">if</span>(a[minp])flag=<span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">if</span>(flag)cout&lt;&lt;a[minp];<br>        k-=minp-t;<br>        t=minp<span class="hljs-number">+1</span>;<br>        cnt++;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(!flag)cout&lt;&lt;<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="Javaä»£ç "><a href="#Javaä»£ç " class="headerlink" title="Javaä»£ç "></a>Javaä»£ç </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">import</span> java.util.Scanner;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution1106</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">Scanner</span> <span class="hljs-variable">sc</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scanner</span>(System.in);<br>        <span class="hljs-type">String</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> sc.next();<br>        <span class="hljs-type">int</span> <span class="hljs-variable">k</span> <span class="hljs-operator">=</span> sc.nextInt();<br>        <span class="hljs-type">int</span> <span class="hljs-variable">len</span> <span class="hljs-operator">=</span> n.length();<br>        <span class="hljs-type">int</span>[] a = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[len];<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; len; i++) &#123;<br>            a[i] = n.charAt(i) - <span class="hljs-string">&#x27;0&#x27;</span>;<br>        &#125;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">rest</span> <span class="hljs-operator">=</span> len - k;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">cnt</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>        <span class="hljs-type">int</span> minp;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">t</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>        <span class="hljs-type">boolean</span> <span class="hljs-variable">flag</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">while</span> (cnt &lt; rest) &#123;<br>            minp = t;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> t; i &lt;= k + t; i++) &#123;<br>                minp = a[minp] &gt; a[i] ? i : minp;<br>            &#125;<br>            <span class="hljs-keyword">if</span> (a[minp] &gt; <span class="hljs-number">0</span>) flag = <span class="hljs-literal">true</span>;<br>            <span class="hljs-keyword">if</span> (flag) &#123;<br>                System.out.print(a[minp]);<br>            &#125;<br>            k -= minp - t;<br>            t = minp + <span class="hljs-number">1</span>;<br>            cnt++;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (!flag)&#123;<br>            System.out.print(<span class="hljs-number">0</span>);<br>        &#125;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h3 id="MIPSç­”æ¡ˆ"><a href="#MIPSç­”æ¡ˆ" class="headerlink" title="MIPSç­”æ¡ˆ"></a>MIPSç­”æ¡ˆ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br></pre></td><td class="code"><pre><code class="hljs assembly">.data<br>a: .space 600<br><br>.macro push(%i)<br>subi $sp, $sp, 4<br>sw %i, 0($sp)<br>.end_macro<br><br>.macro pop(%i)<br>lw %i, 0($sp)<br>addi $sp, $sp, 4<br>.end_macro<br><br>.macro inputInt(%i)<br>li $v0, 5<br>syscall<br>move %i, $v0<br>.end_macro<br><br>.macro printInt(%i)<br>li $v0, 1<br>move $a0, %i<br>syscall<br>.end_macro<br><br>.macro printChar(%c)<br>li $v0, 11<br>move $a0, %c<br>syscall<br>.end_macro<br><br>.macro inputStr(%str)<br>li $v0, 12<br>la $a0, %str<br>li $a1, 150<br>syscall<br>.end_macro<br><br># ä½¿ç”¨$t7($t7=i) for (int i = t; i &lt;= k + t; i++)<br>.macro for_begin(%startLabel, %endLabel, %low, %high)<br>move $t7, %low<br>%startLabel:<br>bgt $t7, %high, %endLabel<br>.end_macro<br><br>.macro for_end(%startLabel, %endLabel)<br>addi $t7, $t7, 1<br>j %startLabel<br>%endLabel:<br>.end_macro<br><br>#ä½¿ç”¨$t7(è®°å½•å­—ç¬¦ä¸²ä¸ªæ•°),$t6(è®°å½•å­—ç¬¦å½“å‰å¯¹åº”ä½ç½®)<br>.macro input_char_begin(%startLabel, %endLabel)<br>li $t7, -1<br>li $t6, -4<br>%startLabel:<br>beq $v0, 10, %endLabel<br>.end_macro<br><br>.macro input_char_end(%startLabel, %endLabel, %str, %len)<br>addi $t7, $t7, 1<br>addi $t6, $t6, 4<br>sw $v0, %str($t6)<br>j %startLabel<br>%endLabel:<br>move %len, $t7<br>.end_macro<br><br>.macro while_begin(%startLabel, %endLabel, %cnt, %rest)<br>%startLabel:<br>bge %cnt, %rest, %endLabel<br>.end_macro<br><br>.macro while_end(%startLabel, %endLabel)<br>j %startLabel<br>%endLabel:<br>.end_macro<br><br>.macro load_data(%arr, %i, %data)<br>push($t4)<br>li $t5, 4<br>mult $t5, %i<br>mflo $t5<br>lw %data, %arr($t5)<br>pop($t4)<br>.end_macro<br><br>.text<br># è¯»å…¥å­—ç¬¦ä¸²a<br>input_char_begin(start1,end1)<br>li $v0, 12 # è¯»å…¥ä¸€ä¸ªå­—ç¬¦åˆ°$v0<br>syscall<br>input_char_end(start1,end1,a,$s0)<br>#aè®°å½•å­—ç¬¦ä¸²ä½ç½®,$s0è®°å½•å­—ç¬¦ä¸²é•¿åº¦(len)<br><br># è¯»å…¥k<br>inputInt($t0) #$t0=k,è¦åˆ å»çš„å­—ç¬¦ä¸ªæ•°<br>#48-57<br>#rest = $s1<br>sub $s1, $s0, $t0 # rest = len - k<br>#cnt = $t1 = 0<br>li $t1, 0<br># minp = $t2 = 0<br>li $t2, 0<br># t = $t3 = 0<br>li $t3, 0<br>#flag = $t4 = 0 (false)<br>li $t4, 0<br><br>while_begin(start2,end2,$t1,$s1)<br>move $t2, $t3 # minp = t<br>for_begin(start3, end3,$t3,$t0)<br># minp = a[minp] &gt; a[i] ? i : minp;<br>push($s4)<br>push($s5)<br>load_data(a,$t2,$s4) # $s4 = a[minp]<br>load_data(a,$t7,$s5) # $s5 = a[i], <br>bgt $s4, $s5, update<br>j skip<br>update:<br>move $t2, $t7 # minp = i<br>skip:<br>pop($s5)<br>pop($s4)<br>for_end(start3,end3)<br><br>#printInt($t2)<br>load_data(a, $t2, $t5) # $t5 = a[minp]<br>#printInt($t5)<br>bgt $t5, $0, flag_true<br>j skip2<br>flag_true:<br>li $t4, 1 # flag = true;<br>skip2:<br><br>beq $t4, $0, skip3  # if (flag) print(a[minp])<br>load_data(a, $t2, $t5)# $t5 = a[minp]<br>printChar($t5)<br>skip3:<br><br>sub $t0, $t0, $t2 # k = k - minp<br>add $t0, $t0, $t3 # k = k + t<br>addi $t3, $t2, 1 # t = minp + 1<br>addi $t1, $t1, 1 # cnt++<br>while_end(start2,end2)<br><br>beq $t4, 1, skip4<br>li $s2, 0<br>printInt($s2)<br>skip4:<br><br><br></code></pre></td></tr></table></figure><h2 id="åŠ æ³•æ‹†åˆ†"><a href="#åŠ æ³•æ‹†åˆ†" class="headerlink" title="åŠ æ³•æ‹†åˆ†"></a>åŠ æ³•æ‹†åˆ†</h2><blockquote><p>ç»™ä¸€ä¸ªæ•°n,<strong>æŒ‰ç…§å­—å…¸åº</strong>è¾“å‡ºå®ƒå¯èƒ½çš„åŠ æ³•æ‹†åˆ†</p></blockquote><h3 id="æ€è·¯-1"><a href="#æ€è·¯-1" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><blockquote><p>é‡‡ç”¨dfs</p></blockquote><h3 id="Cä»£ç "><a href="#Cä»£ç " class="headerlink" title="Cä»£ç "></a>Cä»£ç </h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs C"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> arr[<span class="hljs-number">5000</span>];<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">printArr</span><span class="hljs-params">(<span class="hljs-type">int</span> *arr, <span class="hljs-type">int</span> cnt)</span><br>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; cnt - <span class="hljs-number">1</span>; i++)<br>    &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, arr[i]);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;+&quot;</span>);<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, arr[cnt - <span class="hljs-number">1</span>]);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">dfs</span><span class="hljs-params">(<span class="hljs-type">int</span> *arr, <span class="hljs-type">int</span> cnt, <span class="hljs-type">int</span> left, <span class="hljs-type">int</span> last)</span><br>&#123;<br>    <span class="hljs-keyword">if</span> (left == <span class="hljs-number">0</span>)<br>    &#123;<br>        printArr(arr, cnt);<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> k = last; k &lt;= left; k++)<br>    &#123;<br>        arr[cnt] = k;<br>        dfs(arr, cnt + <span class="hljs-number">1</span>, left - k, k);<br>    &#125;<br>&#125;<br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> n;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br>    dfs(arr, <span class="hljs-number">0</span>, n, <span class="hljs-number">1</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="MIPSç­”æ¡ˆ-1"><a href="#MIPSç­”æ¡ˆ-1" class="headerlink" title="MIPSç­”æ¡ˆ"></a>MIPSç­”æ¡ˆ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br></pre></td><td class="code"><pre><code class="hljs assembly">.data<br>arr: .space 200 # ç”¨äºå­˜æ”¾å¾…æ‰“å°æ•°å­—çš„æ•°ç»„<br>enter: .word &#x27;\n&#x27;<br>plus: .word  &#x27;+&#x27;<br>test: .word &#x27;t&#x27;<br><br>#æ”¾å…¥å †æ ˆ<br>.macro push(%i)<br>addi $sp, $sp, -4<br>sw %i, 0($sp)<br>.end_macro<br><br>#ä»å †æ ˆä¸­å–å‡º<br>.macro pop(%i)<br>lw %i, 0($sp)<br>addi $sp, $sp, 4<br>.end_macro<br><br>#è¯»å…¥æ•´æ•°<br>.macro inputInt(%int)<br>li $v0, 5<br>syscall<br>move %int, $v0<br>.end_macro<br><br>#æ‰“å°æ•´æ•°<br>.macro printInt(%int)<br>li $v0, 1<br>move $a0, %int<br>syscall<br>.end_macro<br><br># æ‰“å°å­—ç¬¦<br>.macro printChar(%c)<br>li $v0, 4<br>la $a0, %c<br>syscall<br>.end_macro<br><br>#ç»“æŸç¨‹åº<br>.macro done<br>li $v0, 10<br>syscall<br>.end_macro<br><br>#forå¾ªç¯<br>.macro for_begin(%startLabel, %endLabel, %start, %end)<br>move $t7, %start<br>%startLabel:<br>bgt $t7, %end, %endLabel<br>.end_macro<br><br>.macro for_end(%startLabel, %endLabel)<br>addi $t7, $t7, 1<br>j %startLabel<br>%endLabel:<br>.end_macro<br><br># å°†æ•°æ®å­˜åœ¨arrçš„æŒ‡å®šä½ç½®<br>.macro store_data(%arr, %data, %index)<br>push($t5)<br>li $t5, 4<br>mult $t5, %index<br>mflo $t5<br>sw %data, %arr($t5)<br>pop($t5)<br>.end_macro<br><br># arrçš„æŒ‡å®šä½ç½®è¯»å–æ•°æ®<br>.macro load_data(%arr, %data, %index)<br>push($t5)<br>li $t5, 4<br>mult $t5, %index<br>mflo $t5<br>lw %data, %arr($t5)<br>pop($t5)<br>.end_macro<br><br>#æ‰“å°æŒ‡å®šé•¿åº¦çš„æ•°ç»„<br>.macro printArr(%arr, %cnt)<br>li $t4, 0<br>print_loop:<br>bge $t4, %cnt, print_end<br><br>load_data(%arr, $t6, $t4)<br>printInt($t6)<br>addi $t4, $t4, 1<br>bge $t4, %cnt, print_end<br>printChar(plus)<br>print_skip:<br>j print_loop<br>print_end:<br>printChar(enter)<br>.end_macro<br><br># æ•°æ®æŒ‡ä»£<br>.eqv n $s0<br>.eqv cnt $a1<br>.eqv left $a2<br>.eqv last $a3<br><br>.text<br>inputInt(n)<br>li cnt, 0<br>move left, n<br>li last, 1<br>jal dfs<br>done<br><br>dfs:<br>push($ra)<br>beq left, $0, dfs_return<br>for_begin(dfs_start,dfs_end,last,left)<br># $t7 = k<br>store_data(arr, $t7, cnt)<br>push(cnt)<br>push(left)<br>push(last)<br>push($t7)<br>addi cnt, cnt, 1<br>sub left, left, $t7<br>move last, $t7<br>jal dfs<br>pop($t7)<br>pop(last)<br>pop(left)<br>pop(cnt)<br>for_end(dfs_start, dfs_end)<br>j dfs_done<br><br>dfs_return:<br>printArr(arr, cnt)<br><br>dfs_done:<br>pop($ra)<br>jr $ra<br><br><br></code></pre></td></tr></table></figure><h3 id="æ˜“é”™ç‚¹"><a href="#æ˜“é”™ç‚¹" class="headerlink" title="æ˜“é”™ç‚¹"></a>æ˜“é”™ç‚¹</h3><ul><li><code>$a0</code>ä½œä¸º<code>Syscall</code>æ‰“å°æ—¶éœ€è¦çš„å‚æ•°,è¦é¿å…ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°ä¸­çš„å‚æ•°å«æœ‰<code>$a0</code>,äº§ç”Ÿä¸å¿…è¦çš„å†²çª.æˆ–è€…ä¿®æ”¹<code>print</code>å‡½æ•°,é‡‡ç”¨å…¥æ ˆ+é€€æ ˆçš„æ–¹å¼(è¯¥æ–¹æ³•æ›´å®‰å…¨):</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs assembly">.macro printInt(%int)<br>push($a0)<br>li $v0, 1<br>move $a0, %int<br>syscall<br>pop($a0)<br>.end_macro<br></code></pre></td></tr></table></figure><ul><li>å­—ç¬¦åº”å½“è¢«æŒ‡å®šä¸º<code>word</code>åœ¨<code>MIP32</code>ä¸­å <code>4</code>å­—èŠ‚,å³<code>32</code>ä½,æ‰“å°å­—ç¬¦æ–¹å¼ä¸º:</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs assembly">.data <br>plus: .word &#x27;+&#x27;<br>.text<br>li $v0, 4<br>la $a0, plus<br>syscall<br></code></pre></td></tr></table></figure><h2 id="åŒå…³é”®è¯æ’åº"><a href="#åŒå…³é”®è¯æ’åº" class="headerlink" title="åŒå…³é”®è¯æ’åº"></a>åŒå…³é”®è¯æ’åº</h2><h3 id="å†’æ³¡æ’åºåŸºç¡€"><a href="#å†’æ³¡æ’åºåŸºç¡€" class="headerlink" title="å†’æ³¡æ’åºåŸºç¡€"></a>å†’æ³¡æ’åºåŸºç¡€</h3><blockquote><p>ä¸ºäº†é™ä½ç¿»è¯‘éš¾åº¦,æˆ‘åœ¨è¿™é‡Œåˆ å»äº†ç”¨æ¥å†³å®šæå‰æ¨å‡ºæ’åºçš„æ ‡è®°<code>flag</code>,åŒæ—¶ä¸€å®šç¨‹åº¦ä¸Šå¢åŠ äº†ç®—æ³•çš„æ—¶é—´</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs C"><span class="hljs-type">void</span> <span class="hljs-title function_">BubbleSort</span><span class="hljs-params">(<span class="hljs-type">int</span> A[], <span class="hljs-type">int</span> n)</span><br>&#123;<br>    <span class="hljs-type">int</span> i, k, temp;<br>    <span class="hljs-keyword">for</span> (i = n - <span class="hljs-number">1</span>; i &gt; <span class="hljs-number">0</span>; i--)<br>    &#123;<br>        <span class="hljs-keyword">for</span> (k = <span class="hljs-number">0</span>; k &lt; i; k++)<br>        &#123;<br>            <span class="hljs-keyword">if</span> (A[k] &gt; A[k + <span class="hljs-number">1</span>])<br>            &#123;<br>                temp = A[k];<br>                A[k] = A[k + <span class="hljs-number">1</span>];<br>                A[k + <span class="hljs-number">1</span>] = temp;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç¿»è¯‘æˆMIPS:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br></pre></td><td class="code"><pre><code class="hljs assembly">.data <br>arr: .space 400<br>space: .word &#x27; &#x27;<br><br>.macro push(%x)<br>subi $sp, $sp, 4<br>sw %x, 0($sp)<br>.end_macro<br><br>.macro pop(%x)<br>lw %x, 0($sp)<br>addi $sp, $sp, 4<br>.end_macro<br><br>.macro inputInt(%int)<br>li $v0, 5<br>syscall<br>move %int, $v0<br>.end_macro<br><br>.macro for_begin_decrease(%startLabel, %endLabel, %i, %start, %end)<br>subi %start, %start, 1<br>move %i, %start<br>addi %start, %start, 1<br>%startLabel:<br>beq %i, %end, %endLabel<br>.end_macro<br><br>.macro for_end_decrease(%startLabel, %endLabel, %i)<br>subi %i, %i, 1<br>j %startLabel<br>%endLabel:<br>.end_macro<br><br>.macro for_begin(%startLabel, %endLabel, %i, %start, %end)<br>move %i, %start<br>%startLabel:<br>beq %i, %end, %endLabel<br>.end_macro<br><br>.macro for_end(%startLabel, %endLabel, %i)<br>addi %i, %i, 1<br>j %startLabel<br>%endLabel:<br>.end_macro<br><br>#è·å¾—æ•°ç»„æŒ‡å®šä½ç½®çš„å€¼<br>.macro load_data(%arr, %index, %value)<br>push($t9)<br>li $t9, 4<br>mult $t9, %index<br>mflo $t9<br>lw %value, %arr($t9)<br>pop($t9)<br>.end_macro<br><br>#å°†æ•°æ®å­˜å‚¨åˆ°æ•°ç»„ä¸­çš„æŒ‡å®šä½ç½®<br>.macro store_data(%arr, %index, %value)<br>push($t9)<br>li $t9, 4<br>mult $t9, %index<br>mflo $t9<br>sw %value, %arr($t9)<br>pop($t9)<br>.end_macro<br><br>#äº¤æ¢æ•°ç»„ä¸­ç¬¬iä½å’Œç¬¬kä½,ä½¿ç”¨$t8,$t9ä½œä¸ºtemp<br>.macro swap(%arr, %i, %k)<br>push($t7)<br>push($t8)<br>load_data(%arr, %i, $t7)<br>load_data(%arr, %k, $t8)<br>store_data(%arr, %k, $t7)<br>store_data(%arr, %i, $t8)<br>pop($t8)<br>pop($t7)<br>.end_macro<br><br>#è¾“å…¥æ•°ç»„å…ƒç´ <br>.macro input_arr_element(%arr, %index)<br>li $v0, 5<br>syscall<br>store_data(%arr, %index, $v0)<br>.end_macro<br><br>#è¾“å‡ºæ•°ç»„å…ƒç´ <br>.macro print_arr_element(%arr, %index)<br>li $v0, 1<br>load_data(%arr, %index, $a0)<br>syscall<br>.end_macro<br><br>.macro printChar(%c)<br>li $v0, 4<br>la $a0, %c<br>syscall<br>.end_macro<br><br>.eqv n, $s0<br>.eqv i, $t0<br>.eqv k, $t1<br>.eqv k_1 $t2#k+1<br>.eqv A_k $t3 #arr[k]<br>.eqv A_k_1 $t4 #arr[k+1]<br>.text<br>#è¾“å…¥æ•°ç»„<br>inputInt(n)<br>for_begin(start0, end0, i, $0,n)<br>input_arr_element(arr, i)<br>for_end(start0, end0, i)<br><br>#bubble sort<br>for_begin_decrease(start1,end1,i,n,$0)<br>for_begin(start2,end2,k,$0,i)<br>load_data(arr, k, A_k)<br>addi k_1, k, 1<br>load_data(arr, k_1, A_k_1)<br>bgt A_k, A_k_1, swp<br>j skip<br>swp:<br>swap(arr,k,k_1)<br>skip:<br>for_end(start2,end2,k)<br>for_end_decrease(start1,end1,i)<br><br>#æ‰“å°æ•°ç»„<br>for_begin(start3, end3, i, $0, n)<br>print_arr_element(arr, i)<br>printChar(space)<br>for_end(start3, end3, i)<br></code></pre></td></tr></table></figure><h3 id="ç¨ä½œä¿®æ”¹çš„ç­”æ¡ˆ"><a href="#ç¨ä½œä¿®æ”¹çš„ç­”æ¡ˆ" class="headerlink" title="ç¨ä½œä¿®æ”¹çš„ç­”æ¡ˆ"></a>ç¨ä½œä¿®æ”¹çš„ç­”æ¡ˆ</h3><blockquote><p>æœ¬é¢˜ä½¿ç”¨å…·æœ‰ç¨³å®šæ€§çš„å†’æ³¡æ’åº,å…ˆå¯¹<code>B</code>æ•°ç»„ä»å°åˆ°å¤§è¿›è¡Œæ’åº,å†å¯¹<code>A</code>æ•°ç»„è¿›è¡Œç›¸åŒæ“ä½œ,ä½†åœ¨äº¤æ¢æ•°ç»„å…ƒç´ æ—¶å¯¹å¦ä¸€ä¸ªæ•°ç»„ä¹Ÿè¦è¿›è¡Œç›¸åŒä½ç½®çš„äº¤æ¢æ“ä½œ.</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs C"><span class="hljs-comment">/* åŒå…³é”®å­—æ’åº*/</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> a[<span class="hljs-number">100</span>];<br><span class="hljs-type">int</span> b[<span class="hljs-number">100</span>];<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">swap</span><span class="hljs-params">(<span class="hljs-type">int</span> *p, <span class="hljs-type">int</span> *q)</span><br>&#123;<br>    <span class="hljs-type">int</span> temp = *p;<br>    *p = *q;<br>    *q = temp;<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> n;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>    &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;a[i], &amp;b[i]);<br>    &#125;<br><br>    <span class="hljs-type">int</span> i, k;<br>    <span class="hljs-keyword">for</span> (i = n - <span class="hljs-number">1</span>; i &gt; <span class="hljs-number">0</span>; i--)<br>    &#123;<br>        <span class="hljs-keyword">for</span> (k = <span class="hljs-number">0</span>; k &lt; i; k++)<br>        &#123;<br>            <span class="hljs-keyword">if</span> (b[k] &gt; b[k + <span class="hljs-number">1</span>])<br>            &#123;<br>                swap(&amp;a[k], &amp;a[k + <span class="hljs-number">1</span>]);<br>                swap(&amp;b[k], &amp;b[k + <span class="hljs-number">1</span>]);<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">for</span> (i = n - <span class="hljs-number">1</span>; i &gt; <span class="hljs-number">0</span>; i--)<br>    &#123;<br>        <span class="hljs-keyword">for</span> (k = <span class="hljs-number">0</span>; k &lt; i; k++)<br>        &#123;<br>            <span class="hljs-keyword">if</span> (a[k] &gt; a[k + <span class="hljs-number">1</span>])<br>            &#123;<br>                swap(&amp;a[k], &amp;a[k + <span class="hljs-number">1</span>]);<br>                swap(&amp;b[k], &amp;b[k + <span class="hljs-number">1</span>]);<br>            &#125;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>    &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d %d\n&quot;</span>, a[i], b[i]);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p>ç¿»è¯‘æˆMIPSæ±‡ç¼–è¯­è¨€,å…³é”®åœ¨<code>swap</code>å’ŒåŒå±‚<code>for</code>å¾ªç¯ä¸Š</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br></pre></td><td class="code"><pre><code class="hljs assembly">.data <br>A: .space 400<br>B: .space 400<br>space: .word &#x27; &#x27;<br>enter: .word &#x27;\n&#x27;<br>.macro push(%x)<br>subi $sp, $sp, 4<br>sw %x, 0($sp)<br>.end_macro<br><br>.macro pop(%x)<br>lw %x, 0($sp)<br>addi $sp, $sp, 4<br>.end_macro<br><br>.macro inputInt(%int)<br>li $v0, 5<br>syscall<br>move %int, $v0<br>.end_macro<br><br>.macro for_begin_decrease(%startLabel, %endLabel, %i, %start, %end)<br>subi %start, %start, 1<br>move %i, %start<br>addi %start, %start, 1<br>%startLabel:<br>beq %i, %end, %endLabel<br>.end_macro<br><br>.macro for_end_decrease(%startLabel, %endLabel, %i)<br>subi %i, %i, 1<br>j %startLabel<br>%endLabel:<br>.end_macro<br><br>.macro for_begin(%startLabel, %endLabel, %i, %start, %end)<br>move %i, %start<br>%startLabel:<br>beq %i, %end, %endLabel<br>.end_macro<br><br>.macro for_end(%startLabel, %endLabel, %i)<br>addi %i, %i, 1<br>j %startLabel<br>%endLabel:<br>.end_macro<br><br>#è·å¾—æ•°ç»„æŒ‡å®šä½ç½®çš„å€¼<br>.macro load_data(%arr, %index, %value)<br>push($t9)<br>li $t9, 4<br>mult $t9, %index<br>mflo $t9<br>lw %value, %arr($t9)<br>pop($t9)<br>.end_macro<br><br>#å°†æ•°æ®å­˜å‚¨åˆ°æ•°ç»„ä¸­çš„æŒ‡å®šä½ç½®<br>.macro store_data(%arr, %index, %value)<br>push($t9)<br>li $t9, 4<br>mult $t9, %index<br>mflo $t9<br>sw %value, %arr($t9)<br>pop($t9)<br>.end_macro<br><br>#äº¤æ¢æ•°ç»„ä¸­ç¬¬iä½å’Œç¬¬kä½,ä½¿ç”¨$t8,$t9ä½œä¸ºtemp<br>.macro swap(%arr, %i, %k)<br>push($t7)<br>push($t8)<br>load_data(%arr, %i, $t7)<br>load_data(%arr, %k, $t8)<br>store_data(%arr, %k, $t7)<br>store_data(%arr, %i, $t8)<br>pop($t8)<br>pop($t7)<br>.end_macro<br><br>#è¾“å…¥æ•°ç»„å…ƒç´ <br>.macro input_arr_element(%arr, %index)<br>li $v0, 5<br>syscall<br>store_data(%arr, %index, $v0)<br>.end_macro<br><br>#è¾“å‡ºæ•°ç»„å…ƒç´ <br>.macro print_arr_element(%arr, %index)<br>li $v0, 1<br>load_data(%arr, %index, $a0)<br>syscall<br>.end_macro<br><br>.macro printChar(%c)<br>li $v0, 4<br>la $a0, %c<br>syscall<br>.end_macro<br><br>.eqv n, $s0<br>.eqv i, $t0<br>.eqv k, $t1<br>.eqv k_1 $t2#k+1<br>.eqv A_k $t3 #arr[k]<br>.eqv A_k_1 $t4 #arr[k+1]<br>.text<br>#è¾“å…¥A,Bæ•°ç»„<br>inputInt(n)<br>for_begin(start0, end0, i, $0,n)<br>input_arr_element(A, i)<br>input_arr_element(B, i)<br>for_end(start0, end0, i)<br><br>#å…ˆå¯¹Bæ•°ç»„è¿›è¡Œå†’æ³¡æ’åº(ä»å°åˆ°å¤§)<br>for_begin_decrease(start1,end1,i,n,$0)<br>for_begin(start2,end2,k,$0,i)<br>load_data(B, k, A_k)<br>addi k_1, k, 1<br>load_data(B, k_1, A_k_1)<br>bgt A_k, A_k_1, swp1<br>j skip1<br>swp1:<br>swap(A,k,k_1)<br>swap(B,k,k_1)<br>skip1:<br>for_end(start2,end2,k)<br>for_end_decrease(start1,end1,i)<br><br>#å†å¯¹Aæ•°ç»„è¿›è¡Œå†’æ³¡æ’åº(ä»å°åˆ°å¤§)<br>for_begin_decrease(start3,end3,i,n,$0)<br>for_begin(start4,end4,k,$0,i)<br>load_data(A, k, A_k)<br>addi k_1, k, 1<br>load_data(A, k_1, A_k_1)<br>bgt A_k, A_k_1, swp2<br>j skip2<br>swp2:<br>swap(A,k,k_1)<br>swap(B,k,k_1)<br>skip2:<br>for_end(start4,end4,k)<br>for_end_decrease(start3,end3,i)<br><br>#æ‰“å°æ•°ç»„<br>for_begin(start5, end5, i, $0, n)<br>print_arr_element(A, i)<br>printChar(space)<br>print_arr_element(B,i)<br>printChar(enter)<br>for_end(start5, end5, i)<br></code></pre></td></tr></table></figure><blockquote><p>å¯ä»¥çœ‹åˆ°,å®å¯ä»¥å¤§å¹…é™ä½æ‹“å±•ä»£ç çš„éš¾åº¦</p></blockquote><h2 id="å­—ç¬¦ç»Ÿè®¡"><a href="#å­—ç¬¦ç»Ÿè®¡" class="headerlink" title="å­—ç¬¦ç»Ÿè®¡"></a>å­—ç¬¦ç»Ÿè®¡</h2><p><a href="http://cscore.buaa.edu.cn/#/problem?ProblemId=35&amp;PieId=1202">P2_L1_calculate - ç³»ç»Ÿèƒ½åŠ›è¯¾ç¨‹å®éªŒå¹³å° (buaa.edu.cn)</a></p><blockquote><p>ä½¿ç”¨MIPSæ±‡ç¼–è¯­è¨€å†™ä¸€ä¸ªå…·æœ‰å­—ç¬¦ç»Ÿè®¡åŠŸèƒ½çš„æ±‡ç¼–ç¨‹åº(ä¸è€ƒè™‘å»¶è¿Ÿæ§½)</p></blockquote><h3 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><blockquote><p>æœ¬é¢˜è¦å®ç°ä¸€ä¸ªè®¡æ•°å™¨,è¿™åœ¨Cè¯­è¨€ä¸­é€šå¸¸ä½¿ç”¨å­—å…¸å®ç°,è€Œè¦åœ¨MIPSæ±‡ç¼–è¯­è¨€ç›´æ¥æ„å»ºè¿™æ ·ä¸€ä¸ªéƒ¨ä»¶éš¾åº¦è¾ƒå¤§,æˆ‘ä»¬å¯ä»¥å¼€ä¸¤ä¸ªæ•°ç»„<code>arr</code>ä¸<code>order</code>,<code>arr</code>è®°å½•å­—ç¬¦å¯¹åº”çš„å‡ºç°æ¬¡æ•°,<code>order</code>è®°å½•å„ä¸ªå­—ç¬¦çš„ä¾æ¬¡å‡ºç°é¡ºåº</p></blockquote><h3 id="MIPSç­”æ¡ˆ-2"><a href="#MIPSç­”æ¡ˆ-2" class="headerlink" title="MIPSç­”æ¡ˆ"></a>MIPSç­”æ¡ˆ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><code class="hljs assembly">.data<br>arr: .space 200 # 26 * 4<br>order: .space 200<br>space: .word &#x27; &#x27;<br>enter: .word &#x27;\n&#x27;<br><br># åˆ«å<br>.eqv n, $s0 # è¾“å…¥å­—ç¬¦æ€»æ•°<br>.eqv ct $s1 # ç”¨äºè®°å½•è¾“å…¥çš„å­—ç¬¦ç§ç±»<br>.eqv i, $t0 # ç”¨äºforå¾ªç¯<br>.eqv k, $t1 # ç”¨äºforå¾ªç¯<br>.eqv t, $t3 # ç”¨äºforå¾ªç¯<br>.eqv flag, $s2 # æ ‡å¿—<br><br>.macro for_begin(%startLabel, %endLabel, %i,%start,%end)<br>move %i, %start<br>%startLabel:<br>beq %i, %end, %endLabel<br>.end_macro<br><br>.macro for_end(%startLabel, %endLabel, %i)<br>addi %i, %i, 1<br>j %startLabel<br>%endLabel:<br>.end_macro<br><br>.macro inputChar(%c)<br>li $v0, 12<br>syscall<br>move %c, $v0<br>.end_macro<br><br>.macro inputInt(%int)<br>li $v0, 5<br>syscall<br>move %int, $v0<br>.end_macro<br><br>.macro printInt(%int)<br>li $v0, 1<br>move $a0, %int<br>syscall<br>.end_macro<br><br>.macro printChar(%c)<br>li $v0, 4<br>la $a0, %c<br>syscall<br>.end_macro<br><br>#å°†æ•°å­—è½¬åŒ–ä¸ºå¯¹åº”å­—ç¬¦(0-&#x27;a&#x27;)<br>.macro printCharFromInt(%int)<br>addi $a0, %int, 97<br>li $v0, 11<br>syscall<br>.end_macro<br><br>.macro store_data(%arr,%index,%value)<br>li $t9, 4<br>mult $t9, %index<br>mflo $t9<br>sw %value, %arr($t9)<br>.end_macro<br><br>.macro load_data(%arr, %index, %value)<br>sll $t9, %index, 2<br>lw %value, %arr($t9)<br>.end_macro<br><br>.macro put(%arr, %order, %k)<br>subi %k, %k, 97 <br>put_order(%order, %k)<br><br>load_data(%arr, %k, $t7)<br>addi $t7, $t7, 1<br>store_data(%arr, %k, $t7)<br>.end_macro<br><br>.macro put_order(%order, %k)<br>li flag, 1 # æ ‡è®°å½“å‰å­—ç¬¦æ˜¯å¦æœªå‡ºç°<br>for_begin(start10, end10, t, $0, ct)<br>load_data(order, t, $t7)<br>beq $t7, %k, yes # æ‰¾åˆ°äº†<br>j put_order_end<br>yes:<br>li flag, 0 # å°†æ ‡è®°ç½®ä¸º0<br>put_order_end:<br>for_end(start10, end10, t)<br>beq flag, $0, skip<br>store_data(order, ct, %k) # å°†æ–°çš„å­—ç¬¦ç§ç±»æ·»åŠ åˆ°orderä¸­<br>addi ct, ct, 1<br>skip:<br>.end_macro<br><br>.macro print_arr_element(%arr, %order, %k)<br>load_data(%order, %k, $t5) # %kæ˜¯[0,ct)ä¹‹é—´çš„ä¸€ä¸ªæ•´æ•°, $t5è®°å½•ç¬¬%kä¸ªå‡ºç°çš„å­—ç¬¦ç§ç±»(&#x27;a&#x27;-97åˆ°&#x27;b&#x27;-97,å³[0,26))<br>load_data(%arr, $t5, $t4) # $t4å¯„å­˜å¯¹åº”å­—ç¬¦çš„å‡ºç°æ¬¡æ•°<br>beq $t4, $0, skip # è¯¥è¯­å¥æ— ç”¨,ä½†ä¸ºäº†ä»£ç æ‹“å±•æ€§å’Œç¨³å®šæ€§å¯ä»¥ä¿ç•™<br>printCharFromInt($t5) # 0å¯¹åº”&#x27;a&#x27;,25å¯¹åº”&#x27;z&#x27;<br>printChar(space)<br>printInt($t4)<br>printChar(enter)<br>skip:<br>.end_macro<br><br>.macro done<br>li $v0, 10<br>syscall<br>.end_macro<br><br>.text<br># åˆå§‹åŒ–<br>li ct, 0<br><br># è¾“å…¥n<br>inputInt(n)<br><br># è¾“å…¥nä¸ªå­—ç¬¦<br>for_begin(start1,end1,i,$0,n)<br>inputChar(k)<br>put(arr, order, k)<br>for_end(start1,end1,i)<br><br># æ‰“å°<br>for_begin(start2,end2,k,$0,ct)<br>print_arr_element(arr, order, k)<br>for_end(start2,end2,k)<br><br># ç»ˆæ­¢ç¨‹åº<br>done<br><br></code></pre></td></tr></table></figure><h3 id="æ˜“é”™ç‚¹-1"><a href="#æ˜“é”™ç‚¹-1" class="headerlink" title="æ˜“é”™ç‚¹"></a>æ˜“é”™ç‚¹</h3><ul><li>MIPSè¯„æµ‹æœºä¼¼ä¹ä¸ä¼šæœ‰æ¢è¡Œç¬¦çš„è¾“å…¥,è™½ç„¶æ— æ³•åœ¨æœ¬åœ°å®ç°å¯¹æ¢è¡Œç¬¦çš„å¤„ç†,å´å¯ä»¥é€šè¿‡è¯„æµ‹æœº.ä½†å€˜è‹¥å¢åŠ äº†ä¸€ä¸ªç”¨äºé™¤å»æ¢è¡Œç¬¦å½±å“çš„<code>ignoreInt()</code>æ–¹æ³•,åè€Œä¼šå‡ºç°REé”™è¯¯.</li><li>åœ¨è¿™é‡Œè¦å®ç°è¯»å…¥å•ä¸ªå­—ç¬¦,æ ¹æ®æ‰‹å†Œå¯ä»¥æ“å‡ºè¿™ä¸ªå®:</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs assembly">.macro inputChar(%c)<br>li $v0, 12<br>syscall<br>move %c, $v0<br>.end_macro<br></code></pre></td></tr></table></figure><ul><li>ä½†å¦‚ä½•é¿å…æ¢è¡Œç¬¦çš„å½±å“?æˆ‘ä»¬å¯ä»¥ç”¨è¯»å…¥å­—ç¬¦ä¸²çš„æ–¹æ³•(æ­¤æ—¶ç¨‹åºä¼šè¯»å…¥ä¸€è¡Œå­—ç¬¦,åŒ…æ‹¬æ¢è¡Œç¬¦),åœ¨å°†å­—ç¬¦ä¸²çš„ç¬¬0ä½å­—ç¬¦æå–å‡ºæ¥.</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs assembly">.macro inputChar(%c)<br>li $v0, 8<br>li $a1, 10<br>syscall<br>lw %c, 0($a0)<br>.end_macro<br></code></pre></td></tr></table></figure><h2 id="çŸ©é˜µè½¬ç½®ç›¸åŠ "><a href="#çŸ©é˜µè½¬ç½®ç›¸åŠ " class="headerlink" title="çŸ©é˜µè½¬ç½®ç›¸åŠ "></a>çŸ©é˜µè½¬ç½®ç›¸åŠ </h2><blockquote><p>ä½¿ç”¨MIPSæ±‡ç¼–è¯­è¨€ç¼–å†™ä¸€ä¸ªå…·æœ‰çŸ©é˜µ<strong>è½¬ç½®ç›¸åŠ </strong>åŠŸèƒ½çš„æ±‡ç¼–ç¨‹åº(ä¸è€ƒè™‘å»¶è¿Ÿæ§½).</p></blockquote><h3 id="Cè¯­è¨€ä»£ç "><a href="#Cè¯­è¨€ä»£ç " class="headerlink" title="Cè¯­è¨€ä»£ç "></a>Cè¯­è¨€ä»£ç </h3><blockquote><p>å¼€ä¸¤ä¸ªäºŒç»´æ•°ç»„a,b,å„å…ƒç´ ä¾æ¬¡ç›¸åŠ ,é€šè¿‡è°ƒæ¢forå¾ªç¯é¡ºåºå®ç°å¯¹è½¬ç½®çŸ©é˜µçš„æ‰“å°.</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs C"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> a[<span class="hljs-number">8</span>][<span class="hljs-number">8</span>];<br><span class="hljs-type">int</span> b[<span class="hljs-number">8</span>][<span class="hljs-number">8</span>];<br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> n;<br>    <span class="hljs-type">int</span> m;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;m);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> k = <span class="hljs-number">0</span>; k &lt; m; k++)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a[i][k]);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> k = <span class="hljs-number">0</span>; k &lt; m; k++)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;b[i][k]);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> k = <span class="hljs-number">0</span>; k &lt; m; k++)<br>        &#123;<br>            a[i][k] = a[i][k] + b[i][k];<br>        &#125;<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;The result is:\n&quot;</span>);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> k = <span class="hljs-number">0</span>; k &lt; m; k++)<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>        &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, a[i][k]);<br>            <span class="hljs-keyword">if</span> (i != n - <span class="hljs-number">1</span>)<br>            &#123;<br>                <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; &quot;</span>);<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (k != m - <span class="hljs-number">1</span>)<br>        &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="MIPSç­”æ¡ˆ-3"><a href="#MIPSç­”æ¡ˆ-3" class="headerlink" title="MIPSç­”æ¡ˆ"></a>MIPSç­”æ¡ˆ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><code class="hljs assembly">.data<br>enter: .word &#x27;\n&#x27;<br>space: .word &#x27; &#x27;<br>sentence: .asciiz &quot;The result is:\n&quot;<br>A: .space 256 # 8 * 8 * 4<br>B: .space 256 # 8 * 8 * 4<br><br>.eqv n, $s0<br>.eqv m, $s1<br>.eqv i, $t0<br>.eqv k, $t1<br>.eqv temp, $t2<br>.eqv temp1, $t3<br><br>.macro done<br>li $v0, 10<br>syscall<br>.end_macro<br><br>.macro inputInt(%int)<br>li $v0, 5<br>syscall<br>move %int, $v0<br>.end_macro<br><br>.macro printInt(%int)<br>li $v0, 1<br>move $a0, %int<br>syscall<br>.end_macro<br><br>.macro printStr(%str)<br>li $v0, 4<br>la $a0, %str<br>syscall<br>.end_macro<br><br>.macro for_begin(%startLabel, %endLabel, %i, %start, %end)<br>move %i, %start<br>%startLabel:<br>beq %i, %end, %endLabel<br>.end_macro<br><br>.macro for_end(%startLabel, %endLabel, %i)<br>addi %i, %i, 1<br>j %startLabel<br>%endLabel:<br>.end_macro<br><br># value = arr[i][k]<br>.macro load_arr(%arr, %i, %k, %value)<br>sll $t9, %i, 3 # $t9 = i * 8<br>add $t9, $t9, %k<br>sll $t9, $t9, 2 <br>lw %value, %arr($t9)<br>.end_macro<br><br># arr[i][k] = value<br>.macro store_arr(%arr, %i, %k, %value)<br>sll $t9, %i, 3 # $t9 = i * 8<br>add $t9, $t9, %k<br>sll $t9, $t9, 2 <br>sw %value, %arr($t9)<br>.end_macro<br><br>.text<br># è¯»å…¥n, m<br>inputInt(n)<br>inputInt(m)<br><br># è¯»å…¥çŸ©é˜µA<br>for_begin(start1, end1, i, $0, n)<br>for_begin(start2, end2, k, $0, m)<br>inputInt(temp)<br>store_arr(A, i, k, temp)<br>for_end(start2, end2, k)<br>for_end(start1,end1, i)<br><br># è¯»å…¥çŸ©é˜µB<br>for_begin(start3, end3, i, $0, n)<br>for_begin(start4, end4, k, $0, m)<br>inputInt(temp)<br>store_arr(B, i, k, temp)<br>for_end(start4, end4, k)<br>for_end(start3, end3, i)<br><br># çŸ©é˜µA,Bç›¸åŠ ,ç»“æœå­˜å‚¨åˆ°Aä¸­<br>for_begin(start5, end5, i, $0, n)<br>for_begin(start6, end6, k, $0, m)<br>load_arr(A, i, k, temp)<br>load_arr(B, i, k, temp1)<br>add temp, temp, temp1<br>store_arr(A, i, k, temp)<br>for_end(start6, end6, k)<br>for_end(start5, end5, i)<br><br>printStr(sentence)<br><br># æ‰“å°Açš„è½¬ç½®æ•°ç»„<br>for_begin(start7, end7, k, $0, m)<br>for_begin(start8, end8, i, $0, n)<br>load_arr(A, i, k, temp)<br>printInt(temp)<br>addi i, i, 1<br>beq i, n, skip<br>printStr(space)<br>skip:<br>subi i, i, 1<br>for_end(start8, end8, i)<br>addi k, k, 1<br>beq k, m, skip2<br>printStr(enter)<br>skip2:<br>subi k, k, 1<br>for_end(start7, end7, k)<br><br># ç»ˆæ­¢ç¨‹åº<br>done<br></code></pre></td></tr></table></figure><h3 id="æ˜“é”™ç‚¹-2"><a href="#æ˜“é”™ç‚¹-2" class="headerlink" title="æ˜“é”™ç‚¹"></a>æ˜“é”™ç‚¹</h3><ul><li><p>è¦æ³¨æ„åˆ°çŸ©é˜µæ¯ä¸€è¡Œçš„æœ€åä¸èƒ½å‡ºç°ç©ºæ ¼,æœ€åä¸€è¡Œçš„æœ«å°¾ä¸èƒ½æœ‰æ¢è¡Œç¬¦.æˆ‘ä»¬å¯ä»¥å…ˆå¯¹forå¾ªç¯ä¸­çš„å‚æ•°(<code>i</code>æˆ–<code>k</code>)è¿›è¡ŒåŠ ä¸€æ“ä½œ,åˆ¤æ–­å…¶æ˜¯å¦ä¸<code>n</code>æˆ–<code>m</code>ç›¸ç­‰.</p></li><li><p>å¤šå±‚å¾ªç¯ä½¿ç”¨å®ä¼šæ›´åŠ æ–¹ä¾¿.å¯¹äºä¸åŒçš„forå¾ªç¯,ä¸€å®šè¦å°†å¼€å§‹å’Œç»“æŸçš„æ ‡å¿—ç¬¦è®¾ç½®ä¸ºä¸åŒçš„(ä¸è¦å¤åˆ¶ç²˜è´´åå¿˜äº†ä¿®æ”¹å°±è¡Œ)</p></li></ul><h2 id="å€’åºå…¨æ’åˆ—"><a href="#å€’åºå…¨æ’åˆ—" class="headerlink" title="å€’åºå…¨æ’åˆ—"></a>å€’åºå…¨æ’åˆ—</h2><blockquote><p>ä½¿ç”¨MIPSå®ç°å…¨æ’åˆ—ç”Ÿæˆç®—æ³•</p><p>è¾“å…¥ä¸€ä¸ªå°äºç­‰äº7çš„æ­£æ•´æ•°,æ±‚å‡ºnçš„å…¨æ’åˆ—,å¹¶æŒ‰ç…§å­—å…¸åºå€’åºè¾“å‡º</p></blockquote><h3 id="æ€è·¯-2"><a href="#æ€è·¯-2" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><p><img src="image-20241008194552753.png" alt="æ­£åºå…¨æ’åˆ—Cè¯­è¨€ä»£ç "></p><blockquote><p>è¿™é‡Œé¢˜ç›®ç»™å‡ºäº†æ­£åºå…¨æ’åˆ—çš„Cè¯­è¨€ä»£ç ,ä¸éš¾å‘ç°:åªè¦å°†<code>FullArray(int index)</code>ä¸­å‡ºç°çš„ç¬¬äºŒä¸ªæ­£åºforå¾ªç¯æ”¹ä¸ºå€’åºå³å¯.å³:</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs C"><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = n - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) &#123;<br>    <span class="hljs-keyword">if</span> (symbol[i] == <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-comment">// body</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="MIPSç­”æ¡ˆ-4"><a href="#MIPSç­”æ¡ˆ-4" class="headerlink" title="MIPSç­”æ¡ˆ"></a>MIPSç­”æ¡ˆ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br></pre></td><td class="code"><pre><code class="hljs assembly">.data<br>symbol: .space 28<br>array: .space 28<br>enter: .word &#x27;\n&#x27;<br>space: .word &#x27; &#x27;<br><br>.eqv n, $s0<br>.eqv index, $a1<br>.eqv i, $t0<br>.eqv k, $t1<br>.eqv flag, $t2<br>.eqv one, $t3 # ç”¨äºå­˜å‚¨ç«‹å³æ•°1<br><br>.macro done<br>li $v0, 10<br>syscall<br>.end_macro<br><br>.macro push(%x)<br>subi $sp, $sp, 4<br>sw %x, 0($sp)<br>.end_macro<br><br>.macro pop(%x)<br>lw %x, 0($sp)<br>addi $sp, $sp, 4<br>.end_macro<br><br>.macro inputInt(%int)<br>li $v0, 5<br>syscall<br>move %int, $v0<br>.end_macro<br><br>.macro printInt(%int)<br>li $v0, 1<br>move $a0, %int<br>syscall<br>.end_macro<br><br>.macro printStr(%str)<br>li $v0, 4<br>la $a0, %str<br>syscall<br>.end_macro<br><br>.macro print_arr_element(%arr, %i)<br>sll $t9, %i, 2<br>lw $a0, %arr($t9)<br>li $v0, 1<br>syscall<br>.end_macro<br><br>.macro for_begin(%startLabel, %endLabel, %i, %start, %end)<br>move %i, %start<br>%startLabel:<br>beq %i, %end, %endLabel<br>.end_macro<br><br>.macro for_end(%startLabel, %endLabel, %i)<br>addi %i, %i, 1<br>j %startLabel<br>%endLabel:<br>.end_macro<br><br># é€’å‡forå¾ªç¯<br>.macro for_begin_decrease(%startLabel, %endLabel, %i, %start, %end)<br>move %i, %start<br>subi %i, %i, 1<br>%startLabel:<br>blt %i, %end, %endLabel<br>.end_macro<br><br>.macro for_end_decrease(%startLabel, %endLabel, %i)<br>subi %i, %i, 1<br>j %startLabel<br>%endLabel:<br>.end_macro<br><br>.macro store_data(%arr, %index, %value)<br>sll $t9, %index, 2<br>sw %value, %arr($t9)<br>.end_macro<br><br>.macro load_data(%arr, %index, %value)<br>sll $t9, %index, 2<br>lw %value, %arr($t9)<br>.end_macro<br><br>.text<br>inputInt(n)<br>li one, 1<br>li index, 0<br>jal FullArray<br>done<br><br>FullArray:<br>push($ra)<br>bge index, n, return<br>for_begin_decrease(start2, end2, i, n, $0)<br>load_data(symbol, i, flag)<br>beq flag, $0, yes<br>j no<br>yes:<br>addi i, i, 1<br>store_data(array, index, i)<br>subi i, i, 1<br>store_data(symbol, i, one)<br>addi index, index, 1<br>push(i)<br>jal FullArray<br>pop(i)<br>subi index, index, 1<br>store_data(symbol, i, $0)<br>no:<br><br>for_end_decrease(start2, end2, i)<br><br>j full_array_end<br><br>return:<br>for_begin(start1, end1, k, $0, n)<br>print_arr_element(array, k)<br>printStr(space)<br>for_end(start1, end1, k)<br>printStr(enter)<br>full_array_end:<br>pop($ra)<br>jr $ra<br><br></code></pre></td></tr></table></figure><h2 id="é˜¶ä¹˜è¿åŠ "><a href="#é˜¶ä¹˜è¿åŠ " class="headerlink" title="é˜¶ä¹˜è¿åŠ "></a>é˜¶ä¹˜è¿åŠ </h2><p><img src="image-20241008201630823.png" alt="1202-329"></p><h3 id="MIPSç­”æ¡ˆ-5"><a href="#MIPSç­”æ¡ˆ-5" class="headerlink" title="MIPSç­”æ¡ˆ"></a>MIPSç­”æ¡ˆ</h3><blockquote><p>å®ç°æ€è·¯å¾ˆç®€å•,ä¸éœ€è¦å†™ä¸€ä¸ªCè¯­è¨€ç¨‹åºäº†,ä½†è¦æ³¨æ„ç»†èŠ‚é—®é¢˜</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs assembly">.eqv n, $s0<br>.eqv index, $a1<br>.eqv ans, $s1<br>.eqv new, $s2<br>.eqv i, $t0<br>.eqv k, $t1<br><br>.macro inputInt(%int)<br>li $v0, 5<br>syscall<br>move %int, $v0<br>.end_macro<br><br>.macro inputUnsignedInt(%u)<br>li $v0, 36<br>move $a0, %u<br>syscall<br>.end_macro<br><br>.macro done<br>li $v0, 10<br>syscall<br>.end_macro<br><br>.macro for_begin_decrease(%startLabel, %endLabel, %i, %start, %end)<br>move %i, %start<br>%startLabel:<br>ble %i, %end, %endLabel<br>.end_macro<br><br>.macro for_end_decrease(%startLabel, %endLabel, %i)<br>subi %i, %i, 1<br>j %startLabel<br>%endLabel:<br>.end_macro<br><br>.text<br>inputInt(n)<br><br>for_begin_decrease(start, end, i, n, $0)<br>li new, 1<br>for_begin_decrease(start2, end2, k, i, $0)<br>mult new, k<br>mflo new<br>for_end_decrease(start2, end2, k)<br>addu ans, ans, new<br>for_end_decrease(start, end, i)<br><br>inputUnsignedInt(ans)<br><br>done<br><br></code></pre></td></tr></table></figure><h3 id="æ˜“é”™ç‚¹-3"><a href="#æ˜“é”™ç‚¹-3" class="headerlink" title="æ˜“é”™ç‚¹"></a>æ˜“é”™ç‚¹</h3><ul><li>è¯¥ç¨‹åºè®¾è®¡æ— ç¬¦å·æ•°,<code>add</code>è¦æ›¿æ¢ä¸º<code>addu</code></li></ul><h2 id="å•æ­¥æ±‰è¯ºå¡”"><a href="#å•æ­¥æ±‰è¯ºå¡”" class="headerlink" title="å•æ­¥æ±‰è¯ºå¡”"></a>å•æ­¥æ±‰è¯ºå¡”</h2><blockquote><ul><li>è¾“å…¥æ ¼å¼ï¼š<ul><li>è¾“å…¥åŒ…å«1è¡Œï¼ŒåªåŒ…å«1ä¸ª1ä½æ•´æ•°ï¼Œå³0-9ä¸­çš„æŸä¸€ä¸ªæ•´æ•°ï¼Œè®°å…¶ä¸ºn</li><li>æ±‰è¯ºå¡”ä¸‰æ ¹æŸ±å­çš„ç¼–å·ä»å·¦åˆ°å³ä¾æ¬¡ä¸ºâ€™Aâ€™,â€™Bâ€™,â€™Câ€™,åˆå§‹çš„æ—¶å€™æ‰€æœ‰ç›˜å­éƒ½åœ¨â€˜Aâ€™ä¸Šï¼Œç¼–å·ä»ä¸Šï¼ˆå°ï¼‰åˆ°ä¸‹ï¼ˆå¤§ï¼‰åˆ†åˆ«ä¸º0~n</li><li>ç§»åŠ¨è¿™äº›ç›˜å­åˆ°â€™Câ€˜ï¼Œè¦æ±‚ç§»åŠ¨æ—¶åªèƒ½å°†æŸä¸ªæŸ±å­ä¸Šæœ€ä¸Šé¢çš„ç›˜å­ç§»åŠ¨åˆ°ç›¸é‚»çš„æŸ±å­ï¼Œå¹¶ä¸”ä»»ä½•æƒ…å†µä¸‹å¤§ç›˜å­ä¸èƒ½åœ¨å°ç›˜å­ä¸Šé¢ï¼Œå³Aä¸Šçš„ç›˜å­ä¸èƒ½ç›´æ¥ç§»åŠ¨åˆ°Cä¸Š</li></ul></li><li>è¾“å‡ºæ ¼å¼ï¼šè¯·å‚ç…§ä¸‹æ–‡çš„Cè¯­è¨€æ ·ä¾‹ï¼Œè¦æ±‚å®ç°åŒç²’åº¦çš„è¾“å‡ºï¼ˆå³èƒ½é€šè¿‡é€è¡Œ<code>strcmp</code>çš„æ£€æµ‹ï¼‰</li><li>æ•°æ®èŒƒå›´ï¼š<ul><li>0&lt;n&lt;10</li></ul></li></ul><p>Cè¯­è¨€æ ·ä¾‹å·²ç»™å‡º:</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs C"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">void</span> <span class="hljs-title function_">move</span><span class="hljs-params">(<span class="hljs-type">int</span> id, <span class="hljs-type">char</span> from, <span class="hljs-type">char</span> to)</span> &#123;<br>  <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;move disk %d from %c to %c\n&quot;</span>, id, from, to);<br>&#125;<br><span class="hljs-type">void</span> <span class="hljs-title function_">hanoi</span><span class="hljs-params">(<span class="hljs-type">int</span> base, <span class="hljs-type">char</span> from, <span class="hljs-type">char</span> via, <span class="hljs-type">char</span> to)</span> &#123;<br>  <span class="hljs-keyword">if</span> (base == <span class="hljs-number">0</span>) &#123;<br>      move(base, from, via);<br>      move(base, via, to);<br>      <span class="hljs-keyword">return</span>;<br>  &#125;<br>  hanoi(base - <span class="hljs-number">1</span>, from, via, to);<br>  move(base, from, via);<br>  hanoi(base - <span class="hljs-number">1</span>, to, via, from);<br>  move(base, via, to);<br>  hanoi(base - <span class="hljs-number">1</span>, from, via, to);<br>&#125;<br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>  <span class="hljs-type">int</span> n;<br>  <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br>  hanoi(n, <span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>);<br>  <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="MIPSç­”æ¡ˆ-6"><a href="#MIPSç­”æ¡ˆ-6" class="headerlink" title="MIPSç­”æ¡ˆ"></a>MIPSç­”æ¡ˆ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><code class="hljs assembly">.data<br>sentence: .asciiz &quot;move disk A from A to A\n&quot;<br><br>.eqv shift, $t3<br>.eqv shift1, 10<br>.eqv shift2, 7<br>.eqv shift3, 5<br>.eqv n, $s0<br>.eqv base, $a1<br>.eqv from, $a2<br>.eqv via, $a3<br>.eqv to, $t4<br>.eqv A, 65<br>#.eqv B, 66<br>.eqv C, 67<br>.eqv zero, 48<br><br># move()å‡½æ•°,ä½¿ç”¨$t7<br>.macro move_(%id, %from, %to)<br>la $t7, sentence<br>addi $t7, $t7, shift1<br>sb %id, 0($t7)<br>addi $t7, $t7, shift2<br>sb %from, 0($t7)<br>addi $t7, $t7, shift3<br>sb %to, 0($t7)<br>printStr(sentence)<br>.end_macro<br><br>.macro printStr(%str)<br>li $v0, 4<br>la $a0, %str<br>syscall<br>.end_macro<br><br>.macro inputInt(%int)<br>li $v0, 5<br>syscall<br>move %int, $v0<br>.end_macro<br><br>.macro push(%x)<br>subi $sp, $sp, 4<br>sw %x, 0($sp)<br>.end_macro<br><br>.macro pop(%x)<br>lw %x, 0($sp)<br>addi $sp, $sp, 4<br>.end_macro<br><br>.macro swap(%x, %y)<br>push(%x)<br>push(%y)<br>pop(%x)<br>pop(%y)<br>.end_macro<br><br>.macro done<br>li $v0, 10<br>syscall<br>.end_macro<br><br>.text<br>inputInt(n)<br>move base, n<br>addi base, base, zero<br>li from, 65<br>li via, 66<br>li to, 67<br>jal hanoi<br><br>done<br><br>hanoi:<br>push($ra)<br>beq base, zero, return<br>push(base)<br>push(from)<br>push(to)<br>subi base, base, 1<br>jal hanoi<br>pop(to)<br>pop(from)<br>pop(base)<br>move_(base, from, via)<br><br>push(base)<br>push(from)<br>push(to)<br>subi base, base, 1<br>swap(from, to)<br>jal hanoi<br>pop(to)<br>pop(from)<br>pop(base)<br>move_(base, via, to)<br><br>subi base, base, 1<br>jal hanoi<br><br>j hanoi_end<br>return:<br>move_(base, from, via)<br>move_(base, via, to)<br>hanoi_end:<br>pop($ra)<br>jr $ra<br><br></code></pre></td></tr></table></figure><h3 id="éš¾ç‚¹-ä¿®æ”¹å­—ç¬¦ä¸²"><a href="#éš¾ç‚¹-ä¿®æ”¹å­—ç¬¦ä¸²" class="headerlink" title="éš¾ç‚¹(ä¿®æ”¹å­—ç¬¦ä¸²)"></a>éš¾ç‚¹(ä¿®æ”¹å­—ç¬¦ä¸²)</h3><ul><li>å¯¹äºå­—ç¬¦ä¸²çš„ä¿®æ”¹,å¯ä»¥é‡‡ç”¨ä»¥ä¸‹æ¨¡æ¿:</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs assembly"># å°†å­—ç¬¦ä¸²ç¬¬iä½ä¿®æ”¹ä¸ºæŒ‡å®šå­—ç¬¦c<br>.macro modify_str(%str, %i, %c)<br>la $t9, modify_str<br>add $t9, $t9, %i<br>sb %c, 0($t9) # sbå­˜å…¥ä¸€ä¸ªbyte(æ¯”ç‰¹),è¿™æ˜¯å› ä¸ºasciizå­—ç¬¦ä¸²ä¸­ä¸€ä¸ªå­—ç¬¦å 8ä½(å³1byte)<br>.end_macro<br><br></code></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs assembly">.data<br>sentence: .asciiz &quot;hello, world!\n&quot;<br><br>.eqv c, $t0 # å¾…åŠ å…¥çš„å­—ç¬¦<br>.eqv shift, $t1 # åç§»é‡<br><br># å°†å­—ç¬¦ä¸²ç¬¬iä½ä¿®æ”¹ä¸ºæŒ‡å®šå­—ç¬¦c<br>.macro modify_str(%str, %i, %c)<br>la $t9, %str<br>add $t9, $t9, %i<br>sb %c, 0($t9) # sbå­˜å…¥ä¸€ä¸ªbyte(æ¯”ç‰¹),è¿™æ˜¯å› ä¸ºasciizå­—ç¬¦ä¸²ä¸­ä¸€ä¸ªå­—ç¬¦å 8ä½(å³1byte)<br>.end_macro<br><br>.macro printStr(%str)<br>li $v0, 4<br>la $a0, %str<br>syscall<br>.end_macro<br><br>.text<br>li shift, 3<br>li c, 70 # &#x27;F&#x27;å¯¹åº”ASCIIç ä¸º70<br>modify_str(sentence, shift, c)<br>printStr(sentence)<br><br># output:<br># helFo, world!<br></code></pre></td></tr></table></figure><h2 id="äºŒåˆ†æŸ¥æ‰¾çš„å®ç°ä¸åº”ç”¨"><a href="#äºŒåˆ†æŸ¥æ‰¾çš„å®ç°ä¸åº”ç”¨" class="headerlink" title="äºŒåˆ†æŸ¥æ‰¾çš„å®ç°ä¸åº”ç”¨"></a>äºŒåˆ†æŸ¥æ‰¾çš„å®ç°ä¸åº”ç”¨</h2><p><a href="http://cscore.buaa.edu.cn/#/problem?ProblemId=415&amp;PieId=1202">P2_L1_bsearch - ç³»ç»Ÿèƒ½åŠ›è¯¾ç¨‹å®éªŒå¹³å° (buaa.edu.cn)</a></p><h3 id="Cè¯­è¨€ä»£ç -1"><a href="#Cè¯­è¨€ä»£ç -1" class="headerlink" title="Cè¯­è¨€ä»£ç "></a>Cè¯­è¨€ä»£ç </h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs C"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> arr[<span class="hljs-number">1000</span>];<br><span class="hljs-type">int</span> <span class="hljs-title function_">binary_search</span><span class="hljs-params">(<span class="hljs-type">int</span> key,<span class="hljs-type">int</span> a[],<span class="hljs-type">int</span> n)</span> <span class="hljs-comment">//è‡ªå®šä¹‰å‡½æ•°binary_search()</span><br>&#123;<br>    <span class="hljs-type">int</span> low,high,mid,count=<span class="hljs-number">0</span>,count1=<span class="hljs-number">0</span>;<br>    low=<span class="hljs-number">0</span>;<br>    high=n<span class="hljs-number">-1</span>;<br>    <span class="hljs-keyword">while</span>(low&lt;=high)    <span class="hljs-comment">//æŸ»æ‰¾èŒƒå›´ä¸ä¸º0æ—¶æ‰§è¡Œå¾ªç¯ä½“è¯­å¥</span><br>    &#123;<br>        count++;    <span class="hljs-comment">//countè®°å½•æŸ»æ‰¾æ¬¡æ•°</span><br>        mid=(low+high)/<span class="hljs-number">2</span>;    <span class="hljs-comment">//æ±‚ä¸­é—´ä½ç½®</span><br>        <span class="hljs-keyword">if</span>(key&lt;a[mid])    <span class="hljs-comment">//keyå°äºä¸­é—´å€¼æ—¶</span><br>            high=mid<span class="hljs-number">-1</span>;    <span class="hljs-comment">//ç¡®å®šå·¦å­è¡¨èŒƒå›´</span><br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(key&gt;a[mid])    <span class="hljs-comment">//key å¤§äºä¸­é—´å€¼æ—¶</span><br>            low=mid+<span class="hljs-number">1</span>;    <span class="hljs-comment">//ç¡®å®šå³å­è¡¨èŒƒå›´</span><br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(key==a[mid])    <span class="hljs-comment">//å½“keyç­‰äºä¸­é—´å€¼æ—¶ï¼Œè¯æ˜æŸ¥æ‰¾æˆåŠŸ</span><br>        &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;1&quot;</span>);<br>            count1++;    <span class="hljs-comment">//count1è®°å½•æŸ¥æ‰¾æˆåŠŸæ¬¡æ•°</span><br>            <span class="hljs-keyword">break</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(count1==<span class="hljs-number">0</span>)    <span class="hljs-comment">//åˆ¤æ–­æ˜¯å¦æŸ¥æ‰¾å¤±æ•—</span><br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;0&quot;</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br>    <span class="hljs-type">int</span> m;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;m);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; m; i++) &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;arr[i]);<br>    &#125;<br>    <span class="hljs-type">int</span> n;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;key);<br>        binary_search(key, arr, m);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="MIPSç­”æ¡ˆ-7"><a href="#MIPSç­”æ¡ˆ-7" class="headerlink" title="MIPSç­”æ¡ˆ"></a>MIPSç­”æ¡ˆ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><code class="hljs assembly">.data<br>arr: .space 4000<br>enter: .word &#x27;\n&#x27;<br><br>.eqv n, $s0<br>.eqv m, $s1<br>.eqv low, $t0<br>.eqv high, $t1<br>.eqv mid, $t2<br>.eqv count, $t3<br>.eqv count1, $t4<br>.eqv temp, $t5<br>.eqv i, $t6<br>.eqv k, $t7<br>.eqv key, $t8<br><br>.macro for_begin(%startLabel, %endLabel, %i, %start,%end)<br>move %i, %start<br>%startLabel:<br>beq %i, %end, %endLabel<br>.end_macro<br><br>.macro for_end(%startLabel, %endLabel, %i)<br>addi %i, %i, 1<br>j %startLabel<br>%endLabel:<br>.end_macro<br><br>.macro while_begin(%startLabel, %endLabel, %low, %high)<br>%startLabel:<br>bgt %low, %high, %endLabel<br>.end_macro<br><br>.macro while_end(%startLabel, %endLabel)<br>j %startLabel<br>%endLabel:<br>.end_macro<br><br>.macro inputInt(%int)<br>li $v0, 5<br>syscall<br>move %int, $v0<br>.end_macro<br><br>.macro printImmediate(%imm)<br>li $v0, 1<br>li $a0, %imm<br>syscall<br>.end_macro<br><br>.macro printChar(%c)<br>li $v0,  4<br>la $a0, %c<br>syscall<br>.end_macro<br><br>.macro load_data(%arr, %index, %value)<br>sll $t9, %index, 2<br>lw %value, %arr($t9)<br>.end_macro<br><br>.macro store_data(%arr, %index, %value)<br>sll $t9, %index, 2<br>sw %value, %arr($t9)<br>.end_macro<br><br>.macro binary_search(%key, %a, %n)<br>li count, 0<br>li count1, 0<br>li low, 0<br>subi high, %n, 1<br>while_begin(start1, end1, low, high)<br>addi count, count, 1<br>add mid, low, high<br>srl mid, mid, 1 # mid = (low + high) / 2;<br>load_data(%a, mid, temp)<br>blt key, temp, less<br>beq key, temp, same<br>bgt key, temp, greater<br><br>less:<br>subi high, mid, 1<br>j judge_end<br>same:<br>printImmediate(1)<br>printChar(enter)<br>addi count1, count, 1<br>j break_mark<br>greater:<br>addi low, mid, 1<br>judge_end:<br>while_end(start1,end1)<br>break_mark:<br>beq count1, 0, fail<br>j skip0<br>fail:<br>printImmediate(0)<br>printChar(enter)<br>skip0:<br>.end_macro<br><br>.macro done<br>li $v0, 10<br>syscall<br>.end_macro<br><br>.text<br>inputInt(m)<br>for_begin(start2, end2, i, $0, m)<br>inputInt(temp)<br>store_data(arr,i,temp)<br>for_end(start2, end2, i)<br><br>inputInt(n)<br>for_begin(start3,end3,k,$0,n)<br>inputInt(key)<br>binary_search(key, arr, m)<br>for_end(start3,end3,k)<br><br>done<br><br></code></pre></td></tr></table></figure><h2 id="æ°´ä»™èŠ±æ•°çš„åˆ¤æ–­"><a href="#æ°´ä»™èŠ±æ•°çš„åˆ¤æ–­" class="headerlink" title="æ°´ä»™èŠ±æ•°çš„åˆ¤æ–­"></a>æ°´ä»™èŠ±æ•°çš„åˆ¤æ–­</h2><h3 id="Cè¯­è¨€ä»£ç -2"><a href="#Cè¯­è¨€ä»£ç -2" class="headerlink" title="Cè¯­è¨€ä»£ç "></a>Cè¯­è¨€ä»£ç </h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs C"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">square</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span> &#123;<br>    <span class="hljs-keyword">return</span> x * x * x;<br>&#125;<br><span class="hljs-type">int</span> <span class="hljs-title function_">narcissus</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span> &#123;<br>    <span class="hljs-type">int</span> a0;<br>    <span class="hljs-type">int</span> a1;<br>    <span class="hljs-type">int</span> a2;<br>    a0 = x % <span class="hljs-number">10</span>;<br>    a1 = (x % <span class="hljs-number">100</span>) / <span class="hljs-number">10</span>;<br>    a2 = x / <span class="hljs-number">100</span>;<br>    <span class="hljs-keyword">if</span> (square(a0) + square(a1) + square(a2) == x) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">int</span> m;<br>    <span class="hljs-type">int</span> n;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;m);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = m; i &lt; n; i++) &#123;<br>        <span class="hljs-keyword">if</span> (narcissus(i)) &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, i);<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="MIPSç­”æ¡ˆ-8"><a href="#MIPSç­”æ¡ˆ-8" class="headerlink" title="MIPSç­”æ¡ˆ"></a>MIPSç­”æ¡ˆ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><code class="hljs assembly">.data<br>enter: .word &#x27;\n&#x27;<br><br>.eqv n, $s0<br>.eqv m, $s1<br>.eqv ten, $s2<br>.eqv hundred, $s3<br><br>.eqv a0, $t0<br>.eqv a1, $t1<br>.eqv a2, $t2<br>.eqv i, $t3<br>.eqv sum, $t4<br>.eqv temp, $t5<br><br>.macro done<br>li $v0, 10<br>syscall<br>.end_macro<br><br>.macro for_begin(%startLabel, %endLabel, %i, %start,%end)<br>move %i, %start<br>%startLabel:<br>beq %i, %end, %endLabel<br>.end_macro<br><br>.macro for_end(%startLabel, %endLabel, %i)<br>addi %i, %i, 1<br>j %startLabel<br>%endLabel:<br>.end_macro<br><br>.macro inputInt(%int)<br>li $v0, 5<br>syscall<br>move %int, $v0<br>.end_macro<br><br>.macro printInt(%int)<br>li $v0, 1<br>move $a0, %int<br>syscall<br>.end_macro<br><br>.macro printChar(%c)<br>li $v0,  4<br>la $a0, %c<br>syscall<br>.end_macro<br><br>.macro square_add_to(%x, %sum)<br>mult %x, %x<br>mflo temp<br>mult %x, temp<br>mflo temp<br>add sum, sum, temp<br>.end_macro<br><br>.macro narcissus(%x)<br>li sum, 0<br>div %x, ten<br>mfhi a0<br>square_add_to(a0, sum)<br>div %x, hundred<br>mfhi a1<br>div a1, a1, 10<br>square_add_to(a1, sum)<br>div a2, %x, 100<br>square_add_to(a2, sum)<br><br>beq sum, %x, yes<br>j no<br>yes:<br>printInt(%x)<br>printChar(enter)<br>no:<br>.end_macro<br><br>.text<br>li ten, 10<br>li hundred, 100<br><br>inputInt(m)<br>inputInt(n)<br>for_begin(start0,end0,i,m,n)<br>narcissus(i)<br>for_end(start0,end0,i)<br></code></pre></td></tr></table></figure><h3 id="é™¤æ³•æ“ä½œ"><a href="#é™¤æ³•æ“ä½œ" class="headerlink" title="é™¤æ³•æ“ä½œ"></a>é™¤æ³•æ“ä½œ</h3><blockquote><p>å®ç°é™¤æ³•æœ‰ä»¥ä¸‹æ“ä½œ</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs assembly"># 1<br>div $t0, $t1<br>mflo $t2 # $t0 % $t1 çš„ç»“æœå­˜å‚¨åœ¨ä½ä½ä¸­<br>mfhi $t3 # $t0 // $t1çš„ç»“æœå­˜å‚¨åœ¨é«˜ä½ä¸­<br><br># 2<br>div $t2, $t0, $t1 # $t2 = $t0 // $t1 (æ•´æ•°é™¤æ³•)<br><br># 3<br>div $t0, $t1, 100 # $t0 = $t1 // 100 (é™¤ä»¥16-bitç«‹å³æ•°)<br><br># 4<br>div $t0, $t1, 100000 # $t0 = $t1 // 100000(é™¤ä»¥32-bitç«‹å³æ•°)<br><br># 5<br>srl $t0, 2 # $t0å€¼å‘å³ç§»ä¸¤ä½,å³é™¤ä»¥4<br></code></pre></td></tr></table></figure><h2 id="çº¦ç‘Ÿå¤«ç¯é—®é¢˜"><a href="#çº¦ç‘Ÿå¤«ç¯é—®é¢˜" class="headerlink" title="çº¦ç‘Ÿå¤«ç¯é—®é¢˜"></a>çº¦ç‘Ÿå¤«ç¯é—®é¢˜</h2><h3 id="Cè¯­è¨€ä»£ç -3"><a href="#Cè¯­è¨€ä»£ç -3" class="headerlink" title="Cè¯­è¨€ä»£ç "></a>Cè¯­è¨€ä»£ç </h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs C"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> a[<span class="hljs-number">100</span>];<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">int</span> n;<br>    <span class="hljs-type">int</span> m;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;m);<br>    <span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br>    <span class="hljs-type">int</span> count = <span class="hljs-number">1</span>;<br>    <span class="hljs-type">int</span> flag = <span class="hljs-number">1</span>;<br><br>    <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) &#123;<br>        <span class="hljs-keyword">if</span> (flag == n) &#123;<br>            <span class="hljs-keyword">break</span>;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (a[i] == <span class="hljs-number">1</span>) &#123;<br>            i = i + <span class="hljs-number">1</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">if</span> (count == m) &#123;<br>                a[i] = <span class="hljs-number">1</span>;<br>                flag++;<br>                i++;<br>                <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, i);<br>                <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>                count = <span class="hljs-number">1</span>;<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                count++;<br>                i++;<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">if</span> (i == n) &#123;<br>            i = <span class="hljs-number">0</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>        <span class="hljs-keyword">if</span> (a[i] != <span class="hljs-number">1</span>) &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, i+<span class="hljs-number">1</span>);<br>            <span class="hljs-keyword">break</span>;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="MIPSç­”æ¡ˆ-9"><a href="#MIPSç­”æ¡ˆ-9" class="headerlink" title="MIPSç­”æ¡ˆ"></a>MIPSç­”æ¡ˆ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><code class="hljs assembly">.data<br>a: .space 400<br>space: .word &#x27; &#x27;<br>enter: .word &#x27;\n&#x27;<br>.eqv n, $s0<br>.eqv m, $s1<br>.eqv one, $s2<br><br>.eqv i, $t0<br>.eqv count, $t1<br>.eqv flag, $t2<br>.eqv temp, $t3<br><br>.macro load_data(%arr, %index, %value)<br>sll $t9, %index, 2<br>lw %value, %arr($t9)<br>.end_macro<br><br>.macro store_data(%arr, %index, %value)<br>sll $t9, %index, 2<br>sw %value, %arr($t9)<br>.end_macro<br><br>.macro for_begin(%startLabel, %endLabel, %i, %start,%end)<br>move %i, %start<br>%startLabel:<br>beq %i, %end, %endLabel<br>.end_macro<br><br>.macro for_end(%startLabel, %endLabel, %i)<br>addi %i, %i, 1<br>j %startLabel<br>%endLabel:<br>.end_macro<br><br>.macro inputInt(%int)<br>li $v0, 5<br>syscall<br>move %int, $v0<br>.end_macro<br><br>.macro printInt(%int)<br>li $v0, 1<br>move $a0, %int<br>syscall<br>.end_macro<br><br>.macro printChar(%c)<br>li $v0,  4<br>la $a0, %c<br>syscall<br>.end_macro<br><br>.macro done<br>li $v0, 10<br>syscall<br>.end_macro<br><br>.text<br>inputInt(n)<br>inputInt(m)<br><br>li i, 0<br>li count, 1<br>li flag, 1<br>li one, 1<br>while:<br>beq flag, n, break_<br>load_data(a, i, temp)<br>beq temp, $0, else<br>add_:<br>addi i, i, 1<br>j while_end<br>else:<br>beq count, m, yes<br>no:<br>addi count, count, 1<br>addi i, i, 1<br>j while_end<br>yes:<br>store_data(a,i,one)<br>addi flag, flag, 1<br>addi i, i, 1<br>printInt(i)<br>printChar(enter)<br>li count, 1<br>while_end:<br>beq i, n, mod<br>j skip<br>mod:<br>li i, 0<br>skip:<br>j while<br><br>break_:<br><br>for_begin(start0, end0, i, $0, n)<br>load_data(a, i, temp)<br>beq temp, $0, find<br>j skip2<br>find:<br>addi i, i, 1<br>printInt(i)<br>j break2<br>skip2:<br>for_end(start0, end0, i)<br><br>break2:<br>done<br><br></code></pre></td></tr></table></figure><h1 id="ç»ƒä¹ é¢˜"><a href="#ç»ƒä¹ é¢˜" class="headerlink" title="ç»ƒä¹ é¢˜"></a>ç»ƒä¹ é¢˜</h1><h2 id="å›æ–‡ä¸²åˆ¤æ–­"><a href="#å›æ–‡ä¸²åˆ¤æ–­" class="headerlink" title="å›æ–‡ä¸²åˆ¤æ–­"></a>å›æ–‡ä¸²åˆ¤æ–­</h2><blockquote><p>å…¶å®ç”¨äº†è¶³å¤Ÿå¤šçš„å°è£…ä¹‹å,å¯¹äºä¸€äº›ç®€å•çš„MIPSé¢˜ç›®å·²ç»ä¸ç”¨ç‰¹æ„å†™ä¸€éCè¯­è¨€äº†</p></blockquote><h3 id="MIPSç­”æ¡ˆ-10"><a href="#MIPSç­”æ¡ˆ-10" class="headerlink" title="MIPSç­”æ¡ˆ"></a>MIPSç­”æ¡ˆ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><code class="hljs assembly">.data<br>arr: .space 80<br><br>.eqv n, $s0<br>.eqv m, $s1<br>.eqv flag, $s2<br>.eqv i, $t0<br>.eqv temp, $t1<br>.eqv temp1, $t2<br>.eqv temp2, $t3<br>.macro load_data(%arr, %index, %value)<br>li $t9, 4<br>mult $t9, %index<br>mflo $t9<br>lw %value, arr($t9)<br>.end_macro<br><br>.macro store_data(%arr, %index, %value)<br>li $t9, 4<br>mult $t9, %index<br>mflo $t9<br>sw %value, arr($t9)<br>.end_macro<br><br>.macro done<br>li $v0, 10<br>syscall<br>.end_macro<br><br>.macro inputInt(%int)<br>li $v0, 5<br>syscall<br>move %int, $v0<br>.end_macro<br><br>.macro inputChar(%c)<br>li $v0, 12<br>syscall<br>move %c, $v0<br>.end_macro<br><br>.macro printInt(%int)<br>li $v0, 1<br>move $a0, %int<br>syscall<br>.end_macro<br><br>.macro printImmediate(%imm)<br>li $v0, 1<br>li $a0, %imm<br>syscall<br>.end_macro<br><br>.macro for_begin(%startLabel, %endLabel, %i, %start, %end)<br>move %i, %start<br>%startLabel:<br>beq %i, %end, %endLabel<br>.end_macro<br><br>.macro for_end(%startLabel, %endLabel, %i)<br>addi %i, %i, 1<br>j %startLabel<br>%endLabel:<br>.end_macro<br><br>.text<br>inputInt(n)<br>for_begin(start1, end1, i, $0, n)<br>inputChar(temp)<br>store_data(arr, i, temp)<br>for_end(start1, end1, i)<br><br>srl m, n, 1<br>li flag, 1<br>for_begin(start2, end2, i, $0, m)<br>load_data(arr, i, temp1)<br>sub temp, n, i<br>subi temp, temp, 1<br>load_data(arr, temp, temp2)<br>beq temp1, temp2, skip<br>li flag, 0<br>skip:<br>for_end(start2, end2, i)<br><br>beq flag, 1, yes<br>no:<br>printImmediate(0)<br>j flag_end<br>yes:<br>printImmediate(1)<br>flag_end:<br>done<br><br></code></pre></td></tr></table></figure><h2 id="å…¨æ’åˆ—ç”Ÿæˆ"><a href="#å…¨æ’åˆ—ç”Ÿæˆ" class="headerlink" title="å…¨æ’åˆ—ç”Ÿæˆ"></a>å…¨æ’åˆ—ç”Ÿæˆ</h2><blockquote><p>å‚è€ƒå¾€å¹´é¢˜ä¸­çš„<strong>å€’åºå…¨æ’åˆ—</strong></p></blockquote><h2 id="çŸ©é˜µç›¸ä¹˜"><a href="#çŸ©é˜µç›¸ä¹˜" class="headerlink" title="çŸ©é˜µç›¸ä¹˜"></a>çŸ©é˜µç›¸ä¹˜</h2><h3 id="MIPSç­”æ¡ˆ-11"><a href="#MIPSç­”æ¡ˆ-11" class="headerlink" title="MIPSç­”æ¡ˆ"></a>MIPSç­”æ¡ˆ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><code class="hljs assembly">.data<br>A:.space 256 # 8 * 8 * 4<br>B:.space 256<br>C:.space 256<br>enter: .word &#x27;\n&#x27;<br>space: .word &#x27; &#x27; <br>.macro done<br>li $v0, 10<br>syscall<br>.end_macro<br><br>.macro inputInt(%int)<br>li $v0, 5<br>syscall<br>move %int, $v0<br>.end_macro<br><br>.macro printInt(%int)<br>li $v0, 1<br>move $a0, %int<br>syscall<br>.end_macro<br><br>.macro printStr(%str)<br>li $v0, 4<br>la $a0, %str<br>syscall<br>.end_macro<br><br>.macro for_begin(%startLabel, %endLabel, %i, %start, %end)<br>move %i, %start<br>%startLabel:<br>beq %i, %end, %endLabel<br>.end_macro<br><br>.macro for_end(%startLabel, %endLabel, %i)<br>addi %i, %i, 1<br>j %startLabel<br>%endLabel:<br>.end_macro<br><br># value = arr[i][k]<br>.macro load_arr(%arr, %i, %k, %value)<br>sll $t9, %i, 3 # $t9 = i * 8<br>add $t9, $t9, %k<br>sll $t9, $t9, 2 <br>lw %value, %arr($t9)<br>.end_macro<br><br># arr[i][k] = value<br>.macro store_arr(%arr, %i, %k, %value)<br>sll $t9, %i, 3 # $t9 = i * 8<br>add $t9, $t9, %k<br>sll $t9, $t9, 2 <br>sw %value, %arr($t9)<br>.end_macro<br><br>.eqv n, $s0<br>.eqv i, $t0<br>.eqv k, $t1<br>.eqv f, $t2<br>.eqv temp, $t3<br>.eqv temp1, $t4<br>.eqv temp2, $t5<br>.eqv temp0, $t6<br>.text<br>inputInt(n)<br>for_begin(start1, end1, i, $0, n)<br>for_begin(start2, end2, k, $0, n)<br>inputInt(temp)<br>store_arr(A,i,k,temp)<br>for_end(start2, end2, k)<br>for_end(start1,end1,i)<br><br>for_begin(start3, end3, i, $0, n)<br>for_begin(start4, end4, k, $0, n)<br>inputInt(temp)<br>store_arr(B,i,k,temp)<br>for_end(start4, end4, k)<br>for_end(start3,end3,i)<br><br>for_begin(start5,end5,i,$0,n)<br>for_begin(start6, end6, k, $0, n)<br>li temp, 0<br>for_begin(start7, end7, f, $0, n)<br>load_arr(A,i,f,temp1)<br>load_arr(B,f,k,temp2)<br>mult temp1, temp2<br>mflo temp0<br>add temp, temp, temp0<br>for_end(start7, end7, f)<br>store_arr(C,i,k,temp)<br>for_end(start6, end6, k)<br>for_end(start5,end5,i)<br><br>for_begin(start8, end8, i, $0, n)<br>for_begin(start9, end9, k, $0, n)<br>load_arr(C, i, k, temp)<br>printInt(temp)<br>printStr(space)<br>for_end(start9, end9, k)<br>printStr(enter)<br>for_end(start8, end8, i)<br><br>done<br></code></pre></td></tr></table></figure><h2 id="01è¿·å®«-å“ˆå¯†é¡¿å›è·¯"><a href="#01è¿·å®«-å“ˆå¯†é¡¿å›è·¯" class="headerlink" title="01è¿·å®«(å“ˆå¯†é¡¿å›è·¯)"></a>01è¿·å®«(å“ˆå¯†é¡¿å›è·¯)</h2><h3 id="åˆ†æ-1"><a href="#åˆ†æ-1" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><blockquote><p>é‡‡ç”¨<code>DFS</code>(æ·±åº¦ä¼˜å…ˆç®—æ³•),ä»èµ·ç‚¹å‡ºå‘,å‘å››ä¸ªæ–¹å‘å‰è¿›,å¹¶ä»¥æ²¡æœ‰åˆ°è¾¾è¿‡(<code>vis[i][j]==0</code>)ä»¥åŠä¸å­˜åœ¨éšœç¢(<code>puzzle[i][j]==1</code>)ä½œä¸ºå¯ä»¥å‰è¿›çš„åˆ¤æ–­ä¾æ®,åˆ°è¾¾ç»ˆç‚¹æ—¶å°†ansåŠ ä¸€æ“ä½œ.</p></blockquote><h3 id="Cè¯­è¨€ä»£ç -4"><a href="#Cè¯­è¨€ä»£ç -4" class="headerlink" title="Cè¯­è¨€ä»£ç "></a>Cè¯­è¨€ä»£ç </h3><blockquote><p>Cè¯­è¨€ä¸­ä¸å»ºè®®ä½¿ç”¨<code>goto</code>è¯­å¥,ä½†è¿™é‡Œä¸ºäº†ç¿»è¯‘æ–¹ä¾¿é‡‡ç”¨äº†è¯¥è¯­å¥</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><code class="hljs C"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> n;<br><span class="hljs-type">int</span> m;<br><span class="hljs-type">int</span> i;<br><span class="hljs-type">int</span> k;<br><span class="hljs-type">int</span> start_x;<br><span class="hljs-type">int</span> start_y;<br><span class="hljs-type">int</span> end_x;<br><span class="hljs-type">int</span> end_y;<br><span class="hljs-type">int</span> puzzle[<span class="hljs-number">8</span>][<span class="hljs-number">8</span>];<br><span class="hljs-type">int</span> vis[<span class="hljs-number">8</span>][<span class="hljs-number">8</span>];<br><span class="hljs-type">int</span> ans;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">solve</span><span class="hljs-params">(<span class="hljs-type">int</span> curr_x, <span class="hljs-type">int</span> curr_y)</span> &#123;<br>    <span class="hljs-keyword">if</span> (curr_x == end_x &amp;&amp; curr_y == end_y)&#123;<br>        ans += <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">return</span> ;<br>    &#125;<br><br>    <span class="hljs-comment">//up </span><br>    <span class="hljs-keyword">if</span> (curr_x == <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-keyword">goto</span> brk1;<br>    &#125;<br>    <span class="hljs-keyword">if</span> (vis[curr_x<span class="hljs-number">-1</span>][curr_y] == <span class="hljs-number">1</span>)&#123;<br>        <span class="hljs-keyword">goto</span> brk1;<br>    &#125;<br>    <span class="hljs-keyword">if</span> (puzzle[curr_x<span class="hljs-number">-1</span>][curr_y] == <span class="hljs-number">1</span>)&#123;<br>        <span class="hljs-keyword">goto</span> brk1;<br>    &#125;<br>    vis[curr_x<span class="hljs-number">-1</span>][curr_y] = <span class="hljs-number">1</span>;<br>    solve(curr_x<span class="hljs-number">-1</span>,curr_y);<br>    vis[curr_x<span class="hljs-number">-1</span>][curr_y] = <span class="hljs-number">0</span>;<br>    brk1:<br><br>    <span class="hljs-comment">//right</span><br>    <span class="hljs-keyword">if</span> (curr_y == m<span class="hljs-number">-1</span>) &#123;<br>        <span class="hljs-keyword">goto</span> brk2;<br>    &#125;<br>    <span class="hljs-keyword">if</span> (vis[curr_x][curr_y+<span class="hljs-number">1</span>] == <span class="hljs-number">1</span>)&#123;<br>        <span class="hljs-keyword">goto</span> brk2;<br>    &#125;<br>    <span class="hljs-keyword">if</span> (puzzle[curr_x][curr_y+<span class="hljs-number">1</span>] == <span class="hljs-number">1</span>)&#123;<br>        <span class="hljs-keyword">goto</span> brk2;<br>    &#125;<br>    vis[curr_x][curr_y+<span class="hljs-number">1</span>] = <span class="hljs-number">1</span>;<br>    solve(curr_x,curr_y+<span class="hljs-number">1</span>);<br>    vis[curr_x][curr_y+<span class="hljs-number">1</span>] = <span class="hljs-number">0</span>;<br>    brk2:<br><br>    <span class="hljs-comment">// down</span><br>    <span class="hljs-keyword">if</span> (curr_x == n<span class="hljs-number">-1</span>) &#123;<br>        <span class="hljs-keyword">goto</span> brk3;<br>    &#125;<br>    <span class="hljs-keyword">if</span> (vis[curr_x+<span class="hljs-number">1</span>][curr_y] == <span class="hljs-number">1</span>)&#123;<br>        <span class="hljs-keyword">goto</span> brk3;<br>    &#125;<br>    <span class="hljs-keyword">if</span> (puzzle[curr_x+<span class="hljs-number">1</span>][curr_y] == <span class="hljs-number">1</span>)&#123;<br>        <span class="hljs-keyword">goto</span> brk3;<br>    &#125;<br>    vis[curr_x+<span class="hljs-number">1</span>][curr_y] = <span class="hljs-number">1</span>;<br>    solve(curr_x+<span class="hljs-number">1</span>,curr_y);<br>    vis[curr_x+<span class="hljs-number">1</span>][curr_y] = <span class="hljs-number">0</span>;<br>    brk3:<br><br>    <span class="hljs-comment">//left</span><br>    <span class="hljs-keyword">if</span> (curr_y == <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-keyword">goto</span> brk4;<br>    &#125;<br>    <span class="hljs-keyword">if</span> (vis[curr_x][curr_y<span class="hljs-number">-1</span>] == <span class="hljs-number">1</span>)&#123;<br>        <span class="hljs-keyword">goto</span> brk4;<br>    &#125;<br>    <span class="hljs-keyword">if</span> (puzzle[curr_x][curr_y<span class="hljs-number">-1</span>] == <span class="hljs-number">1</span>)&#123;<br>        <span class="hljs-keyword">goto</span> brk4;<br>    &#125;<br>    vis[curr_x][curr_y<span class="hljs-number">-1</span>] = <span class="hljs-number">1</span>;<br>    solve(curr_x,curr_y<span class="hljs-number">-1</span>);<br>    vis[curr_x][curr_y<span class="hljs-number">-1</span>] = <span class="hljs-number">0</span>;<br><br>    brk4:<br><br>    <span class="hljs-keyword">return</span> ;<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;m);<br>    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>        <span class="hljs-keyword">for</span> (k = <span class="hljs-number">0</span>; k &lt; m; k++) &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;puzzle[i][k]);<br>        &#125;<br>    &#125;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;start_x);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;start_y);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;end_x);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;end_y);<br><br>    start_x -= <span class="hljs-number">1</span>;<br>    start_y -= <span class="hljs-number">1</span>;<br>    end_y -= <span class="hljs-number">1</span>;<br>    end_x -= <span class="hljs-number">1</span>;<br>    vis[start_x][start_y] = <span class="hljs-number">1</span>;<br>    solve(start_x,start_y);<br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, ans);<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="MIPSç­”æ¡ˆ-12"><a href="#MIPSç­”æ¡ˆ-12" class="headerlink" title="MIPSç­”æ¡ˆ"></a>MIPSç­”æ¡ˆ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br></pre></td><td class="code"><pre><code class="hljs assembly">.data<br>puzzle:.space 256 # 8 * 8 * 4<br>vis:.space 256<br><br>.macro done<br>li $v0, 10<br>syscall<br>.end_macro<br><br>.macro push(%x)<br>subi $sp, $sp, 4<br>sw %x, 0($sp)<br>.end_macro<br><br>.macro pop(%x)<br>lw %x, 0($sp)<br>addi $sp, $sp, 4<br>.end_macro<br><br>.macro inputInt(%int)<br>li $v0, 5<br>syscall<br>move %int, $v0<br>.end_macro<br><br>.macro printInt(%int)<br>li $v0, 1<br>move $a0, %int<br>syscall<br>.end_macro<br><br>.macro printStr(%str)<br>li $v0, 4<br>la $a0, %str<br>syscall<br>.end_macro<br><br>.macro for_begin(%startLabel, %endLabel, %i, %start, %end)<br>move %i, %start<br>%startLabel:<br>beq %i, %end, %endLabel<br>.end_macro<br><br>.macro for_end(%startLabel, %endLabel, %i)<br>addi %i, %i, 1<br>j %startLabel<br>%endLabel:<br>.end_macro<br><br>.macro load_arr(%arr, %i, %k, %value)<br>sll $t9, %i, 3<br>add $t9, $t9, %k<br>sll $t9, $t9, 2<br>lw %value, %arr($t9)<br>.end_macro<br><br>.macro store_arr(%arr, %i, %k, %value)<br>sll $t9, %i, 3<br>add $t9, $t9, %k<br>sll $t9, $t9, 2<br>sw %value, %arr($t9)<br>.end_macro<br><br>.eqv n, $s0<br>.eqv m, $s1<br>.eqv start_x, $s2<br>.eqv start_y, $s3<br>.eqv end_x, $s4<br>.eqv end_y, $s5<br>.eqv ans, $s6<br>.eqv one, $s7<br><br>.eqv i, $t0<br>.eqv k, $t1<br>.eqv temp, $t2<br>.eqv curr_x, $t3<br>.eqv curr_y, $t4<br>.eqv temp1, $t5<br><br>.text<br>li one, 1<br><br>inputInt(n)<br>inputInt(m)<br>for_begin(start1, end1, i, $0, n)<br>for_begin(start2, end2, k, $0, m)<br>inputInt(temp)<br>store_arr(puzzle, i, k, temp)<br>for_end(start2, end2, k)<br>for_end(start1, end1, i)<br><br>inputInt(start_x)<br>inputInt(start_y)<br>inputInt(end_x)<br>inputInt(end_y)<br><br>subi start_x, start_x, 1<br>subi start_y, start_y, 1<br>subi end_x, end_x, 1<br>subi end_y, end_y, 1<br>move curr_x, start_x<br>move curr_y, start_y<br>store_arr(vis, curr_x, curr_y, one)<br>jal solve<br><br><br>printInt(ans)<br><br>done<br><br>solve:<br>push($ra)<br>bne curr_x, end_x, skip<br>bne curr_y, end_y, skip<br>addi ans, ans, 1<br>pop($ra)<br>jr $ra<br>skip:<br>beqz curr_x, brk1<br>subi temp1, curr_x, 1<br>load_arr(vis, temp1, curr_y, temp)<br>beq temp, one, brk1<br>load_arr(puzzle, temp1, curr_y, temp)<br>beq temp, one, brk1<br><br>store_arr(vis, temp1, curr_y, one)<br>push(curr_x)<br>push(curr_y)<br>subi curr_x, curr_x, 1<br>jal solve<br>pop(curr_y)<br>pop(curr_x)<br>subi temp1, curr_x, 1<br>store_arr(vis, temp1, curr_y, $0)<br>brk1:<br>addi temp1, curr_y, 1<br>beq temp1, m, brk2<br>load_arr(vis, curr_x, temp1, temp)<br>beq temp, one, brk2<br>load_arr(puzzle, curr_x, temp1, temp)<br>beq temp, one, brk2<br><br>store_arr(vis, curr_x, temp1, one)<br>push(curr_x)<br>push(curr_y)<br>addi curr_y, curr_y, 1<br>jal solve<br>pop(curr_y)<br>pop(curr_x)<br>addi temp1, curr_y, 1<br>store_arr(vis, curr_x, temp1, $0)<br>brk2:<br>addi temp1, curr_x, 1<br>beq temp1, n, brk3<br>load_arr(vis, temp1, curr_y, temp)<br>beq temp, one, brk3<br>load_arr(puzzle, temp1, curr_y, temp)<br>beq temp, one, brk3<br><br>store_arr(vis, temp1, curr_y, one)<br>push(curr_x)<br>push(curr_y)<br>addi curr_x, curr_x, 1<br>jal solve<br>pop(curr_y)<br>pop(curr_x)<br>addi temp1, curr_x, 1<br>store_arr(vis, temp1, curr_y, $0)<br>brk3:<br>beqz curr_y, brk4<br>subi temp1, curr_y, 1<br>load_arr(vis, curr_x, temp1, temp)<br>beq temp, one, brk4<br>load_arr(puzzle, curr_x, temp1, temp)<br>beq temp, one, brk4<br><br>store_arr(vis, curr_x, temp1, one)<br>push(curr_x)<br>push(curr_y)<br>subi curr_y, curr_y, 1<br>jal solve<br>pop(curr_y)<br>pop(curr_x)<br>subi temp1, curr_y, 1<br>store_arr(vis, curr_x, temp1, $0)<br>brk4:<br><br>pop($ra)<br>jr $ra<br></code></pre></td></tr></table></figure><h3 id="æ˜“é”™ç‚¹-4"><a href="#æ˜“é”™ç‚¹-4" class="headerlink" title="æ˜“é”™ç‚¹"></a>æ˜“é”™ç‚¹</h3><ul><li>å½“è°ƒç”¨é€’å½’å‡½æ•°æ—¶,è‹¥å‡½æ•°ä¸­å¯èƒ½å‡ºç°å¤šæ¬¡é€’å½’,æˆ‘ä»¬å¿…é¡»å°†:<ul><li>ä½œä¸ºå‡½æ•°å‚æ•°çš„å¯„å­˜å™¨å…¥æ ˆå†è°ƒç”¨é€’å½’å‡½æ•°,é€€å‡ºé€’å½’åå†é€€æ ˆ,ä¿æŒå‡½æ•°å‚æ•°ä¸å˜(<code>$a1,$a2,...</code>)</li><li>ç”¨æ¥è®°å½•çŠ¶æ€çš„æ•°ç»„åœ¨è°ƒç”¨é€’å½’å‡½æ•°å‰çš„ä¿®æ”¹,åº”å½“åœ¨é€€å‡ºé€’å½’åä¿®æ”¹å›åŸå€¼,æ¯”å¦‚æœ¬é¢˜ä¸­çš„<code>vis</code></li><li>è‹¥é€’å½’å‡ºç°åœ¨<code>for</code>å¾ªç¯,<code>while</code>å¾ªç¯ä¸­,å¿…é¡»å°†ä½œä¸ºå¾ªç¯å‚æ•°çš„<code>i,k</code>ç­‰å…¥æ ˆä¿å­˜,å…¶ä»–é€’å½’å‡½æ•°ä¸­ä¼šä¿®æ”¹çš„å¯„å­˜å™¨åŒç†(<code>$t0,$t1,...</code>)</li></ul></li></ul><h2 id="çŸ©é˜µå·ç§¯"><a href="#çŸ©é˜µå·ç§¯" class="headerlink" title="çŸ©é˜µå·ç§¯"></a>çŸ©é˜µå·ç§¯</h2><h3 id="Cè¯­è¨€ä»£ç -5"><a href="#Cè¯­è¨€ä»£ç -5" class="headerlink" title="Cè¯­è¨€ä»£ç "></a>Cè¯­è¨€ä»£ç </h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs C"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> A[<span class="hljs-number">100</span>][<span class="hljs-number">100</span>];<br><span class="hljs-type">int</span> B[<span class="hljs-number">100</span>][<span class="hljs-number">100</span>];<br><span class="hljs-type">int</span> C[<span class="hljs-number">100</span>][<span class="hljs-number">100</span>];<br><span class="hljs-type">int</span> temp;<br><span class="hljs-type">int</span> i;<br><span class="hljs-type">int</span> k;<br><span class="hljs-type">int</span> ii;<br><span class="hljs-type">int</span> kk;<br><span class="hljs-type">void</span> <span class="hljs-title function_">evolv</span><span class="hljs-params">(<span class="hljs-type">int</span> A[][<span class="hljs-number">100</span>], <span class="hljs-type">int</span> B[][<span class="hljs-number">100</span>], <span class="hljs-type">int</span> C[][<span class="hljs-number">100</span>], </span><br><span class="hljs-params">        <span class="hljs-type">int</span> m1, <span class="hljs-type">int</span> n1, <span class="hljs-type">int</span> m2, <span class="hljs-type">int</span> n2)</span> &#123;<br>    <span class="hljs-keyword">for</span>(i = <span class="hljs-number">0</span>; i &lt; m1 - m2 + <span class="hljs-number">1</span>; i++) &#123;<br>        <span class="hljs-keyword">for</span> (k = <span class="hljs-number">0</span>; k &lt; n1 - n2 + <span class="hljs-number">1</span>; k++) &#123;<br>            temp = <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">for</span> (ii = <span class="hljs-number">0</span>; ii &lt; m2; ii++) &#123;<br>                <span class="hljs-keyword">for</span> (kk = <span class="hljs-number">0</span>; kk &lt; n2; kk++) &#123;<br>                    <span class="hljs-comment">// printf(&quot;%d %d \n&quot;, ii + i, kk + k);</span><br>                    temp = temp + A[ii+i][kk+k] * B[ii][kk];<br>                &#125;<br>            &#125;<br>            C[i][k] = temp;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> ;<br>&#125;<br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br>    <span class="hljs-type">int</span> m1, n1, m2, n2;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;m1);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n1);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;m2);<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n2);<br><br>    <span class="hljs-keyword">for</span>(i = <span class="hljs-number">0</span>; i &lt; m1; i++) &#123;<br>        <span class="hljs-keyword">for</span> (k = <span class="hljs-number">0</span>; k &lt; n1; k++) &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;A[i][k]);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">for</span>(i = <span class="hljs-number">0</span>; i &lt; m2; i++) &#123;<br>        <span class="hljs-keyword">for</span> (k = <span class="hljs-number">0</span>; k &lt; n2; k++) &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;B[i][k]);<br>        &#125;<br>    &#125;<br><br>    evolv(A,B,C,m1,n1,m2,n2);<br><br>    <span class="hljs-keyword">for</span>(i = <span class="hljs-number">0</span>; i &lt; m1-m2+<span class="hljs-number">1</span>; i++)&#123;<br>        <span class="hljs-keyword">for</span> (k = <span class="hljs-number">0</span>; k &lt; n1-n2+<span class="hljs-number">1</span>; k++) &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, C[i][k]);<br>        &#125;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="MIPSç­”æ¡ˆ-13"><a href="#MIPSç­”æ¡ˆ-13" class="headerlink" title="MIPSç­”æ¡ˆ"></a>MIPSç­”æ¡ˆ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br></pre></td><td class="code"><pre><code class="hljs assembly">.data<br>A:.space 2000 # 10 * 10 * 4 = 400<br>B:.space 2000<br>C:.space 2000<br>enter: .word &#x27;\n&#x27;<br>space: .word &#x27; &#x27; <br><br>.macro done<br>li $v0, 10<br>syscall<br>.end_macro<br><br>.macro inputInt(%int)<br>li $v0, 5<br>syscall<br>move %int, $v0<br>.end_macro<br><br>.macro printInt(%int)<br>li $v0, 1<br>move $a0, %int<br>syscall<br>.end_macro<br><br>.macro printStr(%str)<br>li $v0, 4<br>la $a0, %str<br>syscall<br>.end_macro<br><br>.macro for_begin(%startLabel, %endLabel, %i, %start, %end)<br>move %i, %start<br>%startLabel:<br>beq %i, %end, %endLabel<br>.end_macro<br><br>.macro for_end(%startLabel, %endLabel, %i)<br>addi %i, %i, 1<br>j %startLabel<br>%endLabel:<br>.end_macro<br><br># value = arr[i][k]<br>.macro load_arr(%arr, %i, %k, %value)<br>sll $t9, %i, 4 # $t9 = i * 16<br>add $t9, $t9, %k<br>sll $t9, $t9, 2 <br>lw %value, %arr($t9)<br>.end_macro<br><br># arr[i][k] = value<br>.macro store_arr(%arr, %i, %k, %value)<br>sll $t9, %i, 4 # $t9 = i * 16<br>add $t9, $t9, %k<br>sll $t9, $t9, 2 <br>sw %value, %arr($t9)<br>.end_macro<br><br>.eqv n1, $s0<br>.eqv m1, $s1<br>.eqv m2, $s2<br>.eqv n2, $s3<br><br>.eqv m1_m2_1, $s4<br>.eqv n1_n2_1, $s5<br><br>.eqv i, $t0<br>.eqv k, $t1<br>.eqv temp3, $t2<br>.eqv temp, $t3<br>.eqv temp1, $t4<br>.eqv temp2, $t5<br>.eqv temp0, $t6<br>.eqv ii, $t7<br>.eqv kk, $t8<br><br>.text<br>inputInt(m1)#è¡Œæ•°<br>inputInt(n1)#åˆ—æ•°<br>inputInt(m2)<br>inputInt(n2)<br><br># è¯»å–å¾…å·ç§¯çŸ©é˜µ<br>for_begin(start1, end1, i, $0, m1)<br>for_begin(start2, end2, k, $0, n1)<br>inputInt(temp)<br>store_arr(A, i, k, temp)<br>for_end(start2, end2, k)<br>for_end(start1, end1, i)<br><br>#è¯»å–å·ç§¯æ ¸<br>for_begin(start3, end3, i, $0, m2)<br>for_begin(start4, end4, k, $0, n2)<br>inputInt(temp)<br>store_arr(B, i, k, temp)<br>for_end(start4, end4, k)<br>for_end(start3, end3, i)<br><br>#m1-m2+1<br>sub m1_m2_1, m1, m2<br>addi m1_m2_1, m1_m2_1, 1<br><br>sub n1_n2_1, n1, n2<br>addi n1_n2_1, n1_n2_1, 1<br><br>#å·ç§¯<br>for_begin(start5, end5, i, $0, m1_m2_1)<br>for_begin(start6, end6, k, $0, n1_n2_1)<br> li temp, 0<br> for_begin(start7, end7, ii, $0, m2)<br> for_begin(start8, end8, kk, $0, n2)<br> add temp3, ii, i<br> add temp0, kk, k<br> load_arr(A, temp3, temp0, temp1)<br> load_arr(B, ii, kk, temp2)<br> mult temp1, temp2<br> mflo temp0<br> add temp, temp, temp0<br> for_end(start8, end8, kk)<br> for_end(start7, end7, ii)<br> store_arr(C, i, k, temp)<br>for_end(start6,end6,k)<br>for_end(start5, end5, i)<br><br>#æ‰“å°å·ç§¯ç»“æœ<br>for_begin(start9, end9, i, $0, m1_m2_1)<br>for_begin(start10, end10, k, $0, n1_n2_1)<br>load_arr(C, i, k, temp)<br>printInt(temp)<br>printStr(space) <br>for_end(start10, end10, k)<br>printStr(enter)<br>for_end(start9,end9, i)<br><br>done<br><br></code></pre></td></tr></table></figure><h2 id="é«˜ç²¾åº¦é˜¶ä¹˜çš„è®¡ç®—"><a href="#é«˜ç²¾åº¦é˜¶ä¹˜çš„è®¡ç®—" class="headerlink" title="é«˜ç²¾åº¦é˜¶ä¹˜çš„è®¡ç®—"></a>é«˜ç²¾åº¦é˜¶ä¹˜çš„è®¡ç®—</h2><h3 id="Cè¯­è¨€ä»£ç -6"><a href="#Cè¯­è¨€ä»£ç -6" class="headerlink" title="Cè¯­è¨€ä»£ç "></a>Cè¯­è¨€ä»£ç </h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs C"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;stdio.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> MAX 10000</span><br><span class="hljs-type">int</span> f[MAX];<br><span class="hljs-type">void</span> <span class="hljs-title function_">Arr_reset</span><span class="hljs-params">(<span class="hljs-type">int</span> a[],<span class="hljs-type">int</span> m,<span class="hljs-type">int</span> n)</span><br>&#123;<br>    <span class="hljs-type">int</span> i;<br>    <span class="hljs-keyword">for</span>(i=m;i&lt;=n;i++)<br>    &#123;<br>        a[i]=<span class="hljs-number">0</span>;<br>    &#125;<br>&#125;<br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span><br>&#123;<br>    <span class="hljs-type">int</span> i,j,n;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;n);<br>    Arr_reset(f,<span class="hljs-number">0</span>,(<span class="hljs-keyword">sizeof</span>(f)/<span class="hljs-keyword">sizeof</span>(<span class="hljs-type">int</span>)));<span class="hljs-comment">//å¯¹æ•°ç»„è¿›è¡Œåˆå§‹åŒ–</span><br>    f[<span class="hljs-number">0</span>]=<span class="hljs-number">1</span>;<br>    <span class="hljs-type">int</span> jj= <span class="hljs-number">0</span> ;<br>    <span class="hljs-keyword">for</span>(i=<span class="hljs-number">2</span>;i&lt;=n;i++)<br>    &#123;<br>        <span class="hljs-comment">//ä¹˜ä»¥ i4</span><br>        <span class="hljs-type">int</span> c=<span class="hljs-number">0</span>;<br><br>        <span class="hljs-keyword">for</span>(j=<span class="hljs-number">0</span>;j&lt;=jj;j++)<span class="hljs-comment">//æœ€ä¸æ˜“ç†è§£çš„</span><br>        &#123;<br>            <span class="hljs-type">int</span> s=f[j]*i+c;<br>            f[j]=s%<span class="hljs-number">10</span>;<br>            c=s/<span class="hljs-number">10</span>;<br>            <span class="hljs-keyword">if</span> (j == jj &amp;&amp; c != <span class="hljs-number">0</span>)&#123;<br>                jj++;<br>            &#125;<br>            <span class="hljs-comment">//ç®—å‡ºçš„ s æ˜¯å•ä½æ•°æ—¶ï¼Œä¼šè¿ç»­è¦†ç›– f[0]</span><br>            <span class="hljs-comment">//å¦åˆ™ä¸€ä¸ªå¤šä½æ•°ä¼šå€’è¿‡æ¥å­˜å‚¨ï¼Œå¦‚ 123ï¼Œf[0]å­˜ 3ï¼Œf[1]å­˜ 2ï¼Œf[3]å­˜ 1</span><br>            <span class="hljs-comment">//å› æ­¤ä¸Šå¼å…ˆæ±‚ä½™ï¼Œåœ¨æ±‚æ¨¡</span><br>        &#125;<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;jj=%d\n&quot;</span>, jj);<br>    <span class="hljs-keyword">for</span>(j=MAX<span class="hljs-number">-1</span>;j&gt;=<span class="hljs-number">0</span>;j--)<br>        <span class="hljs-keyword">if</span>(f[j])<br>            <span class="hljs-keyword">break</span>;<span class="hljs-comment">//å¿½ç•¥å‰å¯¼ 0</span><br>    <span class="hljs-keyword">for</span>(i=j;i&gt;=<span class="hljs-number">0</span>;i--)<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>,f[i]);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="MIPSç­”æ¡ˆ-14"><a href="#MIPSç­”æ¡ˆ-14" class="headerlink" title="MIPSç­”æ¡ˆ"></a>MIPSç­”æ¡ˆ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><code class="hljs assembly">.data<br>a:.space 4000<br>enter:.word &#x27;\n&#x27;<br><br>.macro done<br>li $v0, 10<br>syscall<br>.end_macro<br><br>.macro inputInt(%int)<br>li $v0, 5<br>syscall<br>move %int, $v0<br>.end_macro<br><br>.macro printInt(%int)<br>li $v0, 1<br>move $a0, %int<br>syscall<br>.end_macro<br><br>.macro printStr(%str)<br>li $v0, 4<br>la $a0, %str<br>syscall<br>.end_macro<br><br>.macro for_begin(%startLabel, %endLabel, %i, %start, %end)<br>move %i, %start<br>%startLabel:<br>beq %i, %end, %endLabel<br>.end_macro<br><br>.macro for_c_begin(%startLabel, %endLabel, %i, %start, %end)<br>move %i, %start<br>%startLabel:<br>bgt %i, %end, %endLabel<br>.end_macro<br><br>.macro for_decrease_begin(%startLabel, %endLabel, %i, %start, %end)<br>li %i, %start<br>subi %i, %i, 1<br>%startLabel:<br>blt %i, %end, %endLabel<br>.end_macro<br><br>.macro for_decrease_c_begin(%startLabel, %endLabel, %i, %start, %end)<br>move %i, %start<br>%startLabel:<br>blt %i, %end, %endLabel<br>.end_macro<br><br>.macro for_decrease_end(%startLabel, %endLabel, %i)<br>subi %i, %i, 1<br>j %startLabel<br>%endLabel:<br>.end_macro<br><br>.macro for_end(%startLabel, %endLabel, %i)<br>addi %i, %i, 1<br>j %startLabel<br>%endLabel:<br>.end_macro<br><br>.macro load_arr(%arr, %index, %value)<br>sll $t9, %index, 2<br>lw %value, %arr($t9)<br>.end_macro<br><br>.macro store_arr(%arr, %index, %value)<br>sll $t9, %index, 2<br>sw %value, %arr($t9)<br>.end_macro<br><br><br>.eqv i, $t0<br>.eqv k, $t1<br>.eqv s, $t2<br>.eqv temp, $t3<br>.eqv c, $t4<br>.eqv jj, $t5<br>.eqv n, $s0<br>.eqv two, $s1<br>.eqv ten, $s2<br>.eqv max, $s3<br>.eqv one, $s4<br>.eqv MAX, 1000<br><br>.text<br>li one, 1<br>li two, 2<br>li ten, 10<br>li max, MAX<br>#for_c_begin(start0, end0, i, $0, MAX)<br>#store_arr(a, i, 0)<br>#for_end(start0, end0, i)<br><br>inputInt(n)<br>store_arr(a, $0, one)<br>li jj, 0<br>for_c_begin(start1, end1, i, two, n) # 2&lt;=i&lt;=n<br>li c, 0<br>for_c_begin(start2, end2, k, $0, jj)<br>load_arr(a, k, temp)<br>mult temp, i<br>mflo s<br>add s, s, c # s = a[k] * i + c<br>div s, ten<br>mfhi temp<br>mflo c # c = s / 10<br>store_arr(a, k, temp) # a[k] = s % 10<br>beqz c, skip<br>bne k, jj, skip<br>addi jj, jj, 1<br>skip: <br>for_end(start2, end2, k)<br>for_end(start1, end1, i)<br><br>for_decrease_c_begin(start4, end4, i, jj, $0) #k&gt;=i&gt;=0<br>load_arr(a, i, temp)<br>printInt(temp)<br>for_decrease_end(start4, end4, i)<br><br>printStr(enter)<br>done<br><br></code></pre></td></tr></table></figure><h3 id="æ˜“é”™ç‚¹-5"><a href="#æ˜“é”™ç‚¹-5" class="headerlink" title="æ˜“é”™ç‚¹"></a>æ˜“é”™ç‚¹</h3><ul><li>è¶…æ—¶é—®é¢˜,é¢˜ç›®æ‰€ç»™å­—ç¬¦ä¸²ä¸º1000,ä¸ºäº†é¿å…æ¯æ¬¡å¾ªç¯éƒ½è¦è¿›è¡Œ1000æ¬¡,æˆ‘ä»¬è®¾ç«‹ä¸€ä¸ªå‚æ•°<code>jj</code>,ç”¨æ¥è®°å½•è®¡ç®—ç­”æ¡ˆå¯èƒ½åˆ°è¾¾çš„æœ€é«˜ä½<ul><li>åˆå§‹,<code>jj</code>=0</li><li>åœ¨forå¾ªç¯ä¸­,è‹¥å¾ªç¯å‚æ•°<code>j</code>==<code>jj</code>,ä¸”æ­¤æ—¶å‘é«˜ä¸€ä½ä¼ é€’çš„æ•°ä¸ä¸º0(<code>c!=0</code>),åˆ™å¯¹<code>jj</code>åŠ ä¸€æ“ä½œ</li></ul></li><li><code>load_arr</code>ä¸<code>store_arr</code>ä¸­ä¸è¦ç”¨<code>mult</code>,è¿™æ ·æ¶‰åŠçš„å¯„å­˜å™¨ä¼šå¢å¤š,ä¸”æŒ‡ä»¤æ•°ä¼šæš´å¢,å¿…é¡»ç”¨<code>sll</code>.</li></ul><h1 id="ä¸Šæœº"><a href="#ä¸Šæœº" class="headerlink" title="ä¸Šæœº"></a>ä¸Šæœº</h1><h2 id="P2-Q1-å‘ç³–"><a href="#P2-Q1-å‘ç³–" class="headerlink" title="P2_Q1 å‘ç³–"></a>P2_Q1 å‘ç³–</h2><blockquote><p>å–Kä¸ªç³–,åˆ†å‘ç»™nä¸ªäºº,è¦æ±‚æ¯ä¸ªäººå¾—åˆ°çš„ç³–æœæ•°é‡ç›¸åŒ,å‰©ä¸‹ç³–æœè‹¥ä¸å¤Ÿç»™æ¯ä¸ªäººå‘ä¸€ä¸ª,åˆ™è§†ä¸ºå‰©ä½™çš„ç³–æœ.ç°è¦æ±‚$L\leq K\leq R$,ä¿è¯nä¸ªäººèƒ½å¾—åˆ°çš„ç³–æœæœ€å¤š,åŒæ—¶å‰©ä½™çš„ç³–æœæœ€å°‘.åªè¾“å‡ºå‰©ä½™çš„ç³–æœæ•°é‡.</p></blockquote><h3 id="æ€è·¯-3"><a href="#æ€è·¯-3" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><blockquote><p>è‹¥Lå’ŒRèƒ½å‘ç»™åŒå­¦çš„æ•°é‡ç›¸åŒ,å³$\lfloor \frac{L}{n}\rfloor=\lfloor \frac{R}{n}\rfloor$,åˆ™Kå–æœ€å°å€¼å³å¯,æ­¤æ—¶å‰©ä½™ç³–æœæ•°é‡ä¸º$L\%n$,è‹¥è‹¥Lå’ŒRèƒ½å‘ç»™åŒå­¦çš„æ•°é‡ä¸ç›¸åŒ,åˆ™Kå–$\lfloor \frac{R}{n}\rfloor\times n$ä¸ª,å‰©ä½™ç³–æœæ•°é‡ä¸€å®šä¸º0</p></blockquote><h3 id="Cè¯­è¨€"><a href="#Cè¯­è¨€" class="headerlink" title="Cè¯­è¨€"></a>Cè¯­è¨€</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs C"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">int</span> n, L, R;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d %d %d&quot;</span>, &amp;n, &amp;L, &amp;R);<br>    <span class="hljs-keyword">if</span> (L / n == R / n) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, L % n);<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;0&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="P2-Q2-æ¬§æ‹‰ç­›"><a href="#P2-Q2-æ¬§æ‹‰ç­›" class="headerlink" title="P2_Q2 æ¬§æ‹‰ç­›"></a>P2_Q2 æ¬§æ‹‰ç­›</h2><blockquote><p>åˆ©ç”¨æ¬§æ‹‰ç­›åˆ¤æ–­næ˜¯å¦ä¸ºç´ æ•°</p></blockquote><h2 id="P2-Q3-æœ‰å‘å›¾dfs"><a href="#P2-Q3-æœ‰å‘å›¾dfs" class="headerlink" title="P2_Q3  æœ‰å‘å›¾dfs"></a>P2_Q3  æœ‰å‘å›¾dfs</h2><blockquote><p>è¾“å…¥ä¸€ä¸ªæœ‰å‘å›¾,è¾“å‡ºä»ä¸€ä¸ªè§„å®šèµ·ç‚¹å‡ºå‘èƒ½æ‰¾åˆ°çš„æ­»è§’(å‡ºåº¦ä¸º0çš„ç‚¹)ä¸ªæ•°,èµ·ç‚¹ä¸ºæ­»è§’åˆ™è¾“å‡º0</p></blockquote><h3 id="æ˜“é”™ç‚¹-6"><a href="#æ˜“é”™ç‚¹-6" class="headerlink" title="æ˜“é”™ç‚¹"></a>æ˜“é”™ç‚¹</h3><blockquote><p>è¿™é“é¢˜åªæ˜¯ä¸€ä¸ªç¿»è¯‘é¢˜,è€ƒå¯Ÿå¯¹é€’å½’å‡½æ•°çš„ä½¿ç”¨,ä½†ä¸Šçº§æ—¶å‡ºç°äº†ä¸€äº›ç»†èŠ‚ä¸Šçš„é”™è¯¯:</p><ul><li>å¯„å­˜å™¨é‡å¤èµ‹åˆ«å,å¯¼è‡´äº†å¤šä¸ªå˜é‡å…±ç”¨ä¸€ä¸ªå¯„å­˜å™¨,è¿è¡Œç»“æœä¸­å‡ºç°äº†è¶…æ—¶çš„é—®é¢˜,å¾ˆé—æ†¾æ²¡èƒ½æ—©ç‚¹å‘ç°forå¾ªç¯çš„å‚æ•°å’Œåˆ«çš„å˜é‡å¼„æ··äº†.</li><li>å®ä¸­çš„å˜é‡æ²¡æœ‰ç”¨%ä½œä¸ºå‰ç¼€,å¯¼è‡´äº†æœ¬è¯¥æ˜¯<code>%arr</code>çš„åœ°æ–¹å‡ºç°äº†<code>arr</code>,è°ƒç”¨å®æ—¶æŒ‡å‘äº†é”™è¯¯æ•°ç»„åœ°å€</li></ul></blockquote>]]></content>
    
    
    
    <tags>
      
      <tag>CO</tag>
      
      <tag>MIPS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¹¶æŸ¥é›†</title>
    <link href="/2024/10/06/%E5%B9%B6%E6%9F%A5%E9%9B%86/"/>
    <url>/2024/10/06/%E5%B9%B6%E6%9F%A5%E9%9B%86/</url>
    
    <content type="html"><![CDATA[<h1 id="ç”¨é€”"><a href="#ç”¨é€”" class="headerlink" title="ç”¨é€”"></a>ç”¨é€”</h1><blockquote><p>ç®¡ç†å…ƒç´ æ‰€å±é›†åˆçš„æ•°æ®ç»“æ„,å®ç°ä¸ºä¸€ä¸ªæ£®æ—,å…¶ä¸­æ¯æ£µæ ‘è¡¨ç¤ºä¸€ä¸ªé›†åˆ,æ ‘ä¸­çš„èŠ‚ç‚¹å¯¹åº”é›†åˆä¸­çš„å…ƒç´ .å…¶æ”¯æŒä¸¤ç§æ“ä½œ:</p><ul><li>åˆå¹¶:åˆå¹¶ä¸¤ä¸ªå…ƒç´ æ‰€å±é›†åˆ</li><li>æŸ¥è¯¢:æŸ¥è¯¢æŸä¸ªå…ƒç´ æ‰€å±é›†åˆ</li></ul></blockquote><h2 id="æ¨¡æ¿"><a href="#æ¨¡æ¿" class="headerlink" title="æ¨¡æ¿"></a>æ¨¡æ¿</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span>[] pre;<br><span class="hljs-comment">// ä¸Šçº§æ•°ç»„åˆå§‹åŒ–</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> &#123;<br>    pre = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[n];<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>        pre[i] = i;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// å¯»æ‰¾ä¸Šçº§,å¹¶å°†ä¸Šä¸€çº§ä¿®æ”¹ä¸ºæœ€é«˜çš„ä¸€çº§</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">findPre</span><span class="hljs-params">(<span class="hljs-type">int</span> key)</span> &#123;<br>    <span class="hljs-keyword">if</span> (pre[key] == key) &#123;<br>        <span class="hljs-keyword">return</span> key;<br>    &#125;<br>    <span class="hljs-keyword">return</span> pre[key] = findPre(pre[key]);<br>&#125;<br><br><span class="hljs-comment">// è”åˆä¸¤ä¸ªèŠ‚ç‚¹,ä½¿å…¶æ‹¥æœ‰å…±åŒçš„ä¸Šçº§</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">unite</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y)</span> &#123;<br>    <span class="hljs-type">int</span> <span class="hljs-variable">rootx</span> <span class="hljs-operator">=</span> findPre(x);<br>    <span class="hljs-type">int</span> <span class="hljs-variable">rooty</span> <span class="hljs-operator">=</span> findPre(y);<br>    <span class="hljs-keyword">if</span> (rootx != rooty) &#123;<br>        pre[rootx] = rooty;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Verilogè°ƒè¯•ç³»ç»Ÿä»»åŠ¡å’Œç¼–è¯‘é¢„å¤„ç†è¯­å¥</title>
    <link href="/2024/10/05/Verilog%E8%B0%83%E8%AF%95%E7%B3%BB%E7%BB%9F%E4%BB%BB%E5%8A%A1%E5%92%8C%E7%BC%96%E8%AF%91%E9%A2%84%E5%A4%84%E7%90%86%E8%AF%AD%E5%8F%A5/"/>
    <url>/2024/10/05/Verilog%E8%B0%83%E8%AF%95%E7%B3%BB%E7%BB%9F%E4%BB%BB%E5%8A%A1%E5%92%8C%E7%BC%96%E8%AF%91%E9%A2%84%E5%A4%84%E7%90%86%E8%AF%AD%E5%8F%A5/</url>
    
    <content type="html"><![CDATA[<h2 id="monitor"><a href="#monitor" class="headerlink" title="$monitor"></a>$monitor</h2><p>ç›‘è§†è¢«æµ‹è¯•æ¨¡å—çš„æ‰€æœ‰æ„Ÿå…´è¶£çš„ä¿¡å·.</p><h2 id="monitor-p1-p2-â€¦pn"><a href="#monitor-p1-p2-â€¦pn" class="headerlink" title="$monitor(p1,p2,â€¦pn)"></a>$monitor(p1,p2,â€¦pn)</h2><p>æŒ‰ç…§æ ¼å¼å­—ç¬¦ä¸²æ‰“å°ä¿¡å·</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-built_in">$monitor</span>(<span class="hljs-built_in">$time</span>, ,<span class="hljs-string">&quot;rxd=%b txd=%b&quot;</span>,rxd,txd);<br></code></pre></td></tr></table></figure><h2 id="monitor-on-monitor-off"><a href="#monitor-on-monitor-off" class="headerlink" title="$monitor on/ monitor off"></a>$monitor on/ monitor off</h2><p>å¯åŠ¨/å…³é—­ç›‘æ§ä»»åŠ¡</p><h2 id="time"><a href="#time" class="headerlink" title="$time"></a>$time</h2><p>è¿”å›ä¸€ä¸ª64ä½çš„æ•´æ•°æ¥è¡¨ç¤ºå½“å‰çš„ä»¿çœŸæ—¶åˆ»å€¼(æ€»æ˜¯è¾“å‡ºæ•´æ•°)</p><h2 id="realtime"><a href="#realtime" class="headerlink" title="$realtime"></a>$realtime</h2><p>å’Œ$timeä½œç”¨ç›¸ä¼¼,è¿”å›çš„æ˜¯å®å‹æ•°</p><h2 id="finish"><a href="#finish" class="headerlink" title="$finish"></a>$finish</h2><p>é€€å‡ºä»¿çœŸå™¨,è¿”å›ä¸»æ“ä½œç³»ç»Ÿ</p><h2 id="stop"><a href="#stop" class="headerlink" title="$stop"></a>$stop</h2><p>å°†EDAå·¥å…·ç½®ä¸ºæš‚åœæ¨¡å¼</p><h2 id="readmemb"><a href="#readmemb" class="headerlink" title="$readmemb"></a>$readmemb</h2><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-built_in">$readmemb</span>(<span class="hljs-string">&quot;&lt;æ•°æ®æ–‡ä»¶å&gt;&quot;</span>,&lt;å­˜å‚¨å™¨å&gt;);<br><span class="hljs-built_in">$readmemb</span>(<span class="hljs-string">&quot;&lt;æ•°æ®æ–‡ä»¶å&gt;&quot;</span>,&lt;å­˜å‚¨å™¨å&gt;,&lt;èµ·å§‹åœ°å€&gt;);<br><span class="hljs-built_in">$readmemb</span>(<span class="hljs-string">&quot;&lt;æ•°æ®æ–‡ä»¶å&gt;&quot;</span>,&lt;å­˜å‚¨å™¨å&gt;,&lt;èµ·å§‹åœ°å€&gt;,&lt;ç»“æŸåœ°å€&gt;);<br><span class="hljs-built_in">$readmemh</span>(<span class="hljs-string">&quot;&lt;æ•°æ®æ–‡ä»¶å&gt;&quot;</span>,&lt;å­˜å‚¨å™¨å&gt;);<br><span class="hljs-built_in">$readmemh</span>(<span class="hljs-string">&quot;&lt;æ•°æ®æ–‡ä»¶å&gt;&quot;</span>,&lt;å­˜å‚¨å™¨å&gt;,&lt;èµ·å§‹åœ°å€&gt;);<br><span class="hljs-built_in">$readmemh</span>(<span class="hljs-string">&quot;&lt;æ•°æ®æ–‡ä»¶å&gt;&quot;</span>,&lt;å­˜å‚¨å™¨å&gt;,&lt;èµ·å§‹åœ°å€&gt;,&lt;ç»“æŸåœ°å€&gt;);<br></code></pre></td></tr></table></figure><p>è¯»å–æ•°æ®æ–‡ä»¶,å…¶ä¸­<code>readmemb</code>è¯»å–çš„æ•°å­—å¿…é¡»æ˜¯äºŒè¿›åˆ¶,<code>readmemh</code>è¯»å–çš„æ•°å­—å¿…é¡»æ˜¯åå…­è¿›åˆ¶.</p><h2 id="random"><a href="#random" class="headerlink" title="$random"></a>$random</h2><p>äº§ç”Ÿéšæœºæ•°</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">reg</span>[<span class="hljs-number">23</span>:<span class="hljs-number">0</span>] <span class="hljs-keyword">rand</span><br><span class="hljs-keyword">rand</span> = <span class="hljs-built_in">$random</span> % <span class="hljs-number">60</span>;<br><span class="hljs-comment">// äº§ç”Ÿä¸€ä¸ª[-59,59]å†…çš„éšæœºæ•°</span><br></code></pre></td></tr></table></figure><h1 id="ç¼–è¯‘é¢„å¤„ç†"><a href="#ç¼–è¯‘é¢„å¤„ç†" class="headerlink" title="ç¼–è¯‘é¢„å¤„ç†"></a>ç¼–è¯‘é¢„å¤„ç†</h1><h2 id="define"><a href="#define" class="headerlink" title="`define"></a>`define</h2><p>ç”¨ä¸€ä¸ªæŒ‡å®šçš„æ ‡è¯†ç¬¦(å³åå­—)æ¥ä»£è¡¨ä¸€ä¸ªå­—ç¬¦ä¸²</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-meta">`<span class="hljs-keyword">define</span> æ ‡è¯†ç¬¦(å®å) å­—ç¬¦ä¸²(å®å†…å®¹)</span><br></code></pre></td></tr></table></figure><p>ä¾‹:</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> test;<br>    <span class="hljs-keyword">reg</span> a,b,c,d,e,out;<br><span class="hljs-meta">`<span class="hljs-keyword">define</span> expression a + b + c + d</span><br>    <span class="hljs-keyword">assign</span> out = `expression + e;<br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure><h2 id="timescale"><a href="#timescale" class="headerlink" title="`timescale"></a>`timescale</h2><p>è¯´æ˜åœ¨è¯¥å‘½ä»¤åçš„æ¨¡å—çš„äº‹ä»¶å•ä½å’Œæ—¶é—´ç²¾åº¦</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-meta">`<span class="hljs-keyword">timescale</span> &lt;æ—¶é—´å•ä½&gt;/&lt;æ—¶é—´ç²¾åº¦&gt;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>CO</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£åŒå‘¨èµ›140</title>
    <link href="/2024/09/29/%E5%8A%9B%E6%89%A3%E5%8F%8C%E5%91%A8%E8%B5%9B140/"/>
    <url>/2024/09/29/%E5%8A%9B%E6%89%A3%E5%8F%8C%E5%91%A8%E8%B5%9B140/</url>
    
    <content type="html"><![CDATA[<h1 id="T1-æ›¿æ¢ä¸ºæ•°ä½å’Œä»¥åçš„æœ€å°å…ƒç´ "><a href="#T1-æ›¿æ¢ä¸ºæ•°ä½å’Œä»¥åçš„æœ€å°å…ƒç´ " class="headerlink" title="T1:æ›¿æ¢ä¸ºæ•°ä½å’Œä»¥åçš„æœ€å°å…ƒç´ "></a>T1:<a href="https://leetcode.cn/problems/minimum-element-after-replacement-with-digit-sum/">æ›¿æ¢ä¸ºæ•°ä½å’Œä»¥åçš„æœ€å°å…ƒç´ </a></h1><blockquote><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code> ã€‚</p><p>è¯·ä½ å°† <code>nums</code> ä¸­æ¯ä¸€ä¸ªå…ƒç´ éƒ½æ›¿æ¢ä¸ºå®ƒçš„å„ä¸ªæ•°ä½ä¹‹ <strong>å’Œ</strong> ã€‚</p><p>è¯·ä½ è¿”å›æ›¿æ¢æ‰€æœ‰å…ƒç´ ä»¥å <code>nums</code> ä¸­çš„ <strong>æœ€å°</strong> å…ƒç´ ã€‚</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">minElement</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        ans = inf<br>        <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> nums:<br>            tmp = <span class="hljs-number">0</span><br>            <span class="hljs-keyword">while</span> x:<br>                tmp += x % <span class="hljs-number">10</span><br>                x= x//<span class="hljs-number">10</span><br>            ans = <span class="hljs-built_in">min</span>(ans, tmp)<br>        <span class="hljs-keyword">return</span> ans<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">minElement</span><span class="hljs-params">(<span class="hljs-type">int</span>[] nums)</span> &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">ans</span> <span class="hljs-operator">=</span> Integer.MAX_VALUE;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> x : nums) &#123;<br>            <span class="hljs-type">int</span> <span class="hljs-variable">tmp</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">while</span> (x &gt; <span class="hljs-number">0</span>) &#123;<br>                tmp += x % <span class="hljs-number">10</span>;<br>                x /= <span class="hljs-number">10</span>;<br>            &#125;<br>            ans = Integer.min(ans, tmp);<br>        &#125;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="T2-é«˜åº¦äº’ä¸ç›¸åŒçš„æœ€å¤§å¡”é«˜å’Œ"><a href="#T2-é«˜åº¦äº’ä¸ç›¸åŒçš„æœ€å¤§å¡”é«˜å’Œ" class="headerlink" title="T2:é«˜åº¦äº’ä¸ç›¸åŒçš„æœ€å¤§å¡”é«˜å’Œ"></a>T2:<a href="https://leetcode.cn/problems/maximize-the-total-height-of-unique-towers/">é«˜åº¦äº’ä¸ç›¸åŒçš„æœ€å¤§å¡”é«˜å’Œ</a></h1><blockquote><p>ç»™ä½ ä¸€ä¸ªæ•°ç»„ <code>maximumHeight</code> ï¼Œå…¶ä¸­ <code>maximumHeight[i]</code> è¡¨ç¤ºç¬¬ <code>i</code> åº§å¡”å¯ä»¥è¾¾åˆ°çš„ <strong>æœ€å¤§</strong> é«˜åº¦ã€‚</p><p>ä½ çš„ä»»åŠ¡æ˜¯ç»™æ¯ä¸€åº§å¡”åˆ†åˆ«è®¾ç½®ä¸€ä¸ªé«˜åº¦ï¼Œä½¿å¾—ï¼š</p><ol><li>ç¬¬ <code>i</code> åº§å¡”çš„é«˜åº¦æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼Œä¸”ä¸è¶…è¿‡ <code>maximumHeight[i]</code> ã€‚</li><li>æ‰€æœ‰å¡”çš„é«˜åº¦äº’ä¸ç›¸åŒã€‚</li></ol><p>è¯·ä½ è¿”å›è®¾ç½®å®Œæ‰€æœ‰å¡”çš„é«˜åº¦åï¼Œå¯ä»¥è¾¾åˆ°çš„ <strong>æœ€å¤§</strong> æ€»é«˜åº¦ã€‚å¦‚æœæ²¡æœ‰åˆæ³•çš„è®¾ç½®ï¼Œè¿”å› <code>-1</code> ã€‚</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">maximumTotalSum</span>(<span class="hljs-params">self, maximumHeight: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        maximumHeight.sort(reverse = <span class="hljs-literal">True</span>)<br>        cnt = Counter(maximumHeight)<br>        ans = <span class="hljs-number">0</span><br>        curr = inf<br>        <span class="hljs-keyword">for</span> x, ct <span class="hljs-keyword">in</span> cnt.items():<br>            <span class="hljs-keyword">if</span> curr == inf:<br>                curr = x-ct<br>                <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(ct):<br>                    ans += x-i<br>                <span class="hljs-keyword">if</span> curr &lt; <span class="hljs-number">0</span>:<br>                    <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span><br>            <span class="hljs-keyword">else</span>:<br>                <span class="hljs-keyword">if</span> curr &lt;= x:<br>                    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(ct):<br>                        ans += curr - i <br>                    curr = curr-ct<br>                <span class="hljs-keyword">else</span>:<br>                    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(ct):<br>                        ans += x - i <br>                    curr = x-ct<br>                <span class="hljs-keyword">if</span> curr &lt; <span class="hljs-number">0</span>:<br>                    <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> ans<br><br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.*;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">long</span> <span class="hljs-title function_">maximumTotalSum</span><span class="hljs-params">(<span class="hljs-type">int</span>[] maximumHeight)</span> &#123;<br>        Arrays.sort(maximumHeight);<br>        <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> maximumHeight.length;<br>        <span class="hljs-type">int</span>[] b = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[n];<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>            b[i] = maximumHeight[n-i-<span class="hljs-number">1</span>];<br>        &#125;<br>        maximumHeight = b;<br>        LinkedHashMap&lt;Integer,Integer&gt; cnt = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedHashMap</span>&lt;&gt;();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> x : maximumHeight) &#123;<br>            <span class="hljs-keyword">if</span> (cnt.containsKey(x)) &#123;<br>                cnt.put(x,cnt.get(x)+<span class="hljs-number">1</span>);<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                cnt.put(x,<span class="hljs-number">1</span>);<br>            &#125;<br>        &#125;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">curr</span> <span class="hljs-operator">=</span> Integer.MAX_VALUE;<br>        <span class="hljs-type">long</span> <span class="hljs-variable">ans</span> <span class="hljs-operator">=</span> <span class="hljs-number">0L</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> x : cnt.keySet()) &#123;<br>            <span class="hljs-keyword">if</span> (x &lt; curr) &#123;<br>                <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">k</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; k &lt; cnt.get(x); k++) &#123;<br>                    ans += x-k;<br>                &#125;<br>                curr = x - cnt.get(x);<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">k</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; k &lt; cnt.get(x); k++) &#123;<br>                    ans += curr-k;<br>                &#125;<br>                curr = curr - cnt.get(x);<br>            &#125;<br>            <span class="hljs-keyword">if</span> (curr &lt; <span class="hljs-number">0</span>) &#123;<br>                <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p>æ³¨:è¿™é‡Œä¸€å®šè¦ç”¨LinkedHashMap,ä»¥æ­¤ä¿è¯å“ˆå¸Œè¡¨çš„å…³é”®å­—é›†æ˜¯æœ‰åºçš„(æ ¹æ®æ’å…¥é¡ºåº)</p></blockquote><h2 id="çµèŒ¶å±±è‰¾åºœè§£æ³•"><a href="#çµèŒ¶å±±è‰¾åºœè§£æ³•" class="headerlink" title="çµèŒ¶å±±è‰¾åºœè§£æ³•"></a>çµèŒ¶å±±è‰¾åºœè§£æ³•</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">maximunTotalSum</span>(<span class="hljs-params">self, h:<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>)-&gt;<span class="hljs-built_in">int</span>:<br>        h.sort(reverse=<span class="hljs-literal">True</span>)<br>        n = <span class="hljs-built_in">len</span>(h)<br>        ans = h[<span class="hljs-number">0</span>]<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,n):<br>            h[i] = <span class="hljs-built_in">min</span>(h[i-<span class="hljs-number">1</span>]-<span class="hljs-number">1</span>, h[i])<br>            ans += h[i]<br>        <span class="hljs-keyword">return</span> ans<br></code></pre></td></tr></table></figure><h1 id="T3-å­—å…¸åºæœ€å°çš„åˆæ³•åºåˆ—"><a href="#T3-å­—å…¸åºæœ€å°çš„åˆæ³•åºåˆ—" class="headerlink" title="T3:å­—å…¸åºæœ€å°çš„åˆæ³•åºåˆ—"></a>T3:<a href="https://leetcode.cn/problems/find-the-lexicographically-smallest-valid-sequence/">å­—å…¸åºæœ€å°çš„åˆæ³•åºåˆ—</a></h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span>[] validSequence(String s, String T) &#123;<br>        <span class="hljs-type">char</span>[] s = S.toCharArray();<br>        <span class="hljs-type">char</span>[] t = T.toCharArray();<br>        <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> s.length;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">m</span> <span class="hljs-operator">=</span> t.length;<br>        <br>        <span class="hljs-type">int</span>[] suf = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[n+<span class="hljs-number">1</span>];<br>        suf[n] = m;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">j</span> <span class="hljs-operator">=</span> m-<span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> n-<span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) &#123;<br>            <span class="hljs-keyword">if</span> (j &gt;= <span class="hljs-number">0</span> &amp;&amp; s[i] == t[j]) &#123;<br>                j--;<br>            &#125;<br>            suf[i] = j+<span class="hljs-number">1</span>;<br>        &#125;<br>        <br>        <span class="hljs-type">int</span> <span class="hljs-variable">ans</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[m];<br>        <span class="hljs-type">boolean</span> <span class="hljs-variable">changed</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;<br>        j = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>            <span class="hljs-keyword">if</span> (s[i] == t[j] || !changed &amp;&amp; suf[i+<span class="hljs-number">1</span>] &lt;= j+<span class="hljs-number">1</span>) &#123;<br>                <span class="hljs-keyword">if</span> (s[i] != t[j]) &#123;<br>                    changed = <span class="hljs-literal">true</span>;<br>                &#125;<br>                ans[j++] = i;<br>                <span class="hljs-keyword">if</span> (j == m) &#123;<br>                    <span class="hljs-keyword">return</span> ans;<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;&#125;;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="è¡¥å……-æœ€å°‘å¾—åˆ†å­åºåˆ—"><a href="#è¡¥å……-æœ€å°‘å¾—åˆ†å­åºåˆ—" class="headerlink" title="è¡¥å……:æœ€å°‘å¾—åˆ†å­åºåˆ—"></a>è¡¥å……:<a href="https://leetcode.cn/problems/subsequence-with-the-minimum-score/">æœ€å°‘å¾—åˆ†å­åºåˆ—</a></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">minimumScore</span><span class="hljs-params">(String s, String t)</span> &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> s.length();<br>        <span class="hljs-type">int</span> <span class="hljs-variable">m</span> <span class="hljs-operator">=</span> t.length();<br>        <span class="hljs-type">int</span> <span class="hljs-variable">j</span> <span class="hljs-operator">=</span> m-<span class="hljs-number">1</span>;<br>        <span class="hljs-type">int</span>[] suf = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[n+<span class="hljs-number">1</span>];<br>        Arrays.fill(suf, m);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> n-<span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) &#123;<br>            <span class="hljs-keyword">if</span> (j &gt;= <span class="hljs-number">0</span> &amp;&amp; s.charAt(i) == t.charAt(j)) &#123;<br>                j--;<br>            &#125;<br>            <span class="hljs-keyword">if</span> (j &lt; <span class="hljs-number">0</span>)&#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>            &#125;<br>            suf[i] = j+<span class="hljs-number">1</span>;<br>        &#125;<br><br>        <span class="hljs-type">int</span> <span class="hljs-variable">ans</span> <span class="hljs-operator">=</span> suf[<span class="hljs-number">0</span>];<br>        j = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; s.length(); i++) &#123;<br>            <span class="hljs-keyword">if</span> (s.charAt(i) == t.charAt(j)) &#123;<br>                j++;<br>                ans = Integer.min(ans, suf[i+<span class="hljs-number">1</span>] - j);<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="T4-ç¬¬ä¸€ä¸ªå‡ ä¹ç›¸ç­‰å­å­—ç¬¦ä¸²çš„ä¸‹æ ‡"><a href="#T4-ç¬¬ä¸€ä¸ªå‡ ä¹ç›¸ç­‰å­å­—ç¬¦ä¸²çš„ä¸‹æ ‡" class="headerlink" title="T4: ç¬¬ä¸€ä¸ªå‡ ä¹ç›¸ç­‰å­å­—ç¬¦ä¸²çš„ä¸‹æ ‡"></a>T4:<a href="https://leetcode.cn/problems/find-the-occurrence-of-first-almost-equal-substring/"> ç¬¬ä¸€ä¸ªå‡ ä¹ç›¸ç­‰å­å­—ç¬¦ä¸²çš„ä¸‹æ ‡</a></h1><blockquote><p>åˆ©ç”¨Zç®—æ³•ï¼Œåˆ†åˆ«æ±‚å‡ºpatternä¸sçš„å…¬å…±æœ€é•¿å‰ç¼€æ•°ç»„å’Œå…¬å…±æœ€é•¿åç¼€æ•°ç»„ï¼Œç´¢å¼•ä»å°åˆ°å¤§éå†ï¼Œè¿”å›å¯¹åº”å‰ç¼€+åç¼€$\geq$len(pattern)-1(å³å‡ ä¹ç›¸ç­‰)çš„ä¸‹æ ‡.</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">calc_z</span>(<span class="hljs-params">self, s: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">list</span>[<span class="hljs-built_in">int</span>]:<br>        n = <span class="hljs-built_in">len</span>(s)<br>        z = [<span class="hljs-number">0</span>] * n<br>        box_l = box_r = <span class="hljs-number">0</span>  <span class="hljs-comment"># z-box å·¦å³è¾¹ç•Œ</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n):<br>            <span class="hljs-keyword">if</span> i &lt;= box_r:<br>                z[i] = <span class="hljs-built_in">min</span>(z[i - box_l], box_r - i + <span class="hljs-number">1</span>)  <span class="hljs-comment"># æ”¹æˆæ‰‹åŠ¨ if å¯ä»¥åŠ å¿«é€Ÿåº¦</span><br>            <span class="hljs-keyword">while</span> i + z[i] &lt; n <span class="hljs-keyword">and</span> s[z[i]] == s[i + z[i]]:<br>                box_l, box_r = i, i + z[i]<br>                z[i] += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> z<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">minStartingIndex</span>(<span class="hljs-params">self, s: <span class="hljs-built_in">str</span>, pattern: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        pre_z = <span class="hljs-variable language_">self</span>.calc_z(pattern + s)<br>        suf_z = <span class="hljs-variable language_">self</span>.calc_z(pattern[::-<span class="hljs-number">1</span>] + s[::-<span class="hljs-number">1</span>])<br>        suf_z.reverse()  <span class="hljs-comment"># ä¹Ÿå¯ä»¥ä¸åè½¬ï¼Œä¸‹é¢å†™ suf_z[-i]</span><br>        m = <span class="hljs-built_in">len</span>(pattern)<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(m, <span class="hljs-built_in">len</span>(s) + <span class="hljs-number">1</span>):<br>            <span class="hljs-keyword">if</span> pre_z[i] + suf_z[i - <span class="hljs-number">1</span>] &gt;= m - <span class="hljs-number">1</span>:<br>                <span class="hljs-keyword">return</span> i - m<br>        <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span><br>               <br></code></pre></td></tr></table></figure><h2 id="æ‰©å±•-Zç®—æ³•-Z-Algorithm-æ‰©å±•KMP"><a href="#æ‰©å±•-Zç®—æ³•-Z-Algorithm-æ‰©å±•KMP" class="headerlink" title="æ‰©å±•:Zç®—æ³•(Z Algorithm,æ‰©å±•KMP)"></a>æ‰©å±•:Zç®—æ³•(Z Algorithm,æ‰©å±•KMP)</h2><h3 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><blockquote><p>å¯¹äºä¸€ä¸ªé•¿åº¦ä¸º<code>n</code>çš„å­—ç¬¦ä¸²s,å®šä¹‰å‡½æ•°<code>z[i]</code>è¡¨ç¤º<code>s</code>å’Œs[i,n-1]çš„æœ€é•¿å…¬å…±å‰ç¼€(<code>LCP</code>)çš„é•¿åº¦,åˆ™zç§°ä¸ºsçš„Zå‡½æ•°,çƒ­åˆ«åœ°,<code>z[0]=0</code></p></blockquote><h3 id="æœ´ç´ ç®—æ³•"><a href="#æœ´ç´ ç®—æ³•" class="headerlink" title="æœ´ç´ ç®—æ³•"></a>æœ´ç´ ç®—æ³•</h3><blockquote><p>æ—¶é—´å¤æ‚åº¦:$O(n^2)$</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">z_function_trivial</span>(<span class="hljs-params">s</span>):<br>    n = <span class="hljs-built_in">len</span>(s)<br>    z = [<span class="hljs-number">0</span>] * n<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,n):<br>        <span class="hljs-keyword">while</span> i + z[i] &lt; n <span class="hljs-keyword">and</span> s[z[i]] == s[i + z[i]]:<br>            z[i] += <span class="hljs-number">1</span><br><span class="hljs-keyword">return</span> z<br></code></pre></td></tr></table></figure><h3 id="çº¿æ€§ç®—æ³•"><a href="#çº¿æ€§ç®—æ³•" class="headerlink" title="çº¿æ€§ç®—æ³•"></a>çº¿æ€§ç®—æ³•</h3><h4 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><blockquote><p>æˆ‘ä»¬ä»1åˆ°n-1é¡ºæ¬¡è®¡ç®—z[i],åœ¨è®¡ç®—z[i]çš„è¿‡ç¨‹ä¸­,æˆ‘ä»¬ä¼šåˆ©ç”¨å·²ç»è®¡ç®—å¥½çš„z[0],â€¦z[i-1].</p><p><code>[i,i+z[i]-1]</code>ç§°ä¸ºiçš„åŒ¹é…æ®µ(<code>Z-box</code>)</p><p>ç®—æ³•è¿‡ç¨‹ä¸­æˆ‘ä»¬ç»´æŠ¤å³ç«¯ç‚¹æœ€é å³çš„åŒ¹é…æ®µ,è®°ä½œ[l,r],s[l,r]æ˜¯sçš„å‰ç¼€,åœ¨è®¡ç®—z[i]æ—¶ä¿è¯l$\leq$i,åˆå§‹æ—¶l=r=0</p><p>åœ¨è®¡ç®—z[i]çš„è¿‡ç¨‹ä¸­:</p><ul><li>å¦‚æœ$i\leq r$,åˆ™s[i,r]=s[i-l,r-l](å­—ç¬¦ä¸²ç›¸åŒ),å› æ­¤$z[i]\geq min(z[i-l],r-i+1)$<ul><li>è‹¥$z[i-l]&lt;r-i+1$,åˆ™z[i]=z[i-l]</li><li>å¦åˆ™$z[i-l]\geq r-i+1$,è¿™æ—¶z[i]=r-i+1,ç„¶åæš´åŠ›æšä¸¾ä¸‹ä¸€ä¸ªå­—ç¬¦æ‰©å±•z[i]ç›´åˆ°ä¸èƒ½æ‰©å±•ä¸ºæ­¢</li></ul></li><li>å¦‚æœ$i\geq r$,é‚£ä¹ˆæˆ‘ä»¬ç›´æ¥æŒ‰ç…§æœ´ç´ ç®—æ³•,ä»s[i]å¼€å§‹æ¯”è¾ƒ,æš´åŠ›æ±‚å‡ºz[i]</li><li>åœ¨æ±‚å‡ºz[i]å,å¦‚æœi+z[i]-1&gt;r,æ›´æ–°[l,r],å³ä»¤l=i,r=i+z[i]-1</li></ul></blockquote><h4 id="åŠ¨ç”»"><a href="#åŠ¨ç”»" class="headerlink" title="åŠ¨ç”»"></a>åŠ¨ç”»</h4><p><img src="image-20240929164214557.png" alt="Zç®—æ³•åŠ¨ç”»"></p><h4 id="æ—¶é—´å¤æ‚åº¦"><a href="#æ—¶é—´å¤æ‚åº¦" class="headerlink" title="æ—¶é—´å¤æ‚åº¦"></a>æ—¶é—´å¤æ‚åº¦</h4><p>çº¿æ€§éå†ï¼Œ$O(n)$</p>]]></content>
    
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>çº¿æ®µæ ‘</title>
    <link href="/2024/09/29/%E7%BA%BF%E6%AE%B5%E6%A0%91/"/>
    <url>/2024/09/29/%E7%BA%BF%E6%AE%B5%E6%A0%91/</url>
    
    <content type="html"><![CDATA[<h1 id="çº¿æ®µæ ‘"><a href="#çº¿æ®µæ ‘" class="headerlink" title="çº¿æ®µæ ‘"></a>çº¿æ®µæ ‘</h1><h2 id="å»ºç«‹"><a href="#å»ºç«‹" class="headerlink" title="å»ºç«‹"></a>å»ºç«‹</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-type">int</span>[] d;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">build</span><span class="hljs-params">(<span class="hljs-type">int</span> s, <span class="hljs-type">int</span> t, <span class="hljs-type">int</span> p)</span>&#123;<br>    <span class="hljs-keyword">if</span> (s == t)&#123;<br>        d[p] = a[s];<br>        <span class="hljs-keyword">return</span> ;<br>    &#125;<br>    m = s + ((t-s) &gt;&gt; <span class="hljs-number">1</span>);<br>    build(s,m,p*<span class="hljs-number">2</span>);<br>    build(m+<span class="hljs-number">1</span>,t,p*<span class="hljs-number">2</span>+<span class="hljs-number">1</span>);<br>    d[p] = d[p*<span class="hljs-number">2</span>] + d[(p*<span class="hljs-number">2</span>) + <span class="hljs-number">1</span>];<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="æŸ¥è¯¢"><a href="#æŸ¥è¯¢" class="headerlink" title="æŸ¥è¯¢"></a>æŸ¥è¯¢</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getSum</span><span class="hljs-params">(<span class="hljs-type">int</span> l, <span class="hljs-type">int</span> r, <span class="hljs-type">int</span> s, <span class="hljs-type">int</span> t. <span class="hljs-type">int</span> p)</span> &#123;<br>    <span class="hljs-keyword">if</span> (l &lt;= s &amp;&amp; r &gt;= t)&#123;<br>        <span class="hljs-keyword">return</span> d[p];<br>    &#125;<br>    <span class="hljs-type">int</span> <span class="hljs-variable">m</span> <span class="hljs-operator">=</span> s + ((t-s) &gt;&gt; <span class="hljs-number">1</span>), sum = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">if</span> (l &lt;= m) sum += getSum(l, r, s, m, p*<span class="hljs-number">2</span>);<br>    <span class="hljs-keyword">if</span> (r &gt; m) sum += getSum(l,r,m+<span class="hljs-number">1</span>,t,p*<span class="hljs-number">2</span>+<span class="hljs-number">1</span>);<br>    <br>    <span class="hljs-keyword">return</span> sum;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="ä¿®æ”¹-å¢åŠ -å¸¦æ‡’æƒ°æ ‡è®°"><a href="#ä¿®æ”¹-å¢åŠ -å¸¦æ‡’æƒ°æ ‡è®°" class="headerlink" title="ä¿®æ”¹(å¢åŠ )(å¸¦æ‡’æƒ°æ ‡è®°)"></a>ä¿®æ”¹(å¢åŠ )(å¸¦æ‡’æƒ°æ ‡è®°)</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-type">int</span>[] b;<br><span class="hljs-comment">// æ•°ç»„bå­˜å‚¨æ‡’æƒ°æ ‡è®°</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">update</span><span class="hljs-params">(<span class="hljs-type">int</span> l, <span class="hljs-type">int</span> r, <span class="hljs-type">int</span> c, <span class="hljs-type">int</span> s, <span class="hljs-type">int</span> t, <span class="hljs-type">int</span> p)</span>&#123;<br>    <span class="hljs-comment">// l,rä¸ºä¿®æ”¹åŒºé—´,cä¸ºä¿®æ”¹é‡,[s,t]ä¸ºå½“å‰èŠ‚ç‚¹åŒ…å«çš„åŒºé—´,pä¸ºå½“å‰èŠ‚ç‚¹çš„ç¼–å·</span><br>    <span class="hljs-keyword">if</span> (l &lt;= s &amp;&amp; t &lt;= r)&#123;<br>        d[p] += (t-s+<span class="hljs-number">1</span>)*c;<br>        b[p] += c;<br>    &#125;<br>    <span class="hljs-type">int</span> <span class="hljs-variable">m</span> <span class="hljs-operator">=</span> s + ((t-s) &gt;&gt; <span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">if</span> (b[p] &amp;&amp; s != t) &#123;<br>        <span class="hljs-comment">// å¦‚æœå½“å‰èŠ‚ç‚¹çš„æ‡’æƒ°æ ‡è®°éç©º,åˆ™æ›´æ–°å½“å‰èŠ‚ç‚¹ä¸¤ä¸ªå­—èŠ‚ç‚¹çš„å€¼å’Œæ‡’æƒ°æ ‡è®°å€¼</span><br>        d[p * <span class="hljs-number">2</span>] += b[p] * (m-s+<span class="hljs-number">1</span>);<br>        d[p * <span class="hljs-number">2</span> + <span class="hljs-number">1</span>] += b[p] * (t-m);<br>        b[p * <span class="hljs-number">2</span>] += b[p];<br>        b[p * <span class="hljs-number">2</span> + <span class="hljs-number">1</span>] += b[p];<br>        b[p] = <span class="hljs-number">0</span>; <span class="hljs-comment">// å½“å‰èŠ‚ç‚¹çš„æ‡’æƒ°æ ‡è®°å€¼æ¸…é›¶</span><br>    &#125;<br>    <span class="hljs-keyword">if</span> (l &lt;= m) update(l,r,c,s,m,p*<span class="hljs-number">2</span>);<br>    <span class="hljs-keyword">if</span> (r &gt; m) update(l,r,c,m+<span class="hljs-number">1</span>,t,p*<span class="hljs-number">2</span>+<span class="hljs-number">1</span>);<br>    d[p] = d[p*<span class="hljs-number">2</span>] + d[p*<span class="hljs-number">2</span>+<span class="hljs-number">1</span>];<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="æŸ¥è¯¢-å¸¦æ‡’æƒ°æ ‡è®°"><a href="#æŸ¥è¯¢-å¸¦æ‡’æƒ°æ ‡è®°" class="headerlink" title="æŸ¥è¯¢(å¸¦æ‡’æƒ°æ ‡è®°)"></a>æŸ¥è¯¢(å¸¦æ‡’æƒ°æ ‡è®°)</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getSum</span><span class="hljs-params">(<span class="hljs-type">int</span> l, <span class="hljs-type">int</span> r, <span class="hljs-type">int</span> s, <span class="hljs-type">int</span> t, <span class="hljs-type">int</span> p)</span>&#123;<br>    <span class="hljs-keyword">if</span> (l &lt;= s &amp;&amp; t &lt;= r) <span class="hljs-keyword">return</span> d[p];<br>    <span class="hljs-type">int</span> <span class="hljs-variable">m</span> <span class="hljs-operator">=</span> s + ((t-s) &gt;&gt; <span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">if</span> (b[p]) &#123;<br>        <span class="hljs-comment">// è¿™é‡Œä¸ç”¨åˆ¤æ–­æ˜¯å¦æ˜¯å­èŠ‚ç‚¹,å› ä¸ºä¸Šé¢æŸ¥è¯¢ç¯èŠ‚ä¼šç›´æ¥è¿”å›å€¼</span><br>        d[p*<span class="hljs-number">2</span>] += b[p] * (m-s+<span class="hljs-number">1</span>);<br>        d[p*<span class="hljs-number">2</span>+<span class="hljs-number">1</span>] += b[p] * (t-m);<br>        b[p*<span class="hljs-number">2</span>] += b[p];<br>        d[p*<span class="hljs-number">2</span>+<span class="hljs-number">1</span>] += b[p];<br>        b[p] = <span class="hljs-number">0</span>;<br>    &#125;<br>    <span class="hljs-type">int</span> <span class="hljs-variable">sum</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">if</span> (l &lt;= m) sum += getSum(l,r,s,m,p*<span class="hljs-number">2</span>);<br>    <span class="hljs-keyword">if</span> (r &gt; m) sum += getSum(l,r,m+<span class="hljs-number">1</span>,t,p*<span class="hljs-number">2</span>+<span class="hljs-number">1</span>);<br>    <br>    <span class="hljs-keyword">return</span> sum;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="ä¿®æ”¹-èµ‹å€¼-å¸¦æ‡’æƒ°æ ‡è®°"><a href="#ä¿®æ”¹-èµ‹å€¼-å¸¦æ‡’æƒ°æ ‡è®°" class="headerlink" title="ä¿®æ”¹(èµ‹å€¼)(å¸¦æ‡’æƒ°æ ‡è®°)"></a>ä¿®æ”¹(èµ‹å€¼)(å¸¦æ‡’æƒ°æ ‡è®°)</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">void</span> <span class="hljs-title function_">update</span><span class="hljs-params">(<span class="hljs-type">int</span> l, <span class="hljs-type">int</span> r, <span class="hljs-type">int</span> c, <span class="hljs-type">int</span> s, <span class="hljs-type">int</span> t, <span class="hljs-type">int</span> p)</span> &#123;<br>    <span class="hljs-keyword">if</span> (l &lt;= s &amp;&amp; t &lt;= r) &#123;<br>        d[p] = (t-s+<span class="hljs-number">1</span>) *c, b[p] = c,v[p] = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">return</span> ;<br>    &#125;<br>    <span class="hljs-type">int</span> <span class="hljs-variable">m</span> <span class="hljs-operator">=</span> s + ((t-s) &gt;&gt; <span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">if</span> (v[p]) &#123;<br>        d[p*<span class="hljs-number">2</span>] = b[p] * (m-s+<span class="hljs-number">1</span>);<br>        d[p*<span class="hljs-number">2</span>+<span class="hljs-number">1</span>] = b[p] * (t-m);<br>        b[p*<span class="hljs-number">2</span>] = b[p*<span class="hljs-number">2</span>=<span class="hljs-number">1</span>] = b[p];<br>        v[p*<span class="hljs-number">2</span>] = v[p*<span class="hljs-number">2</span>+<span class="hljs-number">1</span>] = <span class="hljs-number">1</span>;<br>        v[p] = <span class="hljs-number">0</span>;<br>    &#125;<br>    <span class="hljs-keyword">if</span> (l &lt;= m) update(l,r,c,s,m,p*<span class="hljs-number">2</span>);<br>    <span class="hljs-keyword">if</span> (r&gt;m)update(l,r,c,m+<span class="hljs-number">1</span>,t,p*<span class="hljs-number">2</span>+<span class="hljs-number">1</span>);<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getSum</span><span class="hljs-params">(<span class="hljs-type">int</span> l, <span class="hljs-type">int</span> r, <span class="hljs-type">int</span> s, <span class="hljs-type">int</span> t, <span class="hljs-type">int</span> p)</span> &#123;<br>    <span class="hljs-keyword">if</span> (l &lt;= s &amp;&amp; t &lt;= r) <span class="hljs-keyword">return</span> d[p];<br>    <span class="hljs-type">int</span> <span class="hljs-variable">m</span> <span class="hljs-operator">=</span> s + ((t-s) &gt;&gt; <span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">if</span> (v[p])&#123;<br>        d[p * <span class="hljs-number">2</span>] += d[p] * (s-m+<span class="hljs-number">1</span>);<br>        d[p*<span class="hljs-number">2</span>+<span class="hljs-number">1</span>] += d[p] *(t-m);<br>        b[p*<span class="hljs-number">2</span>] = b[p*<span class="hljs-number">2</span>+<span class="hljs-number">1</span>] = b[p];<br>        v[p*<span class="hljs-number">2</span>] = v[p*<span class="hljs-number">2</span>+<span class="hljs-number">1</span>] = <span class="hljs-number">1</span>;<br>        v[p] = <span class="hljs-number">0</span>;<br>    &#125;<br>    <span class="hljs-type">int</span> <span class="hljs-variable">sum</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">if</span>(l &lt;= m) sum = getSum(l, r, s, m, p*<span class="hljs-number">2</span>);<br>    <span class="hljs-keyword">if</span> (r &gt; m) sum += getSum(l,r,m,t,p*<span class="hljs-number">2</span>+<span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">return</span> sum;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>HDLBITS-CS450</title>
    <link href="/2024/09/25/HDLBITS-CS450/"/>
    <url>/2024/09/25/HDLBITS-CS450/</url>
    
    <content type="html"><![CDATA[<h1 id="timer"><a href="#timer" class="headerlink" title="timer"></a>timer</h1><p><img src="image-20240925222315525.png" alt="timer"></p><blockquote><p>æ¨¡æ‹Ÿä¸€ä¸ªè®¡æ—¶å™¨,å½“Loadä¸º1æ—¶,è½½å…¥data,æŒ‡å®šå…¶ä¸ºå€’è®¡æ—¶çš„æ—¶é—´;å½“loadä¸º0æ—¶,æ—¶é—´å‡ä¸€.å½“å€’è®¡æ—¶ç»“æŸæ—¶å°†tcè¾“å‡ºä¸ºé«˜ç”µå¹³</p></blockquote><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module(<br><span class="hljs-keyword">input</span> clk, <br><span class="hljs-keyword">input</span> load, <br><span class="hljs-keyword">input</span> [<span class="hljs-number">9</span>:<span class="hljs-number">0</span>] data, <br><span class="hljs-keyword">output</span> tc<br>);<br>    <span class="hljs-keyword">reg</span>[<span class="hljs-number">9</span>:<span class="hljs-number">0</span>] ct;<br>    <span class="hljs-keyword">always</span> @(<span class="hljs-keyword">posedge</span> clk)<span class="hljs-keyword">begin</span><br>        <span class="hljs-keyword">if</span> (load)<span class="hljs-keyword">begin</span><br>            ct &lt;= data;<br>        <span class="hljs-keyword">end</span> <span class="hljs-keyword">else</span> <span class="hljs-keyword">begin</span><br>            <span class="hljs-keyword">if</span> (ct == <span class="hljs-number">0</span>)<span class="hljs-keyword">begin</span><br>                ct &lt;= <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">end</span> <span class="hljs-keyword">else</span> <span class="hljs-keyword">begin</span><br>                ct &lt;= ct - <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">end</span><br>        <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">assign</span> tc = (ct ==<span class="hljs-number">0</span>) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>;<br><span class="hljs-keyword">endmodule</span><br><br></code></pre></td></tr></table></figure><h1 id="counter-2bc"><a href="#counter-2bc" class="headerlink" title="counter 2bc"></a>counter 2bc</h1><p><img src="image-20240926161655168.png" alt="counter 2bc"></p><blockquote><p>æ¨¡æ‹Ÿä¸€ä¸ªäºŒä½è®¡æ•°å™¨,å½“<code>train_valid</code>ä¸ºé«˜ç”µå¹³æ—¶,è®¡æ•°å™¨æ ¹æ®<code>train_taken</code>æ”¹å˜çŠ¶æ€,å¦‚æœé«˜ç”µå¹³åˆ™åŠ ä¸€,åä¹‹å‡ä¸€.å½“è®¡æ•°å™¨å‡å°‘åˆ°0æ—¶,å°†ä¸ä¼šå†å‡å°‘,è€Œæ˜¯ä¿æŒåŸçŠ¶;å¢åŠ åˆ°3æ—¶,å°†ä¸ä¼šå†å¢åŠ ,è€Œæ˜¯ä¿æŒåŸçŠ¶.<code>areset</code>ä¸ºå¼‚æ­¥å¤ä½,å°†è®¡æ•°å™¨å¤ä½åˆ°<code>2&#39;b01</code></p></blockquote><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module(<br>    <span class="hljs-keyword">input</span> clk,<br>    <span class="hljs-keyword">input</span> areset,<br>    <span class="hljs-keyword">input</span> train_valid,<br>    <span class="hljs-keyword">input</span> train_taken,<br>    <span class="hljs-keyword">output</span> [<span class="hljs-number">1</span>:<span class="hljs-number">0</span>] state<br>);<br>    <span class="hljs-keyword">always</span> @(<span class="hljs-keyword">posedge</span> clk <span class="hljs-keyword">or</span> <span class="hljs-keyword">posedge</span> areset)<span class="hljs-keyword">begin</span><br>        <span class="hljs-keyword">if</span> (areset)<span class="hljs-keyword">begin</span><br>            state &lt;= <span class="hljs-number">2&#x27;b01</span>;<br>        <span class="hljs-keyword">end</span> <span class="hljs-keyword">else</span> <span class="hljs-keyword">begin</span><br>            <span class="hljs-keyword">if</span> (train_valid)<span class="hljs-keyword">begin</span><br>                <span class="hljs-keyword">if</span> (train_taken)<span class="hljs-keyword">begin</span><br>                    state &lt;= state &lt; <span class="hljs-number">3</span> ? state + <span class="hljs-number">1</span> : <span class="hljs-number">3</span>;<br>                <span class="hljs-keyword">end</span> <span class="hljs-keyword">else</span> <span class="hljs-keyword">begin</span><br>                    state &lt;= state &gt; <span class="hljs-number">0</span> ? state-<span class="hljs-number">1</span> : <span class="hljs-number">0</span>;<br>                <span class="hljs-keyword">end</span><br>            <span class="hljs-keyword">end</span><br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">begin</span><br>                state &lt;= state;<br>            <span class="hljs-keyword">end</span><br>        <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">end</span><br><span class="hljs-keyword">endmodule</span><br><br></code></pre></td></tr></table></figure><h1 id="history-shift"><a href="#history-shift" class="headerlink" title="history shift"></a>history shift</h1><p><img src="image-20240926162359702.png" alt="history shift1"></p><p><img src="image-20240926162425714.png" alt="history shift2"></p><blockquote><p>32ä½å†å²ç§»ä½å¯„å­˜å™¨,å¹¶æ­é…å›æ»šåŠŸèƒ½.</p><p>å½“<code>predict_valid</code>ä¸ºé«˜ç”µå¹³æ—¶,è¡¨ç¤ºå½“å‰æ­£å¤„äºé¢„æµ‹çŠ¶æ€,å¯„å­˜å™¨ä»LSBä¸€ä¾§ç§»å…¥ä¸€ä½é¢„æµ‹çš„ç»“æœ(<code>predict_taken</code>)</p><p>å½“<code>mispredicted</code>ä¸ºé«˜ç”µå¹³æ—¶,æ„å‘³ç€é¢„æµ‹å‘ç”Ÿé”™è¯¯,æ­¤æ—¶å¯„å­˜å™¨å¿…é¡»å›æ»šåˆ°å‘ç”Ÿé”™è¯¯ä¹‹å‰çš„çŠ¶æ€(è¿™é‡ŒåŸæ–‡è¯´çš„æ˜¯â€å†²åˆ·æµæ°´çº¿â€),å¹¶ä¸¢å¼ƒé‚£äº›é”™è¯¯å‘ç”Ÿä¹‹åçš„çŠ¶æ€(younger)</p><p>å½“<code>predict_valid</code>,<code>mispredicted</code>åŒæ—¶å‘ç”Ÿ,åè€…ä¼˜å…ˆçº§æ›´é«˜</p></blockquote><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module(<br>    <span class="hljs-keyword">input</span> clk,<br>    <span class="hljs-keyword">input</span> areset,<br><br>    <span class="hljs-keyword">input</span> predict_valid,<br>    <span class="hljs-keyword">input</span> predict_taken,<br>    <span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span>[<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] predict_history,<br><br>    <span class="hljs-keyword">input</span> train_mispredicted,<br>    <span class="hljs-keyword">input</span> train_taken,<br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] train_history<br>);<br>    <span class="hljs-keyword">always</span> @(<span class="hljs-keyword">posedge</span> clk <span class="hljs-keyword">or</span> <span class="hljs-keyword">posedge</span> areset)<span class="hljs-keyword">begin</span><br>        <span class="hljs-keyword">if</span> (areset)<span class="hljs-keyword">begin</span><br>            predict_history = <span class="hljs-number">32&#x27;d0</span>;<br>        <span class="hljs-keyword">end</span><br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">begin</span><br>            <span class="hljs-keyword">if</span> (train_mispredicted)<span class="hljs-keyword">begin</span><br>                predict_history &lt;= &#123;train_history[<span class="hljs-number">30</span>:<span class="hljs-number">0</span>],train_taken&#125;;<br>            <span class="hljs-keyword">end</span><br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (predict_valid)<span class="hljs-keyword">begin</span><br>                predict_history &lt;= &#123;predict_history[<span class="hljs-number">30</span>:<span class="hljs-number">0</span>],predict_taken&#125;;<br>            <span class="hljs-keyword">end</span><br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">begin</span><br>                predict_history &lt;= predict_history;<br>            <span class="hljs-keyword">end</span><br>        <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">end</span><br><span class="hljs-keyword">endmodule</span><br><br></code></pre></td></tr></table></figure><h1 id="gshare"><a href="#gshare" class="headerlink" title="gshare"></a>gshare</h1><p><img src="å±å¹•æˆªå›¾_26-9-2024_162629_hdlbits.01xz.net.jpeg" alt="gshare"></p><blockquote><p>æ ¹æ®é¢˜æ„,æˆ‘ä»¬è¦å¢åŠ 128ä¸ª2ä½PHT(pattern history table,æ¨¡å¼åŒ¹é…è¡¨),PHTæ ¹æ®7ä½<code>train_history</code>ä¸7ä½<code>train_pc</code>å¼‚æˆ–ç»“æœè¿›è¡Œå¯»å€</p><p>ç”µè·¯åˆ†ä¸ºä¸¤å¤§éƒ¨åˆ†:é¢„æµ‹+è®­ç»ƒ.ä¸¤è€…åˆ†åˆ«å‚è€ƒ<em>history shift</em>ä¸<em>counter 2bc</em></p></blockquote><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> top_module(<br>    <span class="hljs-keyword">input</span> clk,<br>    <span class="hljs-keyword">input</span> areset,<br><br>    <span class="hljs-keyword">input</span>  predict_valid,<br>    <span class="hljs-keyword">input</span>  [<span class="hljs-number">6</span>:<span class="hljs-number">0</span>] predict_pc,<br>    <span class="hljs-keyword">output</span> predict_taken,<br>    <span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span>[<span class="hljs-number">6</span>:<span class="hljs-number">0</span>] predict_history,<br><br>    <span class="hljs-keyword">input</span> train_valid,<br>    <span class="hljs-keyword">input</span> train_taken,<br>    <span class="hljs-keyword">input</span> train_mispredicted,<br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">6</span>:<span class="hljs-number">0</span>] train_history,<br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">6</span>:<span class="hljs-number">0</span>] train_pc<br>);<br>    <span class="hljs-keyword">reg</span>[<span class="hljs-number">1</span>:<span class="hljs-number">0</span>] PHT[<span class="hljs-number">127</span>:<span class="hljs-number">0</span>];<br>    <span class="hljs-keyword">integer</span> i;<br>    <span class="hljs-keyword">always</span> @(<span class="hljs-keyword">posedge</span> clk <span class="hljs-keyword">or</span> <span class="hljs-keyword">posedge</span> areset)<span class="hljs-keyword">begin</span><br>        <span class="hljs-keyword">if</span> (areset)<span class="hljs-keyword">begin</span><br>            predict_history &lt;= <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">128</span>; i++)<span class="hljs-keyword">begin</span><br>              PHT[i] &lt;= <span class="hljs-number">2&#x27;b01</span>;<br>            <span class="hljs-keyword">end</span><br>        <span class="hljs-keyword">end</span><br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">begin</span><br>            <span class="hljs-keyword">if</span> (train_valid &amp;&amp; train_mispredicted)<span class="hljs-keyword">begin</span><br>                predict_history &lt;= &#123;train_history[<span class="hljs-number">5</span>:<span class="hljs-number">0</span>],train_taken&#125;;<br>            <span class="hljs-keyword">end</span> <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (predict_valid) <span class="hljs-keyword">begin</span><br>                predict_history &lt;= &#123;predict_history[<span class="hljs-number">5</span>:<span class="hljs-number">0</span>], predict_taken&#125;;<br>            <span class="hljs-keyword">end</span><br>            <br>            <span class="hljs-keyword">if</span> (train_valid)<span class="hljs-keyword">begin</span><br>                <span class="hljs-keyword">if</span> (train_taken)<span class="hljs-keyword">begin</span><br>                PHT[train_history ^ train_pc] &lt;= PHT[train_history ^ train_pc] == <span class="hljs-number">2&#x27;b11</span> ? <br>                <span class="hljs-number">2&#x27;b11</span> : PHT[train_history ^ train_pc] + <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">end</span> <span class="hljs-keyword">else</span> <span class="hljs-keyword">begin</span><br>                PHT[train_history ^ train_pc] &lt;= PHT[train_history ^ train_pc] == <span class="hljs-number">2&#x27;b0</span> ? <br>                <span class="hljs-number">2&#x27;b0</span> : PHT[train_history ^ train_pc] - <span class="hljs-number">1</span>;<br>                <span class="hljs-keyword">end</span><br>            <span class="hljs-keyword">end</span><br>        <span class="hljs-keyword">end</span><br>                    <br>    <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">assign</span> predict_taken = PHT[predict_history ^ predict_pc][<span class="hljs-number">1</span>];<br>    <br><span class="hljs-keyword">endmodule</span><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>CO</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Java æ·±å…‹éš†ä¸æµ…å…‹éš†</title>
    <link href="/2024/09/25/Java-%E6%B7%B1%E5%85%8B%E9%9A%86%E4%B8%8E%E6%B5%85%E5%85%8B%E9%9A%86/"/>
    <url>/2024/09/25/Java-%E6%B7%B1%E5%85%8B%E9%9A%86%E4%B8%8E%E6%B5%85%E5%85%8B%E9%9A%86/</url>
    
    <content type="html"><![CDATA[<h1 id="Java-æ·±å…‹éš†ä¸æµ…å…‹éš†"><a href="#Java-æ·±å…‹éš†ä¸æµ…å…‹éš†" class="headerlink" title="Java æ·±å…‹éš†ä¸æµ…å…‹éš†"></a>Java æ·±å…‹éš†ä¸æµ…å…‹éš†</h1><h2 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h2><h3 id="æµ…å…‹éš†"><a href="#æµ…å…‹éš†" class="headerlink" title="æµ…å…‹éš†"></a>æµ…å…‹éš†</h3><blockquote><p>åœ¨å…‹éš†å¯¹è±¡æ—¶,åªå¤åˆ¶å¯¹è±¡æœ¬èº«åŠå…¶å†…éƒ¨å¼•ç”¨çš„åŸºæœ¬æ•°æ®ç±»å‹å­—æ®µçš„å€¼,è€Œä¸å¤åˆ¶å¼•ç”¨ç±»å‹å­—æ®µæ‰€æŒ‡å‘çš„å¯¹è±¡.è¿™æ„å‘³ç€å…‹éš†åçš„å¯¹è±¡å’ŒåŸå§‹å¯¹è±¡ä¼šå…±äº«ä¸€éƒ¨åˆ†å¼•ç”¨å¯¹è±¡</p></blockquote><p>ä¸‹é¢æ˜¯ä¸€ä»½Javaä»£ç æ ·ä¾‹.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Adventurer</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Cloneable</span> &#123;<br>    <span class="hljs-keyword">public</span> String name;<br>    <span class="hljs-keyword">public</span> Weapon wp;<br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Adventurer</span><span class="hljs-params">()</span>&#123;&#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Adventurer</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> atk)</span>&#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>        <span class="hljs-built_in">this</span>.wp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Weapon</span>(atk);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> Adventurer <span class="hljs-title function_">clone</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> CloneNotSupportedException&#123;<br>        <span class="hljs-keyword">return</span> (Adventurer) <span class="hljs-built_in">super</span>.clone();<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span>&#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Weapon</span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> atk;<br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Weapon</span><span class="hljs-params">()</span>&#123;&#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Weapon</span><span class="hljs-params">(<span class="hljs-type">int</span> atk)</span>&#123;<br>        <span class="hljs-built_in">this</span>.atk = atk;<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Weapon</span><span class="hljs-params">(Weapon wp)</span>&#123;<br>        <span class="hljs-built_in">this</span>.atk = wp.atk;<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAtk</span><span class="hljs-params">(<span class="hljs-type">int</span> atk)</span>&#123;<br>        <span class="hljs-built_in">this</span>.atk = atk;<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAtk</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-keyword">return</span> atk;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TestClone</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">Adventurer</span> <span class="hljs-variable">adv1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Adventurer</span>(<span class="hljs-string">&quot;xiaohong&quot;</span>,<span class="hljs-number">8</span>);<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-type">Adventurer</span> <span class="hljs-variable">adv2</span> <span class="hljs-operator">=</span> adv1.clone();<br>            adv2.wp.setAtk(<span class="hljs-number">10</span>);<br>            adv2.setName(<span class="hljs-string">&quot;xiaoming&quot;</span>);<br>            System.out.println(adv1.wp.getAtk() + <span class="hljs-string">&quot; &quot;</span> + adv2.wp.getAtk());<br>            System.out.println(adv1.getName() + <span class="hljs-string">&quot; &quot;</span> +  adv2.getName());<br>        &#125;<span class="hljs-keyword">catch</span>(Exception e)&#123;<br>            System.out.println(e);<br>        &#125;<br>    &#125;<br><br>&#125;<br><span class="hljs-comment">/*output:</span><br><span class="hljs-comment">10 10</span><br><span class="hljs-comment">xiaohong xiaoming</span><br><span class="hljs-comment">*/</span><br><br></code></pre></td></tr></table></figure><blockquote><p>å¯ä»¥çœ‹åˆ°,ä»£ç å¯¹Adventurerç±»è¿›è¡Œäº†<code>clone()</code>æ–¹æ³•çš„é‡è½½,ä½†å¹¶æ²¡æœ‰å¯¹å…¶å¼•ç”¨ç±»<code>Weapon</code>ç±»è¿›è¡Œå…‹éš†.è¿™æ ·çš„å…‹éš†æ–¹æ³•åªå¤åˆ¶äº†<code>Adventurer</code>ç±»æ‰€æŒæœ‰çš„<code>name</code>,è€Œæ²¡æœ‰å¤åˆ¶<code>Weapon</code>.</p></blockquote><h3 id="æ·±å…‹éš†"><a href="#æ·±å…‹éš†" class="headerlink" title="æ·±å…‹éš†"></a>æ·±å…‹éš†</h3><blockquote><p>æˆ‘ä»¬å¯¹é‡è½½<code>clone()</code>æ–¹æ³•åšä¿®æ”¹,ä½¿å…¶å¯ä»¥å¤åˆ¶å¼•ç”¨ç±»Weaponç±»    </p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> Adventurer <span class="hljs-title function_">clone</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> CloneNotSupportedException&#123;<br>    <span class="hljs-type">Adventurer</span> <span class="hljs-variable">copy</span> <span class="hljs-operator">=</span> (Adventurer) <span class="hljs-built_in">super</span>.clone();<br>    copy.wp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Weapon</span>(<span class="hljs-built_in">this</span>.wp);<br>    <span class="hljs-keyword">return</span> copy;<br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p>è¿™é‡Œæˆ‘ä»¬è°ƒç”¨<code>Weapon</code>çš„åˆ›å»ºæ–¹æ³•,ä½¿å…¶å¤åˆ¶äº†ä¸€ä¸ªæ–°çš„Weaponå¹¶å°†å…¶ä½œä¸ºå¤åˆ¶å¯¹è±¡çš„å¼•ç”¨ç±».ä»£ç é‡æ–°è¿è¡Œçš„ç»“æœå¦‚ä¸‹:</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-number">8</span> <span class="hljs-number">10</span><br>xiaohong xiaoming<br></code></pre></td></tr></table></figure><blockquote><p>å¯ä»¥çœ‹åˆ°,å¯¹adv2(ç¬¬äºŒä¸ª<code>Adventurer</code>ç±»)çš„<code>Weapon</code>è¿›è¡Œä¿®æ”¹,å¹¶ä¸ä¼šæ”¹å˜<code>adv1</code>çš„Weaponçš„<code>atk</code>å€¼,è¯´æ˜ä¸¤ä¸ª<code>Adventurer</code>ç±»æ‰€å¼•ç”¨çš„<code>Weapon</code>ç±»å·²ä¸æ˜¯åŒä¸€ä¸ª.</p></blockquote><h2 id="æ·±å…‹éš†æ–¹æ³•"><a href="#æ·±å…‹éš†æ–¹æ³•" class="headerlink" title="æ·±å…‹éš†æ–¹æ³•"></a>æ·±å…‹éš†æ–¹æ³•</h2><p>åœ¨ Java ä¸­ï¼Œå¸¸è§çš„å®ç°æ·±å…‹éš†çš„æ–¹å¼æœ‰ï¼š</p><ol><li>é€šè¿‡ç»§æ‰¿ <code>Cloneable</code> æ¥å£ï¼Œé‡å†™ <code>clone()</code> æ–¹æ³•å®ç°æ·±å…‹éš†ï¼›</li><li>é€šè¿‡åºåˆ—åŒ–ä¸ååºåˆ—åŒ–çš„æ–¹å¼å®ç°æ·±å…‹éš†ï¼›</li><li>ç¬¬ä¸‰æ–¹å·¥å…·ç±»å®ç°æ·±å…‹éš†ï¼Œå…‹éš†å¯¹è±¡éœ€ç»§æ‰¿ <code>Serializable</code> æ¥å£ã€‚</li></ol><h3 id="Override-clone"><a href="#Override-clone" class="headerlink" title="Override clone()"></a>Override clone()</h3><blockquote><p>å‰æ–‡å·²ç»ä»‹ç»è¿™ç§æ–¹æ³•.</p><p>åœ¨<code>Object</code>ç±»ä¸­çš„<code>clone()</code>æ–¹æ³•çš„å£°æ˜ä¸­åŒ…å«äº†<code>throws CloneNotSupportedException</code>ï¼Œå› æ­¤å¦‚æœä½ çš„ç±»å®ç°äº†<code>Cloneable</code>æ¥å£å¹¶é‡å†™äº†<code>clone()</code>æ–¹æ³•ï¼Œè€Œåœ¨è¯¥æ–¹æ³•ä¸­è°ƒç”¨äº†<code>super.clone()</code>ï¼Œé‚£ä¹ˆä½ çš„æ–¹æ³•ä¹Ÿéœ€è¦å£°æ˜ä¼šæŠ›å‡º<code>CloneNotSupportedException</code>å¼‚å¸¸ã€‚</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> Adventurer <span class="hljs-title function_">clone</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> CloneNotSupportedException&#123;<br>    <span class="hljs-type">Adventurer</span> <span class="hljs-variable">copy</span> <span class="hljs-operator">=</span> (Adventurer) <span class="hljs-built_in">super</span>.clone();<span class="hljs-comment">// å¤åˆ¶æœ¬ç±»</span><br>    copy.wp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Weapon</span>(<span class="hljs-built_in">this</span>.wp);<span class="hljs-comment">// å¤åˆ¶å¼•ç”¨ç±»</span><br>    <span class="hljs-keyword">return</span> copy;<span class="hljs-comment">//è¿”å›å¤åˆ¶å¯¹è±¡</span><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="Serialize-and-Deserialize"><a href="#Serialize-and-Deserialize" class="headerlink" title="Serialize and Deserialize"></a>Serialize and Deserialize</h3><blockquote><p>è¦å®ç°åºåˆ—åŒ–,æˆ‘ä»¬é¦–å…ˆæ”¹å˜<code>Adventurer</code>ç±»ä¸<code>Weapon</code>ç±»çš„æ¥å£,å°†å…¶ä¿®æ”¹ä¸º<code>Serializable</code></p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Adventurer</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Serializable</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Weapon</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Serializable</span><br></code></pre></td></tr></table></figure><blockquote><p>é€šè¿‡æ–°å»º<code>DeepCopyCloneUtil</code>ç±»æ­å»º<code>deepClone(T object)</code>æ–¹æ³•</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">DeepCopyCloneUtil</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T&gt; T <span class="hljs-title function_">deepClone</span><span class="hljs-params">(T object)</span> <span class="hljs-keyword">throws</span> IOException, ClassNotFoundException &#123;<br>        <span class="hljs-type">ByteArrayOutputStream</span> <span class="hljs-variable">bos</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ByteArrayOutputStream</span>();<br>        <span class="hljs-type">ObjectOutputStream</span> <span class="hljs-variable">oos</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectOutputStream</span>(bos);<br>        oos.writeObject(object);<br>        oos.close();<br><br>        <span class="hljs-type">ByteArrayInputStream</span> <span class="hljs-variable">bis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ByteArrayInputStream</span>(bos.toByteArray());<br>        <span class="hljs-type">ObjectInputStream</span> <span class="hljs-variable">ois</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectInputStream</span>(bis);<br>        <span class="hljs-type">T</span> <span class="hljs-variable">clonedObject</span> <span class="hljs-operator">=</span> (T) ois.readObject();<br>        ois.close();<br><br>        <span class="hljs-keyword">return</span> clonedObject;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p>åœ¨<code>main()</code>ä¸­è¿è¡Œä»¥ä¸‹è¯­å¥:</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">Adventurer</span> <span class="hljs-variable">adv3</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Adventurer</span>(<span class="hljs-string">&quot;liming&quot;</span>, <span class="hljs-number">23</span>);<br><span class="hljs-keyword">try</span> &#123;<br>    <span class="hljs-type">Adventurer</span> <span class="hljs-variable">adv4</span> <span class="hljs-operator">=</span> DeepCopyCloneUtil.deepClone(adv3);<br>    adv4.setName(<span class="hljs-string">&quot;wangming&quot;</span>);<br>    adv4.wp.setAtk(<span class="hljs-number">999</span>);<br>    System.out.println(adv3.getName() + <span class="hljs-string">&quot; &quot;</span> + adv4.getName());<br>    System.out.println(adv3.wp.getAtk() + <span class="hljs-string">&quot; &quot;</span> + adv4.wp.getAtk());<br>&#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>    System.out.println(e);<br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p>å¾—åˆ°ç»“æœä¸º:</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java">liming wangming<br><span class="hljs-number">23</span> <span class="hljs-number">999</span><br></code></pre></td></tr></table></figure><h3 id="Third-Party-Tools"><a href="#Third-Party-Tools" class="headerlink" title="Third-Party Tools"></a>Third-Party Tools</h3><blockquote><p>æ‰“å¼€IDEA,æ–‡ä»¶-&gt;é¡¹ç›®ç»“æ„-&gt;åº“,ç‚¹å‡»â€+â€,é€‰æ‹©â€æ¥è‡ªMavenâ€,è¾“å…¥com.google.code.gsonè¿›è¡Œæœç´¢,ä¸‹è½½å¯¹åº”å®‰è£…åŒ…,å¯¹åº”å¯¼å…¥è¯­å¥ä¸º:</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> com.google.gson.Gson;<br></code></pre></td></tr></table></figure><blockquote><p>æˆ‘ä»¬åˆ©ç”¨Gsonè¿™ä¸ªç¬¬ä¸‰æ–¹åº“å®ç°æ·±å…‹éš†</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">Adventurer</span> <span class="hljs-variable">adv5</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Adventurer</span>(<span class="hljs-string">&quot;Bob&quot;</span>, <span class="hljs-number">19</span>);<br><span class="hljs-type">Gson</span> <span class="hljs-variable">gson</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Gson</span>();<br><span class="hljs-type">Adventurer</span> <span class="hljs-variable">adv6</span> <span class="hljs-operator">=</span> gson.fromJson(gson.toJson(adv5), Adventurer.class);<br><br>adv6.setName(<span class="hljs-string">&quot;Alice&quot;</span>);<br>adv6.wp.setAtk(<span class="hljs-number">100</span>);<br>System.out.println(adv5.getName() + <span class="hljs-string">&quot; &quot;</span> + adv6.getName());<br>System.out.println(adv5.wp.getAtk() + <span class="hljs-string">&quot; &quot;</span> + adv6.wp.getAtk());<br></code></pre></td></tr></table></figure><blockquote><p>è¿è¡Œç»“æœ:</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java">Bob Alice<br><span class="hljs-number">19</span> <span class="hljs-number">100</span><br></code></pre></td></tr></table></figure><h2 id="é™„-æ•´ä½“ä»£ç "><a href="#é™„-æ•´ä½“ä»£ç " class="headerlink" title="é™„:æ•´ä½“ä»£ç "></a>é™„:æ•´ä½“ä»£ç </h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.io.*;<br><span class="hljs-keyword">import</span> com.google.gson.Gson;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Adventurer</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Serializable</span>, Cloneable&#123;<br>    <span class="hljs-keyword">public</span> String name;<br>    <span class="hljs-keyword">public</span> Weapon wp;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Adventurer</span><span class="hljs-params">()</span> &#123;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Adventurer</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> atk)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>        <span class="hljs-built_in">this</span>.wp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Weapon</span>(atk);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> Adventurer <span class="hljs-title function_">clone</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> CloneNotSupportedException &#123;<br>        <span class="hljs-type">Adventurer</span> <span class="hljs-variable">copy</span> <span class="hljs-operator">=</span> (Adventurer) <span class="hljs-built_in">super</span>.clone();<br>        copy.wp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Weapon</span>(<span class="hljs-built_in">this</span>.wp);<br>        <span class="hljs-keyword">return</span> copy;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Weapon</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Serializable</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> atk;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Weapon</span><span class="hljs-params">()</span> &#123;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Weapon</span><span class="hljs-params">(<span class="hljs-type">int</span> atk)</span> &#123;<br>        <span class="hljs-built_in">this</span>.atk = atk;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAtk</span><span class="hljs-params">(<span class="hljs-type">int</span> atk)</span> &#123;<br>        <span class="hljs-built_in">this</span>.atk = atk;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAtk</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> atk;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Weapon</span><span class="hljs-params">(Weapon wp)</span> &#123;<br>        <span class="hljs-built_in">this</span>.atk = wp.atk;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">DeepCopyCloneUtil</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T&gt; T <span class="hljs-title function_">deepClone</span><span class="hljs-params">(T object)</span> <span class="hljs-keyword">throws</span> IOException, ClassNotFoundException &#123;<br>        <span class="hljs-type">ByteArrayOutputStream</span> <span class="hljs-variable">bos</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ByteArrayOutputStream</span>();<br>        <span class="hljs-type">ObjectOutputStream</span> <span class="hljs-variable">oos</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectOutputStream</span>(bos);<br>        oos.writeObject(object);<br>        oos.close();<br><br>        <span class="hljs-type">ByteArrayInputStream</span> <span class="hljs-variable">bis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ByteArrayInputStream</span>(bos.toByteArray());<br>        <span class="hljs-type">ObjectInputStream</span> <span class="hljs-variable">ois</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectInputStream</span>(bis);<br>        <span class="hljs-type">T</span> <span class="hljs-variable">clonedObject</span> <span class="hljs-operator">=</span> (T) ois.readObject();<br>        ois.close();<br><br>        <span class="hljs-keyword">return</span> clonedObject;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TestClone</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">Adventurer</span> <span class="hljs-variable">adv1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Adventurer</span>(<span class="hljs-string">&quot;xiaohong&quot;</span>, <span class="hljs-number">8</span>);<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-type">Adventurer</span> <span class="hljs-variable">adv2</span> <span class="hljs-operator">=</span> adv1.clone();<br>            adv2.wp.setAtk(<span class="hljs-number">10</span>);<br>            adv2.setName(<span class="hljs-string">&quot;xiaoming&quot;</span>);<br>            System.out.println(adv1.wp.getAtk() + <span class="hljs-string">&quot; &quot;</span> + adv2.wp.getAtk());<br>            System.out.println(adv1.getName() + <span class="hljs-string">&quot; &quot;</span> + adv2.getName());<br>        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>            System.out.println(e);<br>        &#125;<br><br>        <span class="hljs-type">Adventurer</span> <span class="hljs-variable">adv3</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Adventurer</span>(<span class="hljs-string">&quot;liming&quot;</span>, <span class="hljs-number">23</span>);<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-type">Adventurer</span> <span class="hljs-variable">adv4</span> <span class="hljs-operator">=</span> DeepCopyCloneUtil.deepClone(adv3);<br>            adv4.setName(<span class="hljs-string">&quot;wangming&quot;</span>);<br>            adv4.wp.setAtk(<span class="hljs-number">999</span>);<br>            System.out.println(adv3.getName() + <span class="hljs-string">&quot; &quot;</span> + adv4.getName());<br>            System.out.println(adv3.wp.getAtk() + <span class="hljs-string">&quot; &quot;</span> + adv4.wp.getAtk());<br>        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>            System.out.println(e);<br>        &#125;<br><br>        <span class="hljs-type">Adventurer</span> <span class="hljs-variable">adv5</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Adventurer</span>(<span class="hljs-string">&quot;Bob&quot;</span>, <span class="hljs-number">19</span>);<br>        <span class="hljs-type">Gson</span> <span class="hljs-variable">gson</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Gson</span>();<br>        <span class="hljs-type">Adventurer</span> <span class="hljs-variable">adv6</span> <span class="hljs-operator">=</span> gson.fromJson(gson.toJson(adv5), Adventurer.class);<br><br>        adv6.setName(<span class="hljs-string">&quot;Alice&quot;</span>);<br>        adv6.wp.setAtk(<span class="hljs-number">100</span>);<br>        System.out.println(adv5.getName() + <span class="hljs-string">&quot; &quot;</span> + adv6.getName());<br>        System.out.println(adv5.wp.getAtk() + <span class="hljs-string">&quot; &quot;</span> + adv6.wp.getAtk());<br>    &#125;<br><br>&#125;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">8 10</span><br><span class="hljs-comment">xiaohong xiaoming</span><br><span class="hljs-comment">liming wangming</span><br><span class="hljs-comment">23 999</span><br><span class="hljs-comment">Bob Alice</span><br><span class="hljs-comment">19 100</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è®¡ç»„P0æ€»ç»“</title>
    <link href="/2024/09/24/%E8%AE%A1%E7%BB%84P0%E6%80%BB%E7%BB%93/"/>
    <url>/2024/09/24/%E8%AE%A1%E7%BB%84P0%E6%80%BB%E7%BB%93/</url>
    
    <content type="html"><![CDATA[<h2 id="P0Q4-Logisimä¸­çš„FSM"><a href="#P0Q4-Logisimä¸­çš„FSM" class="headerlink" title="P0Q4:Logisimä¸­çš„FSM"></a>P0Q4:Logisimä¸­çš„FSM</h2><blockquote><p>é€šè¿‡æ­å»ºMealyçŠ¶æ€æœºæ¥å®ç°æ­£åˆ™è¡¨è¾¾å¼çš„æ£€æµ‹</p><p>é¦–å…ˆè¦åˆ†æ¸…MealyçŠ¶æ€æœºå’ŒMooreçŠ¶æ€æœºåœ¨Logisimç”µè·¯æ­å»ºä¸­çš„åŒºåˆ«</p></blockquote><h3 id="MealyçŠ¶æ€æœºä¸MooreçŠ¶æ€æœº"><a href="#MealyçŠ¶æ€æœºä¸MooreçŠ¶æ€æœº" class="headerlink" title="MealyçŠ¶æ€æœºä¸MooreçŠ¶æ€æœº"></a>MealyçŠ¶æ€æœºä¸MooreçŠ¶æ€æœº</h3><h4 id="MealyçŠ¶æ€æœº"><a href="#MealyçŠ¶æ€æœº" class="headerlink" title="MealyçŠ¶æ€æœº"></a>MealyçŠ¶æ€æœº</h4><p><img src="image-20240924155626167.png" alt="MealyçŠ¶æ€æœºåŸºæœ¬æ¡†æ¶(åŒæ­¥å¤ä½)"></p><blockquote><p>MealyçŠ¶æ€æœºçš„è¾“å‡ºç”±å½“å‰çŠ¶æ€å’Œè¾“å…¥ä¸¤è€…å…±åŒå†³å®š</p></blockquote><h4 id="MooreçŠ¶æ€æœº"><a href="#MooreçŠ¶æ€æœº" class="headerlink" title="MooreçŠ¶æ€æœº"></a>MooreçŠ¶æ€æœº</h4><p><img src="image-20240924160204641.png" alt="MooreçŠ¶æ€æœºæ¡†æ¶(å¼‚æ­¥å¤ä½)"></p><blockquote><p>MooreçŠ¶æ€æœºçš„è¾“å‡ºç”±å½“å‰çŠ¶æ€å†³å®š</p></blockquote><h3 id="è§£é¢˜æ­¥éª¤"><a href="#è§£é¢˜æ­¥éª¤" class="headerlink" title="è§£é¢˜æ­¥éª¤"></a>è§£é¢˜æ­¥éª¤</h3><p>å¯¹äºæœ¬é¢˜MealyçŠ¶æ€æœº,æˆ‘ä»¬åˆ†ä»¥ä¸‹å››æ­¥å®Œæˆæ­å»º.</p><ol><li>ç¡®å®šçŠ¶æ€ç¼–ç ,ç”»å‡ºçŠ¶æ€è½¬ç§»</li><li>æ­å»ºMealyçŠ¶æ€æœºæ¡†æ¶,ç¡®å®šå¤ä½æ–¹å¼</li><li>å®ç°çŠ¶æ€è½¬ç§»çš„Logisimç”µè·¯</li><li>å®ç°è¾“å‡ºé€»è¾‘çš„Logisimç”µè·¯</li></ol><h4 id="ç¡®å®šçŠ¶æ€ç¼–ç -ç”»å‡ºçŠ¶æ€è½¬ç§»"><a href="#ç¡®å®šçŠ¶æ€ç¼–ç -ç”»å‡ºçŠ¶æ€è½¬ç§»" class="headerlink" title="ç¡®å®šçŠ¶æ€ç¼–ç ,ç”»å‡ºçŠ¶æ€è½¬ç§»"></a>ç¡®å®šçŠ¶æ€ç¼–ç ,ç”»å‡ºçŠ¶æ€è½¬ç§»</h4><div class="table-container"><table><thead><tr><th>ç¼–ç </th><th>çŠ¶æ€</th></tr></thead><tbody><tr><td>S0</td><td>IDLE(ç©ºé—²,å½“resetç½®1æ—¶å›åˆ°æ­¤çŠ¶æ€)</td></tr><tr><td>S1</td><td>â€œbâ€</td></tr><tr><td>S2</td><td>â€œbbâ€</td></tr><tr><td>S3</td><td>â€œbaâ€,â€bcâ€,â€bbaâ€æˆ–â€bbcâ€</td></tr><tr><td>S4</td><td>æ»¡è¶³æ­£åˆ™è¡¨è¾¾å¼çš„çŠ¶æ€</td></tr></tbody></table></div><p><img src="55c3cda2c7b623233f71ab3df85d9dc.jpg" alt="çŠ¶æ€è½¬ç§»å›¾"></p><h4 id="æ­å»ºMealyçŠ¶æ€æœºæ¡†æ¶-ç¡®å®šå¤ä½æ–¹å¼"><a href="#æ­å»ºMealyçŠ¶æ€æœºæ¡†æ¶-ç¡®å®šå¤ä½æ–¹å¼" class="headerlink" title="æ­å»ºMealyçŠ¶æ€æœºæ¡†æ¶,ç¡®å®šå¤ä½æ–¹å¼"></a>æ­å»ºMealyçŠ¶æ€æœºæ¡†æ¶,ç¡®å®šå¤ä½æ–¹å¼</h4><p><img src="image-20240924162641868.png" alt="MealyçŠ¶æ€æœº+åŒæ­¥å¤ä½"></p><h4 id="å®ç°çŠ¶æ€è½¬ç§»çš„Logisimç”µè·¯"><a href="#å®ç°çŠ¶æ€è½¬ç§»çš„Logisimç”µè·¯" class="headerlink" title="å®ç°çŠ¶æ€è½¬ç§»çš„Logisimç”µè·¯"></a>å®ç°çŠ¶æ€è½¬ç§»çš„Logisimç”µè·¯</h4><h5 id="ç¡®å®šInä¸state"><a href="#ç¡®å®šInä¸state" class="headerlink" title="ç¡®å®šInä¸state"></a>ç¡®å®šInä¸state</h5><blockquote><p>é€šè¿‡comparatorè”é€šå¯¹åº”çš„tunnel</p></blockquote><p><img src="image-20240924163022813.png" alt="ç¡®å®šè¾“å…¥In"></p><p><img src="image-20240924163130250.png" alt="ç¡®å®šä¸Šä¸€ä¸ªçŠ¶æ€state"></p><h5 id="æ ¹æ®çŠ¶æ€è½¬ç§»å›¾æ­å»ºå˜æ¢å…³ç³»ç”µè·¯"><a href="#æ ¹æ®çŠ¶æ€è½¬ç§»å›¾æ­å»ºå˜æ¢å…³ç³»ç”µè·¯" class="headerlink" title="æ ¹æ®çŠ¶æ€è½¬ç§»å›¾æ­å»ºå˜æ¢å…³ç³»ç”µè·¯"></a>æ ¹æ®çŠ¶æ€è½¬ç§»å›¾æ­å»ºå˜æ¢å…³ç³»ç”µè·¯</h5><blockquote><p>é€šè¿‡ä¸éé—¨ä¸multiplexer,å®ç°å˜æ¢å…³ç³».è¿™é‡Œæˆ‘ä»¬ä»¥s1ä¸ºä¾‹è¯´æ˜,è‹¥s1ä¸bå‡ä¸º1,åˆ™nxtç½®2,åä¹‹ç½®ä¸º0.</p></blockquote><p><img src="image-20240924163249957.png" alt="S1çŠ¶æ€å¯èƒ½å‡ºç°çš„ä¸‹ä¸€ä¸ªçŠ¶æ€"></p><h5 id="è¾“å‡ºä¸‹ä¸€ä¸ªçŠ¶æ€"><a href="#è¾“å‡ºä¸‹ä¸€ä¸ªçŠ¶æ€" class="headerlink" title="è¾“å‡ºä¸‹ä¸€ä¸ªçŠ¶æ€"></a>è¾“å‡ºä¸‹ä¸€ä¸ªçŠ¶æ€</h5><blockquote><p>åˆ©ç”¨æˆ–é—¨æ€§è´¨,å¯¹äºè¿™13ä¸ªè¾“å…¥,åªæœ‰å…¶ä¸­ä¸€ä¸ªæ˜¯æœ‰æ•ˆçš„,å…¶ä½™çš†ä¸º0(æˆ‘åœ¨è¿™é‡Œè¿˜åŠ å…¥äº†ä¸€ä¸ªå®é™…ä¸Šæ— æ•ˆæœçš„$s4\rightarrow s0$,ä¾¿äºæ£€æŸ¥)</p></blockquote><p><img src="image-20240924163603386.png" alt="è¾“å‡ºä¸‹ä¸€ä¸ªçŠ¶æ€"></p><h4 id="å®ç°è¾“å‡ºé€»è¾‘çš„Logisimç”µè·¯"><a href="#å®ç°è¾“å‡ºé€»è¾‘çš„Logisimç”µè·¯" class="headerlink" title="å®ç°è¾“å‡ºé€»è¾‘çš„Logisimç”µè·¯"></a>å®ç°è¾“å‡ºé€»è¾‘çš„Logisimç”µè·¯</h4><blockquote><p>è€ƒè™‘è¾“å…¥å’Œå½“å‰çŠ¶æ€ä¸¤è€…,åªæœ‰å®ƒä»¬æ‰€å†³å®šçš„ä¸‹ä¸€ä¸ªçŠ¶æ€ä¸ºs4æ—¶,outputæ‰ä¸º1,å¦åˆ™ä¸º0</p></blockquote><p><img src="image-20240924163830605.png" alt="è¾“å‡ºé€»è¾‘"></p><h3 id="æ€è€ƒ"><a href="#æ€è€ƒ" class="headerlink" title="æ€è€ƒ"></a>æ€è€ƒ</h3><h4 id="1"><a href="#1" class="headerlink" title="1"></a>1</h4><p>çŠ¶æ€å­˜å‚¨å™¨çš„å¤ä½æ–¹å¼åŒ…æ‹¬<strong>å¼‚æ­¥å¤ä½</strong>å’Œ<strong>åŒæ­¥å¤ä½</strong>ï¼ŒäºŒè€…çš„å®šä¹‰åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿä¸¤ç§å¤ä½æ–¹å¼åœ¨ Verilog ä¸­å¯ä»¥é€šè¿‡ä»€ä¹ˆè¯­å¥å¥å¼å®ç°ï¼Ÿåœ¨ Logisim ä¸­åˆå¯ä»¥é€šè¿‡ä»€ä¹ˆæ ·çš„ç”µè·¯æ¡†æ¶å®ç°ï¼Ÿ</p><blockquote><p>åŒæ­¥å¤ä½:å½“æ—¶é’Ÿä¿¡å·çš„ä¸Šå‡æ²¿åˆ°æ¥æ—¶,è‹¥å¤ä½ä¿¡å·æœ‰æ•ˆ,å¯¹ç³»ç»Ÿè¿›è¡Œå¤ä½.</p><p>å¼‚æ­¥å¤ä½:å½“å¤ä½ä¿¡å·æœ‰æ•ˆæ—¶,ç«‹å³å¯¹ç³»ç»Ÿè¿›è¡Œå¤ä½.è¿™ä¸€è¿‡ç¨‹ä¸æ—¶é’Ÿä¿¡å·æ— å…³.</p></blockquote><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-comment">// åŒæ­¥å¤ä½</span><br><span class="hljs-keyword">module</span> synchronous_reset(<br><span class="hljs-keyword">input</span> a,<br><span class="hljs-keyword">input</span> b,<br>    <span class="hljs-keyword">input</span> clk,<br>    <span class="hljs-keyword">input</span> reset,<br>    <span class="hljs-keyword">output</span> c);<br>    <span class="hljs-keyword">always</span> @(<span class="hljs-keyword">posedge</span> clk)<span class="hljs-keyword">begin</span><br>        <span class="hljs-keyword">if</span> (reset)<span class="hljs-keyword">begin</span><br>            c &lt;= <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">end</span> <span class="hljs-keyword">else</span> <span class="hljs-keyword">begin</span><br>            c &lt;= a &amp; b;<br>        <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">end</span><br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-comment">// å¼‚æ­¥å¤ä½</span><br><span class="hljs-keyword">module</span> asynchronous_reset(<br><span class="hljs-keyword">input</span> a,<br><span class="hljs-keyword">input</span> b,<br>    <span class="hljs-keyword">input</span> clk,<br>    <span class="hljs-keyword">input</span> areset,<br>    <span class="hljs-keyword">output</span> c);<br>    <span class="hljs-keyword">always</span> @(<span class="hljs-keyword">posedge</span> clk <span class="hljs-keyword">or</span> <span class="hljs-keyword">posedge</span> areset)<span class="hljs-keyword">begin</span><br>        <span class="hljs-keyword">if</span> (areset)<span class="hljs-keyword">begin</span><br>            c &lt;= <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">end</span> <span class="hljs-keyword">else</span> <span class="hljs-keyword">begin</span><br>            c &lt;= a &amp; b;<br>        <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">end</span><br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure><blockquote><p>åœ¨Logisimä¸­,å¯„å­˜å™¨çš„clearç«¯å£å¯ä»¥å¾ˆæ–¹ä¾¿åœ°å®ç°å¼‚æ­¥å¤ä½,è€ŒåŒæ­¥å¤ä½éœ€è¦åœ¨ä¿¡å·è¾“å…¥Dç«¯å£å‰åŠ ä¸Šä¸€ä¸ªmultplexer,ç”±aresetå†³å®šä¿¡å·ä¸å˜è¿˜æ˜¯ç½®0,å¾…ä¸‹ä¸€æ¬¡æ—¶é’Ÿä¿¡å·ä¸Šå‡æ²¿è¾“å…¥å¯„å­˜å™¨</p></blockquote><p><img src="image-20240924165125605.png" alt="å¼‚æ­¥å¤ä½"></p><p><img src="image-20240924165228120.png" alt="åŒæ­¥å¤ä½"></p><h4 id="2"><a href="#2" class="headerlink" title="2"></a>2</h4><p>åœ¨ Verilog ä¸­æˆ‘ä»¬å¯ä»¥é€šè¿‡<code>initial</code>å—å¯¹çŠ¶æ€å­˜å‚¨å™¨çš„åˆå€¼è¿›è¡Œå®šä¹‰ï¼Œåœ¨ Logisim ä¸­æˆ‘ä»¬å¯ä»¥é€šè¿‡å“ªäº›ç”µè·¯æ¡†æ¶å®ç°èµ‹åˆå€¼çš„åŠŸèƒ½ï¼Ÿ</p><blockquote><p>è¦å®ç°å¯¹äºæ˜¯å¦å¤„äºåˆå§‹çŠ¶æ€çš„åˆ¤æ–­,æˆ‘ä»¬éœ€è¦ç”¨åˆ°Counterå’Œplexer,åŸºæœ¬é€»è¾‘æ¡†æ¶å¦‚ä¸‹</p></blockquote><p><img src="image-20240924170237417.png" alt="ä½¿ç”¨Counterå®ç°åˆå§‹èµ‹å€¼"></p><blockquote><p>åŸºäºæ­¤,æˆ‘ä»¬å¯ä»¥å®ç°ä¸€ä¸ªå¸¦æœ‰åˆå§‹èµ‹å€¼åŠŸèƒ½çš„å¯„å­˜å™¨</p></blockquote><p><img src="image-20240924170627688.png" alt="å¸¦æœ‰åˆå§‹èµ‹å€¼åŠŸèƒ½çš„å¯„å­˜å™¨"></p><h2 id="P0Q1-CRC-æ ¡éªŒç è®¡ç®—ç”µè·¯çš„è®¾è®¡ä¸æµ‹è¯•"><a href="#P0Q1-CRC-æ ¡éªŒç è®¡ç®—ç”µè·¯çš„è®¾è®¡ä¸æµ‹è¯•" class="headerlink" title="P0Q1:CRC æ ¡éªŒç è®¡ç®—ç”µè·¯çš„è®¾è®¡ä¸æµ‹è¯•"></a>P0Q1:CRC æ ¡éªŒç è®¡ç®—ç”µè·¯çš„è®¾è®¡ä¸æµ‹è¯•</h2><h4 id="è®¾è®¡æ¨¡äºŒé™¤æ³•å™¨"><a href="#è®¾è®¡æ¨¡äºŒé™¤æ³•å™¨" class="headerlink" title="è®¾è®¡æ¨¡äºŒé™¤æ³•å™¨"></a>è®¾è®¡æ¨¡äºŒé™¤æ³•å™¨</h4><p><img src="image-20240924172513329.png" alt="æ¨¡äºŒé™¤æ³•å™¨ç«¯å£"></p><blockquote><p>æ³¨:æœ¬é¢˜ä¸éœ€è¦ç”¨åˆ°Dç«¯å£</p></blockquote><p><img src="image-20240924172631774.png" alt="æ¨¡äºŒé™¤æ³•å™¨"></p><h4 id="ä½¿ç”¨å››ä½æ¨¡äºŒé™¤æ³•å™¨æ­å»º-8-ä½-CRC-æ ¡éªŒç è®¡ç®—ç”µè·¯"><a href="#ä½¿ç”¨å››ä½æ¨¡äºŒé™¤æ³•å™¨æ­å»º-8-ä½-CRC-æ ¡éªŒç è®¡ç®—ç”µè·¯" class="headerlink" title="ä½¿ç”¨å››ä½æ¨¡äºŒé™¤æ³•å™¨æ­å»º 8 ä½ CRC æ ¡éªŒç è®¡ç®—ç”µè·¯"></a>ä½¿ç”¨å››ä½æ¨¡äºŒé™¤æ³•å™¨æ­å»º 8 ä½ CRC æ ¡éªŒç è®¡ç®—ç”µè·¯</h4><p><img src="image-20240924172846401.png" alt="CRCæ ¡éªŒç è®¡ç®—ç”µè·¯"></p><h2 id="P0Q2-å®ç°GRF"><a href="#P0Q2-å®ç°GRF" class="headerlink" title="P0Q2:å®ç°GRF"></a>P0Q2:å®ç°GRF</h2><h3 id="ç«¯å£"><a href="#ç«¯å£" class="headerlink" title="ç«¯å£"></a>ç«¯å£</h3><p><img src="image-20240924194642759.png" alt="ç«¯å£"></p><p><img src="image-20240924194631439.png" alt="åŠŸèƒ½"></p><p><img src="image-20240924185937157.png" alt="ç«¯å£ç”µè·¯">    </p><h3 id="ä¸»è¦éƒ¨ä»¶"><a href="#ä¸»è¦éƒ¨ä»¶" class="headerlink" title="ä¸»è¦éƒ¨ä»¶"></a>ä¸»è¦éƒ¨ä»¶</h3><p><img src="image-20240924185908829.png" alt="32ä¸ª32ä½å¯„å­˜å™¨"></p><p><img src="image-20240924185924211.png" alt="é€‰æ‹©å™¨ç»„ä»¶"></p><h3 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3><h4 id="ä¸‰æ€"><a href="#ä¸‰æ€" class="headerlink" title="ä¸‰æ€"></a>ä¸‰æ€</h4><blockquote><p>åœ¨é€‰æ‹©å™¨ç»„ä»¶ä¸­,æˆ‘ä»¬å¿…é¡»å°†DMX(demultiplexer)ä¸­çš„three-stateè®¾ç½®ä¸ºyes</p><p>å¯ç”¨three-stateå,ä¼šæ§åˆ¶demultiplexerçš„è¾“å…¥è¾“å‡ºç«¯å£è¿›å…¥é«˜é˜»æ€</p></blockquote><p><img src="image-20240924193047096.png" alt="ç¤ºä¾‹ç”µè·¯"></p><blockquote><p>å…ˆè®¾å®šDMXçš„three-stateä¸ºno,WEä¸º1,INä¸º1,SELä¸º0,åœ¨æ—¶é’Ÿä¿¡å·ä¸Šå‡æ²¿:</p></blockquote><p><img src="image-20240924193237747.png" alt="OUT1ä¸ºé«˜ç”µå¹³"></p><blockquote><p>å¯ä»¥çœ‹åˆ°å¯„å­˜å™¨1å­˜å‚¨å€¼ä¸º1,OUT1ä¸ºé«˜ç”µå¹³</p><p>æ¥ç€å†ä»¤SELä¸º1,åœ¨ä¸‹ä¸€ä¸ªæ—¶é’Ÿä¸Šå‡æ²¿:</p></blockquote><p><img src="image-20240924193352492.png" alt="OUT1æ¢å¤ä¸ºä½ç”µå¹³,OUT2å˜ä¸ºé«˜ç”µå¹³"></p><blockquote><p>å¯ä»¥çœ‹åˆ°OUT1æ¢å¤ä¸ºä½ç”µå¹³,OUT2å˜ä¸ºé«˜ç”µå¹³,è¿™å…¶å®å¹¶ä¸ç¬¦åˆæˆ‘ä»¬çš„æœ¬æ„.OUT1æ­¤åˆ»åº”è¯¥ä¿æŒä¸ºé«˜ç”µå¹³,ä¸”å¯„å­˜å™¨1ä¸åº”è¯¥æ”¹å˜å€¼ä¸º0.</p><p>æœ€ç®€ä¾¿çš„å¯¹ç­–å°±æ˜¯å‹¾é€‰three-state,è¿™æ ·DMXçš„è¾“å‡ºç«¯å£åœ¨æœªè¢«SELä¿¡å·é€‰ä¸­çš„æ—¶å€™ä¼šè¾“å‡ºé«˜é˜»å€¼(X),é¿å…å¯¹è¿æ¥çš„å¯„å­˜å™¨å’Œè¾“å‡ºç«¯å£äº§ç”Ÿå½±å“.</p></blockquote><p>P0é™„åŠ é¢˜:ftoi</p><p><img src="image-20240925081703388.png" alt="ä¸»ç”µè·¯"></p><p><img src="image-20240925081714186.png" alt="normalize"></p><p><img src="image-20240925081724381.png" alt="è¡¥ç å™¨"></p>]]></content>
    
    
    
    <tags>
      
      <tag>CO</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç¬¬ä¸€æ¬¡ä¸Šæœº</title>
    <link href="/2024/09/23/%E7%AC%AC%E4%B8%80%E6%AC%A1%E4%B8%8A%E6%9C%BA/"/>
    <url>/2024/09/23/%E7%AC%AC%E4%B8%80%E6%AC%A1%E4%B8%8A%E6%9C%BA/</url>
    
    <content type="html"><![CDATA[<h2 id="1"><a href="#1" class="headerlink" title="1"></a>1</h2><blockquote><p>æ­å»ºä¸€ä¸ªèƒ½å¤„ç†ä¸‰ä¸ªè¾“å…¥æŒ‡ä»¤çš„ç”µè·¯</p></blockquote><div class="table-container"><table><thead><tr><th>00</th><th>è¾“å‡º0</th></tr></thead><tbody><tr><td>01</td><td>è¾“å‡ºä¸Šä¸€æ¬¡è¾“å‡º+1($a_n=a_{n-1}+1$)</td></tr><tr><td>10</td><td>è¾“å‡ºä¹‹å‰è¾“å‡ºä¹‹å’Œ($a_n=\mathop\Sigma\limits^{n-1}_{i=0}a_i$)</td></tr></tbody></table></div><p><img src="image-20240923220646182.png" alt="image-20240923220646182"></p><p><img src="image-20240923220711838.png" alt="image-20240923220711838"></p><h2 id="2"><a href="#2" class="headerlink" title="2"></a>2</h2><blockquote><p>å‘é‡ç›¸ä¹˜</p></blockquote><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> dotProduct(<br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] vector_a,<br>    <span class="hljs-keyword">input</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] vector_b,<br>    <span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span>[<span class="hljs-number">4</span>:<span class="hljs-number">0</span>] out<br>    );<br>    <span class="hljs-keyword">reg</span>[<span class="hljs-number">4</span>:<span class="hljs-number">0</span>] t;<br>    <span class="hljs-keyword">integer</span> i;<br>    <span class="hljs-keyword">always</span> @(vector_a <span class="hljs-keyword">or</span> vector_b)<span class="hljs-keyword">begin</span><br>      t = <span class="hljs-number">5&#x27;b0</span>;<br>      <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">32</span>; i=i+<span class="hljs-number">1</span>)<span class="hljs-keyword">begin</span><br>        t = t + (vector_a[i] * vector_b[i]);<br>      <span class="hljs-keyword">end</span><br>      out = t;<br>    <span class="hljs-keyword">end</span><br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs verilog"><span class="hljs-keyword">module</span> dotProduct_tb();<br>    <span class="hljs-keyword">reg</span>[<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] a;<br>    <span class="hljs-keyword">reg</span>[<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] b;<br>    <span class="hljs-keyword">wire</span>[<span class="hljs-number">4</span>:<span class="hljs-number">0</span>] out;<br><br>    <span class="hljs-keyword">initial</span> <span class="hljs-keyword">begin</span><br>      a=<span class="hljs-number">32&#x27;b0</span>;<br>      b=<span class="hljs-number">32&#x27;b0</span>;<br>      #<span class="hljs-number">100</span><br>      a=<span class="hljs-number">32&#x27;d10</span>;<br>      b=<span class="hljs-number">32&#x27;d10</span>;<br>    <span class="hljs-keyword">end</span><br>    dotProduct uvv(<span class="hljs-variable">.vector_a</span>(a), <span class="hljs-variable">.vector_b</span>(b), <span class="hljs-variable">.out</span>(out));<br><br><span class="hljs-keyword">endmodule</span><br></code></pre></td></tr></table></figure><h2 id="3"><a href="#3" class="headerlink" title="3"></a>3</h2><blockquote><p>MIPSæ±‚æ•°ç»„ä¸­æœ€é•¿è¿ç»­é€’å¢å­æ•°ç»„</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// Cè¯­è¨€ç¤ºä¾‹ä»£ç </span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>&#123;<br>    <span class="hljs-type">int</span> n;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br>    <span class="hljs-type">int</span> max = <span class="hljs-number">0</span>;<br>    <span class="hljs-type">int</span> len = <span class="hljs-number">0</span>;<br>    <span class="hljs-type">int</span> last=<span class="hljs-number">-1</span>, curr;<br>    <span class="hljs-keyword">while</span> (n--)&#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;curr);<br>        <span class="hljs-keyword">if</span> (curr &gt; last)&#123;<br>            len += <span class="hljs-number">1</span>;<br>            max = len &gt; max ? len : max;<br>        &#125;<span class="hljs-keyword">else</span> &#123;<br>            len = <span class="hljs-number">1</span>;<br>        &#125;<br>        last = curr;<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, max);<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs assembly">.eqv n, $s0<br>.eqv max, $s1<br>.eqv len, $s2<br>.eqv curr, $s3<br>.eqv last, $s4<br><br>.macro printInt(%int)<br>move $a0, %int<br>li $v0, 1<br>syscall<br>.end_macro <br><br>.macro inputInt(%int)<br>li $v0, 5<br>syscall<br>move %int, $v0<br>.end_macro<br><br>.macro forLoop(%ct,%n,%startLabel,%endLabel)<br>%startLabel:<br>beq %ct, %n, %endLabel<br>.end_macro<br><br>.macro forEnd(%ct,%startLabel,%endLabel)<br>addi %ct, %ct, 1<br>j %startLabel<br>%endLabel:<br>.end_macro<br><br>li last, -1<br>li $t0, 0<br>inputInt(n)<br>forLoop($t0,n,start,end)<br>inputInt(curr)<br>ble curr, last, less<br>add len, len, 1<br>bge max, len, skip<br>move max, len<br>skip:<br>j tail<br>less:<br>li len, 1<br>tail:<br>move last, curr<br>forEnd($t0,start,end)<br><br>printInt(max)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>CO</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MIPS</title>
    <link href="/2024/09/23/MIPS/"/>
    <url>/2024/09/23/MIPS/</url>
    
    <content type="html"><![CDATA[<h2 id="æ•°æ®å£°æ˜"><a href="#æ•°æ®å£°æ˜" class="headerlink" title="æ•°æ®å£°æ˜"></a>æ•°æ®å£°æ˜</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs assembly">.data <br>pi:.double 3.145926<br>str:.asciiz &quot;hello, world\n&quot;<br>i:.word 3 <br>array1:.byte &#x27;a&#x27;,&#x27;b&#x27;#å£°æ˜ä¸€ä¸ªå­˜å‚¨2ä¸ªå­—ç¬¦çš„æ•°ç»„<br>array2:.space 40#å£°æ˜ä¸€ä¸ªå­˜æ”¾40å­—èŠ‚çš„ç©ºé—´<br></code></pre></td></tr></table></figure><h2 id="åŸºæœ¬è¿ç®—"><a href="#åŸºæœ¬è¿ç®—" class="headerlink" title="åŸºæœ¬è¿ç®—"></a>åŸºæœ¬è¿ç®—</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs assembly">sub$t2,$t3,$t4#  $t2 = $t3 - $t4<br>addi$t2,$t3, 5#  $t2 = $t3 + 5;   &quot;add immediate&quot; (no sub immediate)<br>addu$t1,$t6,$t7#  $t1 = $t6 + $t7;   add as unsigned integers<br>subu$t1,$t6,$t7#  $t1 = $t6 + $t7;   subtract as unsigned integers<br><br>mult$t3,$t4#  multiply 32-bit quantities in $t3 and $t4, and store 64-bit<br>#  result in special registers Lo and Hi:  (Hi,Lo) = $t3 * $t4<br>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€# è¿ç®—ç»“æœå­˜å‚¨åœ¨hi,loï¼ˆhié«˜ä½æ•°æ®ï¼Œ loåœ°ä½æ•°æ®ï¼‰<br>div$t5,$t6#  Lo = $t5 / $t6   (integer quotient)<br>#  Hi = $t5 mod $t6   (remainder)<br>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€# å•†æ•°å­˜æ”¾åœ¨ lo, ä½™æ•°å­˜æ”¾åœ¨ hi<br>mfhi$t0#  move quantity in special register Hi to $t0:   $t0 = Hi<br># ä¸èƒ½ç›´æ¥è·å– hi æˆ– loä¸­çš„å€¼ï¼Œ éœ€è¦mfhi, mfloæŒ‡ä»¤ä¼ å€¼ç»™å¯„å­˜å™¨<br>mflo$t1#  move quantity in special register Lo to $t1:   $t1 = Lo<br>#  used to get at result of product or quotient<br><br>move$t2,$t3#  $t2 = $t3<br></code></pre></td></tr></table></figure><h2 id="Syscall"><a href="#Syscall" class="headerlink" title="Syscall"></a>Syscall</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs assembly">.data<br>myFloat:.float 123.456<br>pi:.double 3.1415926<br>zeroDouble:.double 0<br>enter:.asciiz &quot;\n&quot;<br>i:.word 3<br>.macro ent<br>li $v0, 4<br>la $a0, enter<br>syscall<br>.end_macro<br><br>.macro done<br>li $v0, 10<br>syscall<br>.end_macro <br><br>.macro writeInt(%k)<br>move $a0, %k<br>li $v0, 1<br>syscall<br>.end_macro <br><br>.text<br>#print integer<br>li $v0, 1<br>li $a0, 12<br>syscall<br><br>ent<br>#print float<br>li $v0, 2<br>ldc1 $f12, myFloat<br>syscall<br><br>ent<br>#print double<br>li $v0,3<br>ldc1 $f2, pi<br>ldc1 $f0, zeroDouble<br>add.d $f12, $f2, $f0<br>syscall<br><br>ent<br>#use macro as a write function<br>li $t0, 4<br>writeInt($t0)<br><br>ent<br>#read and then print integer<br>li $v0, 5<br>syscall<br>add $a0, $0, $v0<br>li $v0, 1<br>syscall<br><br>ent<br>#read string<br>li $v0, 8<br>li $a1, 100<br>syscall<br>li $v0, 4<br>syscall<br></code></pre></td></tr></table></figure><h2 id="macro"><a href="#macro" class="headerlink" title="macro"></a>macro</h2><blockquote><p>å®</p></blockquote><h3 id="å †æ ˆ"><a href="#å †æ ˆ" class="headerlink" title="å †æ ˆ"></a>å †æ ˆ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs assembly">#æ”¾å…¥å †æ ˆ<br>.macro push(%i)<br>addi $sp, $sp, -4<br>sw %i, 0($sp)<br>.end_macro<br>#ä»å †æ ˆä¸­å–å‡º<br>.macro pop(%i)<br>lw %i, 0($sp)<br>addi $sp, $sp, 4<br>.end_macro<br></code></pre></td></tr></table></figure><h3 id="forå¾ªç¯-ä»0åˆ°n"><a href="#forå¾ªç¯-ä»0åˆ°n" class="headerlink" title="forå¾ªç¯(ä»0åˆ°n)"></a>forå¾ªç¯(ä»0åˆ°n)</h3><blockquote><p>Cè¯­è¨€:</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs C"><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)&#123;<br>    <span class="hljs-comment">// body</span><br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p>MIPS</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs assembly">.macro for_begin(%startLabel, %endLabel, %n)<br>li $t7, 0<br>%startLabel:<br>bge $t7, %n, %endLabel<br>.end_macro<br><br>.macro for_end(%startLabel, %endLabel)<br>addi $t7, $t7, 1<br>j %startLabel<br>%endLabel:<br>.end_macro<br></code></pre></td></tr></table></figure><h3 id="forå¾ªç¯-ä»lowåˆ°high"><a href="#forå¾ªç¯-ä»lowåˆ°high" class="headerlink" title="forå¾ªç¯(ä»lowåˆ°high)"></a>forå¾ªç¯(ä»lowåˆ°high)</h3><blockquote><p>C</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs C"><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = low; i &lt; high; i++)&#123;<br>    <span class="hljs-comment">// body, å¾ªç¯high-lowæ¬¡</span><br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p>MIPS</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs assembly">.macro for_begin(%startLabel, %endLabel, %low, %high)<br>move $t7, %low<br>%startLabel:<br>bge $t7, %high, %endLabel<br>.end_macro<br><br>.macro for_end(%startLabel, %endLabel)<br>addi $t7, $t7, 1<br>j %startLabel<br>%endLabel:<br>.end_macro<br></code></pre></td></tr></table></figure><h3 id="whileå¾ªç¯-ä¸¤æ•°æ¯”è¾ƒ"><a href="#whileå¾ªç¯-ä¸¤æ•°æ¯”è¾ƒ" class="headerlink" title="whileå¾ªç¯(ä¸¤æ•°æ¯”è¾ƒ)"></a>whileå¾ªç¯(ä¸¤æ•°æ¯”è¾ƒ)</h3><blockquote><p>C</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs C"><span class="hljs-keyword">while</span> (num1 &lt; num2)&#123;<br>    <span class="hljs-comment">// body</span><br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p>MIPS</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs assembly">.macro while_begin(%startLabel, %endLabel, %num1, %num2)<br>%startLabel:<br>bge %num1, %num2, %endLabel<br>.end_macro<br><br>.macro while_end(%startLabel, %endLabel)<br>j %startLabel<br>%endLabel:<br>.end_macro<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>CO</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Commitizençš„ä½¿ç”¨</title>
    <link href="/2024/09/22/Commitizen%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <url>/2024/09/22/Commitizen%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<h1 id="Commitizençš„ä½¿ç”¨"><a href="#Commitizençš„ä½¿ç”¨" class="headerlink" title="Commitizençš„ä½¿ç”¨"></a>Commitizençš„ä½¿ç”¨</h1><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">cnpm install -g commitizen<br></code></pre></td></tr></table></figure><h2 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">commitizen init cz-conventional-changelog --save-dev --save-exact<br></code></pre></td></tr></table></figure><h2 id="ä½¿ç”¨æ–¹å¼"><a href="#ä½¿ç”¨æ–¹å¼" class="headerlink" title="ä½¿ç”¨æ–¹å¼"></a>ä½¿ç”¨æ–¹å¼</h2><p>ç”¨ä»¥ä¸‹æŒ‡ä»¤ä»£æ›¿git commit</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">git cz</span><br></code></pre></td></tr></table></figure><h3 id="é€‰æ‹©æäº¤ç±»å‹"><a href="#é€‰æ‹©æäº¤ç±»å‹" class="headerlink" title="é€‰æ‹©æäº¤ç±»å‹"></a>é€‰æ‹©æäº¤ç±»å‹</h3><figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs vbnet"><span class="hljs-symbol">feat:</span> A <span class="hljs-built_in">new</span> feature<br><span class="hljs-symbol">fix:</span> A bug fix<br><span class="hljs-symbol">docs:</span> Documentation only changes<br><span class="hljs-symbol">style:</span> Changes that <span class="hljs-keyword">do</span> <span class="hljs-built_in">not</span> affect the meaning <span class="hljs-keyword">of</span> the code<br><span class="hljs-symbol">refactor:</span> A code change that neither fixes a bug nor adds a feature<br><span class="hljs-symbol">perf:</span> A code change that improves performance<br><span class="hljs-keyword">Select</span> the type <span class="hljs-keyword">of</span> change that you<span class="hljs-comment">&#x27;re commiting:</span><br></code></pre></td></tr></table></figure><h3 id="æäº¤èŒƒå›´"><a href="#æäº¤èŒƒå›´" class="headerlink" title="æäº¤èŒƒå›´"></a>æäº¤èŒƒå›´</h3><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs d">What <span class="hljs-keyword">is</span> the <span class="hljs-keyword">scope</span> of <span class="hljs-keyword">this</span> change:<br></code></pre></td></tr></table></figure><p>é€šè¿‡å›è½¦é”®è·³è¿‡,é€šè¿‡è¾“å…¥|æ¢è¡Œ</p><h3 id="ç®€çŸ­æè¿°"><a href="#ç®€çŸ­æè¿°" class="headerlink" title="ç®€çŸ­æè¿°"></a>ç®€çŸ­æè¿°</h3><h3 id="è¯¦ç»†æè¿°"><a href="#è¯¦ç»†æè¿°" class="headerlink" title="è¯¦ç»†æè¿°"></a>è¯¦ç»†æè¿°</h3><h3 id="ç ´åæ€§å˜æ›´"><a href="#ç ´åæ€§å˜æ›´" class="headerlink" title="ç ´åæ€§å˜æ›´"></a>ç ´åæ€§å˜æ›´</h3><p>ç ´åæ€§å˜æ›´:æœ¬æ¬¡æäº¤ä¼šå½±å“åˆ°å…¶å®ƒéƒ¨åˆ†çš„åŠŸèƒ½ä¸ä¹‹å‰çš„ç‰ˆæœ¬ä¸å…¼å®¹</p><h3 id="è§£å†³é—®é¢˜"><a href="#è§£å†³é—®é¢˜" class="headerlink" title="è§£å†³é—®é¢˜"></a>è§£å†³é—®é¢˜</h3><p>æœ¬æ¬¡æäº¤æ˜¯å¦è§£å†³äº†æŸä¸ªIssue</p>]]></content>
    
    
    
    <tags>
      
      <tag>OOPre</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>GitæŒ‡ä»¤</title>
    <link href="/2024/09/22/Git%E6%8C%87%E4%BB%A4/"/>
    <url>/2024/09/22/Git%E6%8C%87%E4%BB%A4/</url>
    
    <content type="html"><![CDATA[<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">git config --global user.name <span class="hljs-string">&quot;&quot;</span><br>git config --global user.email <br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">git init<br>git add *.c<br>git commit -m <span class="hljs-string">&quot;message&quot;</span><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">clone</span> https://github.com/libgit2/libgit2 mylibgit<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git status<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git diff<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">log</span> -p -2<br><span class="hljs-comment"># -pä»£è¡¨æ˜¾ç¤ºæ¯æ¬¡æäº¤çš„å†…å®¹å·®å¼‚,-2è¡¨ç¤ºä»…æ˜¾ç¤ºæœ€è¿‘ä¸¤æ¬¡çš„æäº¤</span><br>git <span class="hljs-built_in">log</span> -<span class="hljs-built_in">stat</span><br><span class="hljs-comment">#ç»Ÿè®¡æ•°æ®</span><br>git <span class="hljs-built_in">log</span> --pretty=oneline<br>git <span class="hljs-built_in">log</span> --pretty=format:<span class="hljs-string">&quot;%h - %an, %ar : %s&quot;</span><br>git <span class="hljs-built_in">log</span> --since =2.weeks<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">git commit -amend<br><span class="hljs-comment">#æ’¤é”€</span><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git reset HEAD CONTRIBUTING.md<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git checkout -- CONTRIBUTING.md<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs bash">git remote -v<br><span class="hljs-comment">#æŸ¥çœ‹è¿œç¨‹ä»“åº“</span><br>git remote add pb https://...<br><span class="hljs-comment"># pbæ˜¯ç®€å†™</span><br>git fetch [remote-name]<br><br>git push origin master<br><br>git show<br><br>git remote rename pb paul<br><span class="hljs-comment"># é‡å‘½å</span><br>git remote <span class="hljs-built_in">rm</span> paul<br><span class="hljs-comment"># åˆ é™¤</span><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">git tag<br><span class="hljs-comment"># åˆ—å‡ºæ ‡ç­¾</span><br>git tag v1.4 -m <span class="hljs-string">&quot;my version 1.4&quot;</span><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">git checkout -b iss53<br><span class="hljs-comment">#åˆ›å»ºå¹¶åˆ‡æ¢åˆ°åˆ†æ”¯</span><br>git branch -d hotfix<br><span class="hljs-comment">#åˆ é™¤</span><br>git branch --merged<br>git branch --no-merged<br>git merge A.txt<br><span class="hljs-comment">#åˆå¹¶</span><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git push origin serverfix<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash">git fetch origin<br><span class="hljs-comment">#ä»æœåŠ¡å™¨ä¸ŠæŠ“å–æ•°æ®</span><br>git checkout --track origin/serverfix<br>git checkout -b sf origin/serverfix<br><span class="hljs-comment"># æ‹‰å–åˆ†æ”¯,sfæ˜¯è‡ªå®šä¹‰å</span><br>git branch -vv<br><span class="hljs-comment">#æŸ¥çœ‹è¿½è¸ªåˆ†æ”¯</span><br>git branch -u orgin.serverfix<br><span class="hljs-comment"># è®¾ç½®å·²æœ‰çš„æœ¬åœ°åˆ†æ”¯è·Ÿè¸ªä¸€ä¸ªåˆšåˆšæ‹‰å–ä¸‹æ¥çš„è¿œç¨‹åˆ†æ”¯</span><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">git fetch<br><span class="hljs-comment"># ä»æœåŠ¡å™¨ä¸ŠæŠ“å–æœ¬åœ°æ²¡æœ‰çš„æ•°æ®</span><br>git pull<br><span class="hljs-comment"># å«ä¹‰æ˜¯git fetch + git merge</span><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">git push origin --delete serverfix<br><span class="hljs-comment"># åˆ é™¤è¿œç¨‹åˆ†æ”¯</span><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">git rebase master<br><span class="hljs-comment"># å°†å½“å‰åˆ†æ”¯å˜åŸºåˆ°masteråˆ†æ”¯ä¸Š</span><br></code></pre></td></tr></table></figure><p><img src="image-20240919142734429.png" alt="image-20240919142734429"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">git checkout feature<br>git rebase master<br></code></pre></td></tr></table></figure><p><img src="image-20240919142743629.png" alt="image-20240919142743629"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">clone</span> /opt/git/project.git<br>git <span class="hljs-built_in">clone</span> file:///opt/git/project.git<br>git remote add local_proj /opt/git/project.git<br><span class="hljs-comment"># å¢åŠ æœ¬åœ°ç‰ˆæœ¬åº“åˆ°ç°æœ‰çš„Gité¡¹ç›®</span><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">scp -r test.git meteor041@github.com:meteor041/test.git<br><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> ~./ssh<br><span class="hljs-built_in">ls</span><br><span class="hljs-comment"># æŸ¥çœ‹å¯†é’¥</span><br>ssh-keygen<br><span class="hljs-comment"># chuang&#x27;jian</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>OOPre</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£å‘¨èµ›415(å­—å…¸æ ‘,KMP)</title>
    <link href="/2024/09/22/%E5%8A%9B%E6%89%A3%E5%91%A8%E8%B5%9B415/"/>
    <url>/2024/09/22/%E5%8A%9B%E6%89%A3%E5%91%A8%E8%B5%9B415/</url>
    
    <content type="html"><![CDATA[<h1 id="åŠ›æ‰£å‘¨èµ›415"><a href="#åŠ›æ‰£å‘¨èµ›415" class="headerlink" title="åŠ›æ‰£å‘¨èµ›415"></a>åŠ›æ‰£å‘¨èµ›415</h1><h2 id="T3"><a href="#T3" class="headerlink" title="T3"></a>T3</h2><blockquote><p>T3æ•°æ®é‡è¾ƒå°,å¯ä»¥ä½¿ç”¨å­—å…¸æ ‘è¿›è¡ŒæŸ¥æ‰¾,ç”±äºå¯ä»¥æŸ¥æ‰¾å‰ç¼€,å°†ç”¨äºæ ‡è®°å­—ç¬¦ä¸²ç»“å°¾çš„EndNodeåˆ å»,å¹¶å°†æŸ¥æ‰¾æ–¹æ³•çš„è¿”å›å€¼æ”¹ä¸ºintç±»å‹</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Node</span>&#123;<br>    <span class="hljs-type">char</span> ch;<br>    Node[] children = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Node</span>[<span class="hljs-number">26</span>];<br>    Node()&#123;&#125;<br>    Node(<span class="hljs-type">char</span> ch)&#123;<br>        <span class="hljs-built_in">this</span>.ch = ch;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TrieTree</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">Node</span> <span class="hljs-variable">root</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Node</span>();<br><br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">insert</span><span class="hljs-params">(String s)</span>&#123;<br>        <span class="hljs-type">Node</span> <span class="hljs-variable">q</span> <span class="hljs-operator">=</span> root;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">char</span> c : s.toCharArray())&#123;<br>            <span class="hljs-type">boolean</span> <span class="hljs-variable">flag</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;<br>            <span class="hljs-keyword">for</span> (Node child : q.children)&#123;<br>                <span class="hljs-keyword">if</span> (child == <span class="hljs-literal">null</span>)&#123;<br>                    <span class="hljs-keyword">continue</span>;<br>                &#125;<br>                <span class="hljs-keyword">if</span> (child.ch == c)&#123;<br>                    q = child;<br>                    flag = <span class="hljs-literal">true</span>;<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">if</span> (!flag)&#123;<br>                <span class="hljs-type">Node</span> <span class="hljs-variable">newNode</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Node</span>(c);<br>                q.children[c - <span class="hljs-string">&#x27;a&#x27;</span>] = newNode;<br>                q=newNode;<br>            &#125;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-type">int</span> <span class="hljs-title function_">search</span><span class="hljs-params">(String s)</span>&#123;<br>        <span class="hljs-type">Node</span> <span class="hljs-variable">q</span> <span class="hljs-operator">=</span> root;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">ans</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">char</span> c : s.toCharArray())&#123;<br>            <span class="hljs-type">boolean</span> <span class="hljs-variable">flag</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;<br>            <span class="hljs-keyword">for</span> (Node child : q.children)&#123;<br>                <span class="hljs-keyword">if</span> (child == <span class="hljs-literal">null</span>)&#123;<br>                    <span class="hljs-keyword">continue</span>;<br>                &#125;<br>                <span class="hljs-keyword">if</span> (child.ch == c)&#123;<br>                    flag = <span class="hljs-literal">true</span>;<br>                    q = child;<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">if</span> (!flag)&#123;<br>                <span class="hljs-keyword">return</span> ans;<br>            &#125;<br>            ans++;<br>        &#125;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">minValidStrings</span><span class="hljs-params">(String[] words, String target)</span> &#123;<br>        <span class="hljs-type">TrieTree</span> <span class="hljs-variable">trietree</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TrieTree</span>();<br>        <span class="hljs-type">int</span> <span class="hljs-variable">maxLen</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (String s : words)&#123;<br>            trietree.insert(s);<br>            maxLen = Math.max(maxLen, s.length());<br>        &#125;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">currRight</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">nextRight</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">step</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; target.length(); i++)&#123;<br>            <span class="hljs-type">int</span> <span class="hljs-variable">left</span> <span class="hljs-operator">=</span> i;<br>            <span class="hljs-type">int</span> <span class="hljs-variable">right</span> <span class="hljs-operator">=</span> Math.min(i + maxLen, target.length());<br>            nextRight = Math.max(nextRight, left + trietree.search(target.substring(left,right)));<br>            <span class="hljs-keyword">if</span> (currRight == i)&#123;<br>                <span class="hljs-keyword">if</span> (nextRight == currRight)&#123;<br>                    <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;<br>                &#125;<br>                <span class="hljs-keyword">else</span>&#123;<br>                    currRight = nextRight;<br>                &#125;<br>                step++;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> step;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="é™„-å­—å…¸æ ‘æ¨¡æ¿"><a href="#é™„-å­—å…¸æ ‘æ¨¡æ¿" class="headerlink" title="é™„:å­—å…¸æ ‘æ¨¡æ¿"></a>é™„:å­—å…¸æ ‘æ¨¡æ¿</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Node</span>&#123;<br>    <span class="hljs-type">char</span> ch;<br>    Node[] children = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Node</span>[<span class="hljs-number">27</span>];<br>    Node()&#123;&#125;<br>    Node(<span class="hljs-type">char</span> ch)&#123;<br>        <span class="hljs-built_in">this</span>.ch = ch;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">EndNode</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Node</span>&#123;<br>    EndNode()&#123;&#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TrieTree</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">Node</span> <span class="hljs-variable">root</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Node</span>();<br><br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">insert</span><span class="hljs-params">(String s)</span>&#123;<br>        <span class="hljs-type">Node</span> <span class="hljs-variable">q</span> <span class="hljs-operator">=</span> root;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">char</span> c : s.toCharArray())&#123;<br>            <span class="hljs-type">boolean</span> <span class="hljs-variable">flag</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;<br>            <span class="hljs-keyword">for</span> (Node child : q.children)&#123;<br>                <span class="hljs-keyword">if</span> (child == <span class="hljs-literal">null</span>)&#123;<br>                    <span class="hljs-keyword">continue</span>;<br>                &#125;<br>                <span class="hljs-keyword">if</span> (child.ch == c)&#123;<br>                    q = child;<br>                    flag = <span class="hljs-literal">true</span>;<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">if</span> (!flag)&#123;<br>                <span class="hljs-type">Node</span> <span class="hljs-variable">newNode</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Node</span>(c);<br>                q.children[c - <span class="hljs-string">&#x27;a&#x27;</span>] = newNode;<br>                q = q.children[c - <span class="hljs-string">&#x27;a&#x27;</span>];<br>            &#125;<br>        &#125;<br>        q.children[<span class="hljs-number">26</span>] = <span class="hljs-keyword">new</span> <span class="hljs-title class_">EndNode</span>();<br>    &#125;<br><br>    <span class="hljs-type">boolean</span> <span class="hljs-title function_">search</span><span class="hljs-params">(String s)</span>&#123;<br>        <span class="hljs-type">Node</span> <span class="hljs-variable">q</span> <span class="hljs-operator">=</span> root;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">char</span> c : s.toCharArray())&#123;<br>            <span class="hljs-type">boolean</span> <span class="hljs-variable">flag</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;<br>            <span class="hljs-keyword">for</span> (Node child : q.children)&#123;<br>                <span class="hljs-keyword">if</span> (child == <span class="hljs-literal">null</span>)&#123;<br>                    <span class="hljs-keyword">continue</span>;<br>                &#125;<br>                <span class="hljs-keyword">if</span> (child.ch == c)&#123;<br>                    flag = <span class="hljs-literal">true</span>;<br>                    q = child;<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">if</span> (!flag)&#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> q.children[<span class="hljs-number">26</span>] != <span class="hljs-literal">null</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>&#123;<br>        <span class="hljs-type">TrieTree</span> <span class="hljs-variable">trieTree</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TrieTree</span>();<br>        trieTree.insert(<span class="hljs-string">&quot;abcde&quot;</span>);<br>        trieTree.insert(<span class="hljs-string">&quot;abcd&quot;</span>);<br>        trieTree.insert(<span class="hljs-string">&quot;fjklnhmasdjk&quot;</span>);<br>        trieTree.insert(<span class="hljs-string">&quot;abcdef&quot;</span>);<br>        System.out.println(trieTree.search(<span class="hljs-string">&quot;abc&quot;</span>));<br>        System.out.println(trieTree.search(<span class="hljs-string">&quot;abcde&quot;</span>));<br>        System.out.println(trieTree.search(<span class="hljs-string">&quot;abcdef&quot;</span>));<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h2 id="T4"><a href="#T4" class="headerlink" title="T4"></a>T4</h2><blockquote><p>å­—ç¬¦ä¸²å“ˆå¸Œ</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">MOD</span> <span class="hljs-operator">=</span> <span class="hljs-number">1_070_777_777</span>;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">minValidStrings</span><span class="hljs-params">(String[] words, String target)</span> &#123;<br>        <span class="hljs-type">char</span>[] t = target.toCharArray();<br>        <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> t.length;<br><br>        <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">BASE</span> <span class="hljs-operator">=</span> (<span class="hljs-type">int</span>)<span class="hljs-number">8e8</span> + <span class="hljs-keyword">new</span> <span class="hljs-title class_">Random</span>().nextInt((<span class="hljs-type">int</span>) <span class="hljs-number">1e8</span>);<br>        <span class="hljs-type">int</span>[] powBase = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[n+<span class="hljs-number">1</span>];<br>        <span class="hljs-type">int</span>[] preHash = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[n+<span class="hljs-number">1</span>];<br>        powBase[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; n; i++)&#123;<br>            powBase[i+<span class="hljs-number">1</span>] = (<span class="hljs-type">int</span>)((<span class="hljs-type">long</span>) powBase[i] * BASE % MOD);<br>            preHash[i+<span class="hljs-number">1</span>] = (<span class="hljs-type">int</span>)(((<span class="hljs-type">long</span>) preHash[i] * BASE + t[i]) % MOD);<br>        &#125;<br><br>        <span class="hljs-type">int</span> <span class="hljs-variable">maxLen</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (String w : words)&#123;<br>            maxLen = Math.max(maxLen, w.length());<br>        &#125;<br>        Set&lt;Integer&gt;[] sets = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashSet</span>[maxLen];<br>        Arrays.setAll(sets, i -&gt; <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashSet</span>&lt;&gt;());<br>        <span class="hljs-keyword">for</span> (String w : words)&#123;<br>            <span class="hljs-type">long</span> <span class="hljs-variable">h</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">j</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; j &lt; w.length(); j++)&#123;<br>                h = (h * BASE + w.charAt(j)) % MOD;<br>                sets[j].add((<span class="hljs-type">int</span>) h);<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-type">int</span> <span class="hljs-variable">ans</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">curRight</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">nextRight</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; n; i++)&#123;<br>            <span class="hljs-type">int</span> <span class="hljs-variable">sz</span> <span class="hljs-operator">=</span> calcSz(i, preHash, powBase, sets);<br>            nextRight = Math.max(nextRight, i+sz);<br>            <span class="hljs-keyword">if</span> (i == curRight)&#123;<br>                <span class="hljs-keyword">if</span> (i == nextRight)&#123;<br>                    <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;<br>                &#125;<br>                curRight = nextRight;<br>                ans++;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-title function_">calcSz</span><span class="hljs-params">(<span class="hljs-type">int</span> i, <span class="hljs-type">int</span>[] preHash, <span class="hljs-type">int</span>[] powBase, Set&lt;Integer&gt;[] sets)</span>&#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">left</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">right</span> <span class="hljs-operator">=</span> Math.min(preHash.length - <span class="hljs-number">1</span> - i, sets.length) + <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">while</span> (left + <span class="hljs-number">1</span> &lt; right)&#123;<br>            <span class="hljs-type">int</span> <span class="hljs-variable">mid</span> <span class="hljs-operator">=</span> (left + right) &gt;&gt;&gt; <span class="hljs-number">1</span>;<br>            <span class="hljs-type">long</span> <span class="hljs-variable">subHash</span> <span class="hljs-operator">=</span> ( ((<span class="hljs-type">long</span>) preHash[i + mid] - (<span class="hljs-type">long</span>) preHash[i] * powBase[mid]) % MOD + MOD) % MOD;<br>            <span class="hljs-keyword">if</span> (sets[mid-<span class="hljs-number">1</span>].contains((<span class="hljs-type">int</span>) subHash))&#123;<br>                left = mid;<br>            &#125;<br>            <span class="hljs-keyword">else</span>&#123;<br>                right = mid;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> left;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="ACè‡ªåŠ¨æœº"><a href="#ACè‡ªåŠ¨æœº" class="headerlink" title="ACè‡ªåŠ¨æœº"></a>ACè‡ªåŠ¨æœº</h2><h3 id="å‰ç¼€å‡½æ•°"><a href="#å‰ç¼€å‡½æ•°" class="headerlink" title="å‰ç¼€å‡½æ•°"></a>å‰ç¼€å‡½æ•°</h3><h4 id="è®¡ç®—æ–¹å¼"><a href="#è®¡ç®—æ–¹å¼" class="headerlink" title="è®¡ç®—æ–¹å¼"></a>è®¡ç®—æ–¹å¼</h4><blockquote><p>è®¡ç®—å­—ç¬¦ä¸²å‰kä½å¤šå°‘ä½å‰ç¼€å’Œä¸åç¼€å’Œç›¸ç­‰,å¦‚â€abcabcdâ€:[0,0,0,1,2,3,0]</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.Arrays;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PrefixCount</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span>[] prefixCount(<span class="hljs-type">int</span>[] arr) &#123;<br>        <span class="hljs-type">int</span>[] ret = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[arr.length];<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; arr.length; i++) &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">j</span> <span class="hljs-operator">=</span> i / <span class="hljs-number">2</span> + <span class="hljs-number">1</span>; j &lt;= i; j++) &#123;<br>                <span class="hljs-type">boolean</span> <span class="hljs-variable">flag</span> <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>;<br>                <span class="hljs-type">int</span> <span class="hljs-variable">k</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>, p = j;<br>                <span class="hljs-keyword">while</span> (p &lt;= i) &#123;<br>                    <span class="hljs-keyword">if</span> (arr[k++] != arr[p++]) &#123;<br>                        flag = <span class="hljs-literal">false</span>;<br>                        <span class="hljs-keyword">break</span>;<br>                    &#125;<br>                &#125;<br>                <span class="hljs-keyword">if</span> (flag) &#123;<br>                    ret[i] = k;<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> ret;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">int</span>[] arr = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>&#125;;<br>        System.out.println(Arrays.toString(<br>                <span class="hljs-keyword">new</span> <span class="hljs-title class_">PrefixCount</span>().prefixCount(arr)));<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h4 id="ä¼˜åŒ–"><a href="#ä¼˜åŒ–" class="headerlink" title="ä¼˜åŒ–"></a>ä¼˜åŒ–</h4><blockquote><p>å¯¹äº$ret<a href="k&gt;1">k</a>$,å®ƒåªå¯èƒ½æ¯”$ret[k-1]$å¤š1,æˆ–è€…ç»´æŒä¸å˜æˆ–å‡å°‘,è¿™é‡Œæˆ‘ä»¬æ”¹ä¸ºå­—ç¬¦ä¸²è¾“å…¥,å¹¶ä½¿ç”¨subString()å’Œequals()æ–¹æ³•</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.Arrays;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PrefixCount</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span>[] prefixCount(String s) &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> s.length();<br>        <span class="hljs-type">int</span>[] ret = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[n];<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt; n; i++) &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">j</span> <span class="hljs-operator">=</span> ret[i-<span class="hljs-number">1</span>] + <span class="hljs-number">1</span>; j &gt;= <span class="hljs-number">0</span>; j--) &#123;<br>                <span class="hljs-keyword">if</span> (s.substring(<span class="hljs-number">0</span>, j).equals(s.substring(i-j+<span class="hljs-number">1</span>, i+<span class="hljs-number">1</span>))) &#123;<br>                    ret[i] = j;<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> ret;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;abcabcd&quot;</span>;<br>        System.out.println(Arrays.toString(<br>                <span class="hljs-keyword">new</span> <span class="hljs-title class_">PrefixCount</span>().prefixCount(s)));<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h4 id="æœ€ç»ˆç®—æ³•"><a href="#æœ€ç»ˆç®—æ³•" class="headerlink" title="æœ€ç»ˆç®—æ³•"></a>æœ€ç»ˆç®—æ³•</h4><blockquote><p>è€ƒè™‘å½“$s[i+1] \neq s[ret[i]]$æ—¶å¦‚ä½•è·³è½¬,ä»¤jä¸º$s[i+1] \neq s[ret[i]]$æ—¶é€‰æ‹©çš„ç¬¬äºŒé•¿åº¦</p><p>çŠ¶æ€è½¬ç§»:$j^{(n)}=\pi[j^{(n-1)}-1]$</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.Arrays;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PrefixCount</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span>[] prefixCount(String s) &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> s.length();<br>        <span class="hljs-type">int</span>[] ret = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[n];<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt; n; i++) &#123;<br>            <span class="hljs-type">int</span> <span class="hljs-variable">j</span> <span class="hljs-operator">=</span> ret[i-<span class="hljs-number">1</span>];<br>            <span class="hljs-keyword">while</span> (j &gt; <span class="hljs-number">0</span> &amp;&amp; s.charAt(i) != s.charAt(j)) &#123;<br>                j = ret[j-<span class="hljs-number">1</span>];<br>            &#125;<br>            <span class="hljs-keyword">if</span> (s.charAt(i) == s.charAt(j)) &#123;<br>                j++;<br>            &#125;<br>            ret[i] = j;<br>        &#125;<br>        <span class="hljs-keyword">return</span> ret;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;abcabcde&quot;</span>;<br>        System.out.println(Arrays.toString(<br>                <span class="hljs-keyword">new</span> <span class="hljs-title class_">PrefixCount</span>().prefixCount(s)));<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h3 id="KMP"><a href="#KMP" class="headerlink" title="KMP"></a>KMP</h3><blockquote><p>Knuth-Morris-Prattç®—æ³•</p><p>ç»™å®šä¸€ä¸ªæ–‡æœ¬textå’Œå­—ç¬¦ä¸²pattern,æ‰¾åˆ°patternåœ¨textä¸­çš„æ‰€æœ‰å‡ºç°</p><p>æ„é€ ä¸€ä¸ªå­—ç¬¦ä¸²:pattern+â€#â€+text,è°ƒç”¨è®¡ç®—å‰ç¼€å‡½æ•°çš„æ–¹æ³•,è·å¾—ç»“æœæ•°ç»„,å¯¹äº$i&gt;pattern.length()$,è‹¥$ret[i]==pattern.length()$,åˆ™å¯ä»¥åˆ¤æ–­åœ¨textä¸­çš„ç¬¬$i-2\cdot pattern.length()$å¤„å‡ºç°patternå­—ç¬¦ä¸²</p><p>æ—¶é—´å¤æ‚åº¦$O(n+m)$,ç©ºé—´å¤æ‚åº¦$O(n+m)$(n,måˆ†åˆ«ä¸ºtext,patternçš„é•¿åº¦)</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.ArrayList;<br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">KMP</span> &#123;<br>    <span class="hljs-keyword">public</span> List&lt;Integer&gt; <span class="hljs-title function_">search</span><span class="hljs-params">(String text, String pattern)</span> &#123;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">p</span> <span class="hljs-operator">=</span> pattern + <span class="hljs-string">&quot;#&quot;</span> + text;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">sz1</span> <span class="hljs-operator">=</span> text.length();<br>        <span class="hljs-type">int</span> <span class="hljs-variable">sz2</span> <span class="hljs-operator">=</span> pattern.length();<br>        List&lt;Integer&gt; v = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>        <span class="hljs-type">int</span>[] lps = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PrefixCount</span>().prefixCount(p);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> sz2 + <span class="hljs-number">1</span>; i &lt;= sz1 + sz2; i++) &#123;<br>            <span class="hljs-keyword">if</span> (lps[i] == sz2) &#123;<br>                v.add(i-<span class="hljs-number">2</span> * sz2);<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> v;<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">p</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;aab&quot;</span>;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">t</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;aabaabaabbcdaab&quot;</span>;<br>        System.out.println(<span class="hljs-keyword">new</span> <span class="hljs-title class_">KMP</span>().search(t, p));<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç»„åˆé€»è¾‘ç”µè·¯</title>
    <link href="/2024/09/18/%E7%BB%84%E5%90%88%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/"/>
    <url>/2024/09/18/%E7%BB%84%E5%90%88%E9%80%BB%E8%BE%91%E7%94%B5%E8%B7%AF/</url>
    
    <content type="html"><![CDATA[<h2 id="äºŒæç®¡"><a href="#äºŒæç®¡" class="headerlink" title="äºŒæç®¡"></a>äºŒæç®¡</h2><ul><li><p>ä¸€ä¸ªPNç»“å°±æ˜¯ä¸€åªæ™¶ä½“äºŒæç®¡</p></li><li><p>æ­£å‘å¯¼é€š:å¤–åŠ æ­£å‘ç”µå‹å¤§äºå¼€å¯ç”µå‹$V_D$,äºŒæç®¡å¯¼é€š,$U_D=V_D$</p></li><li><p>åå‘æˆªæ­¢:å¤–åŠ åå‘ç”µå‹æˆ–ç”µå‹å°äºå¼€å¯ç”µå‹$V_D$,äºŒæç®¡æˆªæ­¢,$I_D=0$</p></li><li>å‡»ç©¿:å¤–åŠ åå‘ç”µå‹è¶…è¿‡ä¸€ä¸ªé˜ˆå€¼$V_Z$æ—¶,äºŒæç®¡ä¼šè¢«å‡»ç©¿,å‹é™æ˜¯$V_Z$</li></ul><p><img src="image-20240918174155826.png" alt="image-20240918174155826"></p><h2 id="æ™¶ä½“ä¸‰æç®¡"><a href="#æ™¶ä½“ä¸‰æç®¡" class="headerlink" title="æ™¶ä½“ä¸‰æç®¡"></a>æ™¶ä½“ä¸‰æç®¡</h2><p>å›¾ä¸ºNPNå‹</p><p><img src="image-20240918174330224.png" alt="image-20240918174330224"></p><p><img src="image-20240918174340598.png" alt="image-20240918174340598"></p><h2 id="ä¸é—¨"><a href="#ä¸é—¨" class="headerlink" title="ä¸é—¨"></a>ä¸é—¨</h2><p><img src="image-20240923172530685.png" alt="image-20240923172530685"></p><h2 id="æˆ–é—¨"><a href="#æˆ–é—¨" class="headerlink" title="æˆ–é—¨"></a>æˆ–é—¨</h2><p><img src="image-20240923172555968.png" alt="image-20240923172555968"></p><h2 id="éé—¨"><a href="#éé—¨" class="headerlink" title="éé—¨"></a>éé—¨</h2><p><img src="image-20240923172709926.png" alt="image-20240923172709926"></p>]]></content>
    
    
    
    <tags>
      
      <tag>CO</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ„å»ºå•å‘¨æœŸCPUè®°å½•â…¢</title>
    <link href="/2024/09/12/%E6%9E%84%E5%BB%BA%E5%8D%95%E5%91%A8%E6%9C%9FCPU%E8%AE%B0%E5%BD%95%E2%85%A2/"/>
    <url>/2024/09/12/%E6%9E%84%E5%BB%BA%E5%8D%95%E5%91%A8%E6%9C%9FCPU%E8%AE%B0%E5%BD%95%E2%85%A2/</url>
    
    <content type="html"><![CDATA[<h1 id="æ„å»ºå•å‘¨æœŸCPUè®°å½•â…¢-addi-j"><a href="#æ„å»ºå•å‘¨æœŸCPUè®°å½•â…¢-addi-j" class="headerlink" title="æ„å»ºå•å‘¨æœŸCPUè®°å½•â…¢(addi, j)"></a>æ„å»ºå•å‘¨æœŸCPUè®°å½•â…¢(addi, j)</h1><h2 id="addi"><a href="#addi" class="headerlink" title="addi"></a>addi</h2><p>å¯¹äºaddi,ä¸éœ€è¦æ–°å¢å™¨ä»¶,addiä¸addçš„ä¸åŒ,æœ¬è´¨ä¸Šæ˜¯å°†å…¶ä¸­ä¸€ä¸ªå¯„å­˜å™¨æ¢æˆäº†ç«‹å³æ•°.</p><p>æ¯”è¾ƒä¸¤è€…çš„æœºå™¨ç </p><div class="table-container"><table><thead><tr><th><img src="image-20240912170401633.png" alt="add"></th></tr></thead><tbody><tr><td><img src="image-20240912170419516.png" alt="addi"></td></tr></tbody></table></div><p>å¯ä»¥å‘ç°:</p><ul><li>rsä¸å˜</li><li>rtçš„ä½œç”¨ä»åŸæ¥çš„æä¾›åŠ æ•°,å˜ä¸ºèµ‹å€¼åœ°å€</li><li>rdæ¶ˆå¤±,ç«‹å³æ•°ä»£æ›¿rtæˆä¸ºåŠ æ•°</li></ul><p>å› æ­¤ä¿®æ”¹å¦‚ä¸‹:</p><ul><li>A1ç«¯å£ä¸å˜,ä»ç„¶è¿æ¥Instr[25:21]</li><li>SrcBä¸å†æ¥æ”¶Instr[20:16]çš„å€¼,è€Œæ˜¯ç«‹å³æ•°</li><li>A3ç«¯å£ä¸å†æ¥æ”¶Instr[15:11]çš„å€¼,è€Œæ˜¯Instr[20:16]</li></ul><p>æˆ‘ä»¬å¯¹ALUSrc,RegDstä¸¤ä¸ªä¿¡å·ä½œå‡ºä¿®æ”¹</p><h2 id="j"><a href="#j" class="headerlink" title="j"></a>j</h2><p>å¯¹NXTAD(å¯¹ä¸‹ä¸€ä¸ªåœ°å€çš„è®¡ç®—å™¨)åšå‡ºä¿®æ”¹,æ–°å¢Jumpä¿¡å·</p><p><img src="image-20240912172223432.png" alt="NXTAD(æ–°å¢Jumpä¿¡å·)"></p><h1 id="æ•´ä½“"><a href="#æ•´ä½“" class="headerlink" title="æ•´ä½“"></a>æ•´ä½“</h1><p><img src="image-20240912172136927.png" alt="æ•´ä½“"></p><h1 id="é™„"><a href="#é™„" class="headerlink" title="é™„"></a>é™„</h1><h2 id="ä¿¡å·è¡¨"><a href="#ä¿¡å·è¡¨" class="headerlink" title="ä¿¡å·è¡¨"></a>ä¿¡å·è¡¨</h2><div class="table-container"><table><thead><tr><th>æŒ‡ä»¤</th><th>RegWrite</th><th>MemWrite</th><th>ALUControl</th><th>RegDst</th><th>MemtoReg</th><th>ALUSrc</th><th>Branch</th><th>Jump</th><th></th></tr></thead><tbody><tr><td>lw</td><td>1</td><td>0</td><td>010(åŠ æ³•)</td><td>0</td><td>1</td><td>1</td><td>0</td><td>0</td><td></td></tr><tr><td>sw</td><td>0</td><td>1</td><td>010(åŠ æ³•)</td><td>X</td><td>X</td><td>1</td><td>0</td><td>0</td><td></td></tr><tr><td>beq</td><td>0</td><td>0</td><td>110(å‡æ³•)</td><td>X</td><td>X</td><td>0</td><td>1</td><td>0</td><td></td></tr><tr><td>add</td><td>1</td><td>0</td><td>010(åŠ æ³•)</td><td>1</td><td>0</td><td>0</td><td>0</td><td>0</td><td></td></tr><tr><td>sub</td><td>1</td><td>0</td><td>110(å‡æ³•)</td><td>1</td><td>0</td><td>0</td><td>0</td><td>0</td><td></td></tr><tr><td>and</td><td>1</td><td>0</td><td>000(ä¸)</td><td>1</td><td>0</td><td>0</td><td>0</td><td>0</td><td></td></tr><tr><td>or</td><td>1</td><td>0</td><td>001(æˆ–)</td><td>1</td><td>0</td><td>0</td><td>0</td><td>0</td><td></td></tr><tr><td>slt</td><td>1</td><td>0</td><td>111(å°äºç½®ä½)</td><td>1</td><td>0</td><td>0</td><td>0</td><td>0</td><td></td></tr><tr><td>addi</td><td>1</td><td>0</td><td>010(åŠ æ³•)</td><td>0</td><td>0</td><td>1</td><td>0</td><td>0</td><td></td></tr><tr><td>j</td><td>0</td><td>0</td><td>XXX</td><td>X</td><td>X</td><td>X</td><td>X</td><td>1</td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table></div>]]></content>
    
    
    
    <tags>
      
      <tag>CO</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Java æ³›å‹</title>
    <link href="/2024/09/12/Java-%E6%B3%9B%E5%9E%8B/"/>
    <url>/2024/09/12/Java-%E6%B3%9B%E5%9E%8B/</url>
    
    <content type="html"><![CDATA[<h1 id="æ³›å‹æ•°ç»„"><a href="#æ³›å‹æ•°ç»„" class="headerlink" title="æ³›å‹æ•°ç»„"></a>æ³›å‹æ•°ç»„</h1><h2 id="åˆ›å»º"><a href="#åˆ›å»º" class="headerlink" title="åˆ›å»º"></a>åˆ›å»º</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.*;<br><br><span class="hljs-keyword">public</span> classListOfGenerics&lt;T&gt; &#123;<br>    <span class="hljs-keyword">private</span> List&lt;T&gt; array = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;T&gt;();<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">add</span><span class="hljs-params">(T item)</span> &#123; array.add(item)&#125;;<br>    <span class="hljs-keyword">public</span> T <span class="hljs-title function_">get</span><span class="hljs-params">(<span class="hljs-type">int</span> index)</span> &#123; <span class="hljs-keyword">return</span> array.get(index)&#125;;<br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p>ä¸èƒ½åˆ›å»ºæ³›å‹æ•°ç»„,ä¸€èˆ¬è§£å†³æ–¹æ¡ˆæ˜¯åœ¨ä»»ä½•æƒ³è¦åˆ›å»ºæ³›å‹æ•°ç»„çš„åœ°æ–¹ä½¿ç”¨ArrayList</p></blockquote><h2 id="é€šé…ç¬¦"><a href="#é€šé…ç¬¦" class="headerlink" title="é€šé…ç¬¦"></a>é€šé…ç¬¦</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Fruit</span> &#123;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Apple</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Fruit</span> &#123;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Banana</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Fruit</span> &#123;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Jonathan</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Apple</span> &#123;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CovariantArrays</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        Fruit[] fruit = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Apple</span>[<span class="hljs-number">10</span>];<br>        fruit[<span class="hljs-number">0</span>] = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Apple</span>();<br>        <span class="hljs-keyword">try</span> &#123;<br>            fruit[<span class="hljs-number">1</span>] = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Banana</span>();<br>        &#125;<span class="hljs-keyword">catch</span> (Exception e)&#123;<br>            System.out.println(e);<br>        &#125;<br>        <span class="hljs-keyword">try</span> &#123;<br>            fruit[<span class="hljs-number">2</span>] = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Fruit</span>();<br>        &#125;<span class="hljs-keyword">catch</span> (Exception e)&#123;<br>            System.out.println(e);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p>å¦‚æœå®é™…æ•°ç»„ç±»å‹æ˜¯Apple[],åªèƒ½åœ¨å…¶ä¸­æ”¾ç½®AppleåŠå…¶å­ç±»,è‹¥æ”¾å…¥Fruitå¯¹è±¡,ä¼šåœ¨è¿è¡Œæ—¶æŠ›å‡ºå¼‚å¸¸</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// incompatible types</span><br>List&lt;Fruit&gt; flist = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;Apple&gt;();<br></code></pre></td></tr></table></figure><blockquote><p>Appleçš„Listä¸Fruitçš„Listä¸åŒ.å³ä½¿Appleæ˜¯Fruitçš„å­ç±»,ä¸¤è€…åœ¨ç±»å‹ä¸Šä¹Ÿä¸ç­‰ä»·.</p><p>ä½¿ç”¨é€šé…ç¬¦è§£å†³è¯¥é—®é¢˜</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java">List&lt;? <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Fruit</span>&gt; flist = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;Apple&gt;();<br><span class="hljs-comment">// correct</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ„å»ºå•å‘¨æœŸCPUè®°å½•â…¡</title>
    <link href="/2024/09/11/%E6%9E%84%E5%BB%BA%E5%8D%95%E5%91%A8%E6%9C%9FCPU%E2%85%A1-add-sub-and-or-slt-beq/"/>
    <url>/2024/09/11/%E6%9E%84%E5%BB%BA%E5%8D%95%E5%91%A8%E6%9C%9FCPU%E2%85%A1-add-sub-and-or-slt-beq/</url>
    
    <content type="html"><![CDATA[<h1 id="æ„å»ºå•å‘¨æœŸCPUè®°å½•â…¡-add-sub-and-or-slt-beq"><a href="#æ„å»ºå•å‘¨æœŸCPUè®°å½•â…¡-add-sub-and-or-slt-beq" class="headerlink" title="æ„å»ºå•å‘¨æœŸCPUè®°å½•â…¡(add, sub, and, or, slt, beq)"></a>æ„å»ºå•å‘¨æœŸCPUè®°å½•â…¡(add, sub, and, or, slt, beq)</h1><h2 id="æ–°å¢ä¿¡å·"><a href="#æ–°å¢ä¿¡å·" class="headerlink" title="æ–°å¢ä¿¡å·"></a>æ–°å¢ä¿¡å·</h2><h3 id="RegDst"><a href="#RegDst" class="headerlink" title="RegDst"></a>RegDst</h3><p>1:ä»æŒ‡ä»¤15:11ä½ä¸­è¯»å–æ•°æ®åˆ°A3ç«¯å£</p><p>0:ä»æŒ‡ä»¤20:16ä½ä¸­è¯»å–æ•°æ®åˆ°A3ç«¯å£</p><h3 id="ALUSrc"><a href="#ALUSrc" class="headerlink" title="ALUSrc"></a>ALUSrc</h3><ul><li>1:ä»EXTä¸­è¯»å–ç¬¦å·æ‰©å±•çš„ç«‹å³æ•°</li><li>0:ä»å¯„å­˜å™¨æ–‡ä»¶RD2ç«¯å£ä¸­è¯»å–æ•°æ®</li></ul><h3 id="MemtoReg"><a href="#MemtoReg" class="headerlink" title="MemtoReg"></a>MemtoReg</h3><ul><li>1:å°†ä»æ•°æ®å­˜å‚¨å™¨ä¸­è¯»å–çš„æ•°æ®è¾“å‡ºåˆ°WD3</li><li>0:å°†ä»ALUä¸­è¯»å–çš„æ•°æ®è¾“å‡ºåˆ°WD3</li></ul><h2 id="ä¿¡å·è¡¨"><a href="#ä¿¡å·è¡¨" class="headerlink" title="ä¿¡å·è¡¨"></a>ä¿¡å·è¡¨</h2><div class="table-container"><table><thead><tr><th>æŒ‡ä»¤</th><th>RegDst</th><th>ALUSrc</th><th>MemtoReg</th><th>ALUControl</th></tr></thead><tbody><tr><td>RæŒ‡ä»¤(add, sub, and, or, slt)</td><td>1</td><td>0</td><td>0</td><td>varies</td></tr><tr><td>lw,sw</td><td>0</td><td>1</td><td>1</td><td>010(+)</td></tr><tr><td>beq</td><td>x</td><td>0</td><td>x</td><td>110(-)</td></tr><tr><td></td><td></td><td></td><td></td></tr></tbody></table></div><h3 id="ALU"><a href="#ALU" class="headerlink" title="ALU"></a>ALU</h3><div class="table-container"><table><thead><tr><th>ALUOp</th><th>å«ä¹‰</th><th>ALUOp</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>00</td><td>åŠ æ³•</td><td>10</td><td>ä¾èµ–äºfunc</td></tr><tr><td>01</td><td>å‡æ³•</td><td>11</td><td>æ— å®šä¹‰</td></tr></tbody></table></div><div class="table-container"><table><thead><tr><th>ALUOp</th><th>Funct</th><th>ALUControl</th></tr></thead><tbody><tr><td>00</td><td>X</td><td>010(åŠ )</td></tr><tr><td>X1</td><td>X</td><td>110(å‡)</td></tr><tr><td>1X</td><td>100000(add)</td><td>010(åŠ )</td></tr><tr><td>1X</td><td>100010(sub)</td><td>110(å‡)</td></tr><tr><td>1X</td><td>100100(and)</td><td>000(ä¸)</td></tr><tr><td>1X</td><td>100101(or)</td><td>001(æˆ–)</td></tr><tr><td>1X</td><td>101010(slt)</td><td>111(å°äºç½®ä½)</td></tr></tbody></table></div><ul><li>è¿™é‡Œå¼•ç”¨å›¾è¡¨æ¥è‡ªé»‘çš®ä¹¦,é‡‡ç”¨ä¸¤çº§åˆ¤æ–­(å…ˆåˆ¤æ–­ALUOp,å†åˆ¤æ–­ALUControlå€¼),è¿™é‡Œæˆ‘é‡‡ç”¨å¦ä¸€ç§æ–¹æ³•,å¯¹äºéRå‹æŒ‡ä»¤ç›´æ¥è¾“å‡ºALUControl,å¯¹Rå‹æŒ‡ä»¤ä¸¤çº§åˆ¤æ–­.(è§åå›¾CU)</li></ul><h3 id="add"><a href="#add" class="headerlink" title="add"></a>add</h3><p>000000(31:26) + rs(25:21) + rt(20:16) + rd(15:11) + 00000(10:6) + 100000(add,5:0)</p><h3 id="sub"><a href="#sub" class="headerlink" title="sub"></a>sub</h3><p>000000(31:26) + rs(25:21) + rt(20:16) + rd(15:11) + 00000(10:6) + 100010(sub,5:0)</p><h3 id="and"><a href="#and" class="headerlink" title="and"></a>and</h3><p>000000(31:26) + rs(25:21) + rt(20:16) + rd(15:11) + 00000(10:6) + 100100(and,5:0)</p><h3 id="or"><a href="#or" class="headerlink" title="or"></a>or</h3><p>000000(31:26) + rs(25:21) + rt(20:16) + rd(15:11) + 00000(10:6) + 100101(or, 5:0)</p><h3 id="slt"><a href="#slt" class="headerlink" title="slt"></a>slt</h3><p>000000(31:26) + rs(25:21) + rt(20:16) + rd(15:11) + 00000(10:6) + 101010(slt, 5:0)</p><h3 id="beq"><a href="#beq" class="headerlink" title="beq"></a>beq</h3><p>000100(31:26) + rs(25:21) + rt(20:16) + offset(15:0)</p><h2 id="æ›´æ–°ç»„ä»¶"><a href="#æ›´æ–°ç»„ä»¶" class="headerlink" title="æ›´æ–°ç»„ä»¶"></a>æ›´æ–°ç»„ä»¶</h2><h3 id="ALU-1"><a href="#ALU-1" class="headerlink" title="ALU"></a>ALU</h3><p><img src="image-20240911230937221.png" alt="ALU"></p><h3 id="CU"><a href="#CU" class="headerlink" title="CU"></a>CU</h3><p><img src="image-20240911225650083.png" alt="CU"></p><h2 id="æ•´ä½“"><a href="#æ•´ä½“" class="headerlink" title="æ•´ä½“"></a>æ•´ä½“</h2><p><img src="image-20240911225716228.png" alt="æ•´ä½“"></p>]]></content>
    
    
    
    <tags>
      
      <tag>CO</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ„å»ºå•å‘¨æœŸCPUè®°å½•â… </title>
    <link href="/2024/09/11/%E6%9E%84%E5%BB%BA%E5%8D%95%E5%91%A8%E6%9C%9FCPU-%E5%88%9D%E6%AD%A5-%E5%8C%85%E6%8B%AClw%E5%92%8Csw/"/>
    <url>/2024/09/11/%E6%9E%84%E5%BB%BA%E5%8D%95%E5%91%A8%E6%9C%9FCPU-%E5%88%9D%E6%AD%A5-%E5%8C%85%E6%8B%AClw%E5%92%8Csw/</url>
    
    <content type="html"><![CDATA[<h1 id="æ„å»ºå•å‘¨æœŸCPUè®°å½•â… -åˆæ­¥-åŒ…æ‹¬lwå’Œsw"><a href="#æ„å»ºå•å‘¨æœŸCPUè®°å½•â… -åˆæ­¥-åŒ…æ‹¬lwå’Œsw" class="headerlink" title="æ„å»ºå•å‘¨æœŸCPUè®°å½•â… (åˆæ­¥,åŒ…æ‹¬lwå’Œsw)"></a>æ„å»ºå•å‘¨æœŸCPUè®°å½•â… (åˆæ­¥,åŒ…æ‹¬lwå’Œsw)</h1><h2 id="æ ¸å¿ƒéƒ¨ä»¶"><a href="#æ ¸å¿ƒéƒ¨ä»¶" class="headerlink" title="æ ¸å¿ƒéƒ¨ä»¶"></a>æ ¸å¿ƒéƒ¨ä»¶</h2><h3 id="PC-Program-Counter-ç¨‹åºè®¡æ•°å™¨"><a href="#PC-Program-Counter-ç¨‹åºè®¡æ•°å™¨" class="headerlink" title="PC(Program Counter,ç¨‹åºè®¡æ•°å™¨)"></a>PC(Program Counter,ç¨‹åºè®¡æ•°å™¨)</h3><p><img src="image-20240911170903742.png" alt="image-20240911170903742"></p><h3 id="IM-Instuction-Memory-æŒ‡ä»¤å­˜å‚¨å™¨"><a href="#IM-Instuction-Memory-æŒ‡ä»¤å­˜å‚¨å™¨" class="headerlink" title="IM(Instuction Memory,æŒ‡ä»¤å­˜å‚¨å™¨)"></a>IM(Instuction Memory,æŒ‡ä»¤å­˜å‚¨å™¨)</h3><p><img src="image-20240911200511537.png" alt="image-20240911200511537"></p><h3 id="GRF-Register-File-å¯„å­˜å™¨æ–‡ä»¶"><a href="#GRF-Register-File-å¯„å­˜å™¨æ–‡ä»¶" class="headerlink" title="GRF(Register File,å¯„å­˜å™¨æ–‡ä»¶)"></a>GRF(Register File,å¯„å­˜å™¨æ–‡ä»¶)</h3><p><img src="image-20240911200549683.png" alt="image-20240911200549683"></p><h3 id="DM-Data-Memory-æ•°æ®å­˜å‚¨å™¨"><a href="#DM-Data-Memory-æ•°æ®å­˜å‚¨å™¨" class="headerlink" title="DM(Data Memory,æ•°æ®å­˜å‚¨å™¨)"></a>DM(Data Memory,æ•°æ®å­˜å‚¨å™¨)</h3><p><img src="image-20240911200524349.png" alt="image-20240911200524349"></p><h2 id="é™„åŠ éƒ¨ä»¶"><a href="#é™„åŠ éƒ¨ä»¶" class="headerlink" title="é™„åŠ éƒ¨ä»¶"></a>é™„åŠ éƒ¨ä»¶</h2><h3 id="ALU"><a href="#ALU" class="headerlink" title="ALU"></a>ALU</h3><p><img src="image-20240911200643385.png" alt="image-20240911200643385"></p><h3 id="SPLT-splitter-åˆ†ç¦»å™¨"><a href="#SPLT-splitter-åˆ†ç¦»å™¨" class="headerlink" title="SPLT(splitter,åˆ†ç¦»å™¨)"></a>SPLT(splitter,åˆ†ç¦»å™¨)</h3><p><img src="image-20240911200703680.png" alt="image-20240911200703680"></p><h3 id="EXT-extender-æ‰©ä½å™¨"><a href="#EXT-extender-æ‰©ä½å™¨" class="headerlink" title="EXT(extender,æ‰©ä½å™¨)"></a>EXT(extender,æ‰©ä½å™¨)</h3><p><img src="image-20240911200729925.png" alt="image-20240911200729925"></p><h3 id="NXTAD-Next-Address-ä¸‹ä¸€ä¸ªåœ°å€çš„è®¡ç®—å™¨"><a href="#NXTAD-Next-Address-ä¸‹ä¸€ä¸ªåœ°å€çš„è®¡ç®—å™¨" class="headerlink" title="NXTAD(Next Address,ä¸‹ä¸€ä¸ªåœ°å€çš„è®¡ç®—å™¨)"></a>NXTAD(Next Address,ä¸‹ä¸€ä¸ªåœ°å€çš„è®¡ç®—å™¨)</h3><p><img src="image-20240911200825778.png" alt="image-20240911200825778"></p><h2 id="ä¿¡å·æ§åˆ¶åˆ†æ"><a href="#ä¿¡å·æ§åˆ¶åˆ†æ" class="headerlink" title="ä¿¡å·æ§åˆ¶åˆ†æ"></a>ä¿¡å·æ§åˆ¶åˆ†æ</h2><h3 id="ä¿¡å·è¡¨"><a href="#ä¿¡å·è¡¨" class="headerlink" title="ä¿¡å·è¡¨"></a>ä¿¡å·è¡¨</h3><div class="table-container"><table><thead><tr><th>æŒ‡ä»¤</th><th>RegWrite</th><th>ALUControl[2:0]</th><th>MemWrite</th></tr></thead><tbody><tr><td>lw</td><td>1</td><td>010</td><td>0</td></tr><tr><td>sw</td><td>0</td><td>010</td><td>1</td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td></tr></tbody></table></div><h3 id="ä¿¡å·è¯´æ˜"><a href="#ä¿¡å·è¯´æ˜" class="headerlink" title="ä¿¡å·è¯´æ˜"></a>ä¿¡å·è¯´æ˜</h3><h4 id="RegWrite"><a href="#RegWrite" class="headerlink" title="RegWrite"></a>RegWrite</h4><ul><li><p>è¿æ¥WE3ç«¯å£</p></li><li><p>1:å°†æ•°æ®å†™å…¥å¯„å­˜å™¨</p></li><li>0:æ²¡æœ‰å†™å…¥å¯„å­˜å™¨æ–‡ä»¶çš„æ•°æ®</li></ul><h4 id="ALUControl"><a href="#ALUControl" class="headerlink" title="ALUControl"></a>ALUControl</h4><ul><li>010:ALUå®ç°åŠ æ³•</li></ul><h4 id="MemWrite"><a href="#MemWrite" class="headerlink" title="MemWrite"></a>MemWrite</h4><ul><li>1:å‘å­˜å‚¨å™¨å†™å…¥æ•°æ®</li><li>0:æ²¡æœ‰å‘å­˜å‚¨å™¨å†™å…¥æ•°æ®</li></ul><h3 id="CU"><a href="#CU" class="headerlink" title="CU"></a>CU</h3><p>æ®æ­¤,æˆ‘ä»¬å¯ä»¥æ­å»ºä¸€ä¸ªåˆæ­¥çš„ä¿¡å·æ§åˆ¶</p><p>lw:100011(31:26) + rs(25:21) + rt(20:16) + offset(15:0)</p><p>sw:101011 (31:26) + rs(25:21) + rt(20:16) + offset(15:0)</p><p><img src="image-20240911203252095.png" alt="image-20240911203252095"></p><h2 id="æ•´ä½“"><a href="#æ•´ä½“" class="headerlink" title="æ•´ä½“"></a>æ•´ä½“</h2><p><img src="image-20240911203327623.png" alt="image-20240911203327623"></p><h2 id="é™„"><a href="#é™„" class="headerlink" title="é™„"></a>é™„</h2><h3 id="ä½¿ç”¨Pythonæ‰¹é‡æ„é€ ä»£ç "><a href="#ä½¿ç”¨Pythonæ‰¹é‡æ„é€ ä»£ç " class="headerlink" title="ä½¿ç”¨Pythonæ‰¹é‡æ„é€ ä»£ç "></a>ä½¿ç”¨Pythonæ‰¹é‡æ„é€ ä»£ç </h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs python">s =<span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    &lt;comp lib=\&quot;4\&quot; loc=\&quot;(Y_,Z_)\&quot; name=\&quot;Register\&quot;&gt;</span><br><span class="hljs-string">      &lt;a name=\&quot;width\&quot; val=\&quot;32\&quot;/&gt;</span><br><span class="hljs-string">    &lt;/comp&gt;</span><br><span class="hljs-string">    &lt;comp lib=\&quot;0\&quot; loc=\&quot;(T_,Z_)\&quot; name=\&quot;Tunnel\&quot;&gt;</span><br><span class="hljs-string">      &lt;a name=\&quot;facing\&quot; val=\&quot;east\&quot;/&gt;</span><br><span class="hljs-string">      &lt;a name=\&quot;width\&quot; val=\&quot;32\&quot;/&gt;</span><br><span class="hljs-string">      &lt;a name=\&quot;label\&quot; val=\&quot;iX_\&quot;/&gt;</span><br><span class="hljs-string">    &lt;/comp&gt;</span><br><span class="hljs-string">    &lt;comp lib=\&quot;0\&quot; loc=\&quot;(Y_,Z_)\&quot; name=\&quot;Tunnel\&quot;&gt;</span><br><span class="hljs-string">      &lt;a name=\&quot;width\&quot; val=\&quot;32\&quot;/&gt;</span><br><span class="hljs-string">      &lt;a name=\&quot;label\&quot; val=\&quot;oX_\&quot;/&gt;</span><br><span class="hljs-string">    &lt;/comp&gt;</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br>Y, Z = <span class="hljs-number">90</span>, <span class="hljs-number">30</span><br><span class="hljs-keyword">for</span> X <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-number">32</span>):<br>    Y += <span class="hljs-number">80</span><br>    T = Y-<span class="hljs-number">30</span><br>    <span class="hljs-built_in">print</span>(s.replace(<span class="hljs-string">&quot;Y_&quot;</span>,<span class="hljs-built_in">str</span>(Y)).replace(<span class="hljs-string">&quot;T_&quot;</span>, <span class="hljs-built_in">str</span>(T)).replace(<span class="hljs-string">&quot;X_&quot;</span>,<span class="hljs-built_in">str</span>(X)).replace(<span class="hljs-string">&quot;Z_&quot;</span>,<span class="hljs-built_in">str</span>(Z)))<br><br><br><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python">s = <span class="hljs-string">&quot;&quot;&quot;&lt;comp lib=\&quot;0\&quot; loc=\&quot;(80,H_)\&quot; name=\&quot;Tunnel\&quot;&gt;</span><br><span class="hljs-string">      &lt;a name=\&quot;facing\&quot; val=\&quot;east\&quot;/&gt;</span><br><span class="hljs-string">      &lt;a name=\&quot;width\&quot; val=\&quot;32\&quot;/&gt;</span><br><span class="hljs-string">      &lt;a name=\&quot;label\&quot; val=\&quot;iX_\&quot;/&gt;</span><br><span class="hljs-string">    &lt;/comp&gt;</span><br><span class="hljs-string">    &lt;comp lib=\&quot;0\&quot; loc=\&quot;(130,H_)\&quot; name=\&quot;Tunnel\&quot;&gt;</span><br><span class="hljs-string">      &lt;a name=\&quot;width\&quot; val=\&quot;32\&quot;/&gt;</span><br><span class="hljs-string">      &lt;a name=\&quot;label\&quot; val=\&quot;oX_\&quot;/&gt;</span><br><span class="hljs-string">    &lt;/comp&gt;</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br>H = <span class="hljs-number">10</span><br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">32</span>):<br>    H += <span class="hljs-number">20</span><br>    <span class="hljs-built_in">print</span>(s.replace(<span class="hljs-string">&quot;H_&quot;</span>,<span class="hljs-built_in">str</span>(H)).replace(<span class="hljs-string">&quot;X_&quot;</span>,<span class="hljs-built_in">str</span>(x)))<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>CO</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Java Array</title>
    <link href="/2024/09/11/Java-Array/"/>
    <url>/2024/09/11/Java-Array/</url>
    
    <content type="html"><![CDATA[<h1 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h1><h2 id="åˆ›å»ºæ–¹å¼"><a href="#åˆ›å»ºæ–¹å¼" class="headerlink" title="åˆ›å»ºæ–¹å¼"></a>åˆ›å»ºæ–¹å¼</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java">NewClass[] a;<br>NewClass[] b = <span class="hljs-keyword">new</span> <span class="hljs-title class_">NewClass</span>[<span class="hljs-number">10</span>];<br>NewClass[] c = &#123;<span class="hljs-keyword">new</span> <span class="hljs-title class_">NewClass</span>(), <span class="hljs-keyword">new</span> <span class="hljs-title class_">NewClass</span>(), <span class="hljs-keyword">new</span> <span class="hljs-title class_">NewClass</span>()&#125;;<br>NewClass[] p = <span class="hljs-keyword">new</span> <span class="hljs-title class_">NewClass</span>&#123;<span class="hljs-keyword">new</span> <span class="hljs-title class_">NewClass</span>(), <span class="hljs-keyword">new</span> <span class="hljs-title class_">NewClass</span>(), <span class="hljs-keyword">new</span> <span class="hljs-title class_">NewClass</span>(), <span class="hljs-keyword">new</span> <span class="hljs-title class_">NewClass</span>()&#125;;<br></code></pre></td></tr></table></figure><h2 id="è¿”å›æ•°ç»„"><a href="#è¿”å›æ•°ç»„" class="headerlink" title="è¿”å›æ•°ç»„"></a>è¿”å›æ•°ç»„</h2><ul><li>Javaå¯ä»¥ç›´æ¥è¿”å›æ•°ç»„</li></ul><h2 id="å¤šç»´æ•°ç»„"><a href="#å¤šç»´æ•°ç»„" class="headerlink" title="å¤šç»´æ•°ç»„"></a>å¤šç»´æ•°ç»„</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span>[][] b = &#123;<br>                &#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>&#125;,<br>                &#123;<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>&#125;,<br>&#125;;<br></code></pre></td></tr></table></figure><h2 id="Arrayså®ç”¨åŠŸèƒ½"><a href="#Arrayså®ç”¨åŠŸèƒ½" class="headerlink" title="Arrayså®ç”¨åŠŸèƒ½"></a>Arrayså®ç”¨åŠŸèƒ½</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.Arrays;<br></code></pre></td></tr></table></figure><h3 id="fill"><a href="#fill" class="headerlink" title="fill()"></a>fill()</h3><blockquote><p>ä»¥å•ä¸ªå…ƒç´ å¡«å……æ•°ç»„</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span>[] m1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[<span class="hljs-number">4</span>];<br>Arrays.fill(m1,<span class="hljs-number">1</span>);<br>System.out.println(Arrays.toString(m1));<br><span class="hljs-comment">// output: [1, 1, 1, 1]</span><br></code></pre></td></tr></table></figure><h3 id="sort"><a href="#sort" class="headerlink" title="sort()"></a>sort()</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span>[] s1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">9</span>,<span class="hljs-number">8</span>,<span class="hljs-number">7</span>,<span class="hljs-number">34</span>,<span class="hljs-number">5</span>,<span class="hljs-number">2</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">10</span>&#125;;<br>Arrays.sort(s1);<br>System.out.println(Arrays.toString(s1));<br><br><span class="hljs-comment">// [2, 5, 6, 7, 7, 8, 9, 10, 34]</span><br></code></pre></td></tr></table></figure><h3 id="equals-amp-deepEquals"><a href="#equals-amp-deepEquals" class="headerlink" title="equals() &amp; deepEquals()"></a>equals() &amp; deepEquals()</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span>[] a1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">1</span>,<span class="hljs-number">9</span>,<span class="hljs-number">10086</span>&#125;;<br><span class="hljs-type">int</span>[] a2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">1</span>,<span class="hljs-number">9</span>,<span class="hljs-number">10086</span>&#125;;<br>System.out.println(Arrays.equals(a1,a2));<br><span class="hljs-comment">// true</span><br><span class="hljs-type">int</span>[][] deep1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[][]&#123; &#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>&#125;,&#123;<span class="hljs-number">3</span>,<span class="hljs-number">4</span>&#125;,&#123;<span class="hljs-number">5</span>,<span class="hljs-number">6</span>&#125; &#125;;<br><span class="hljs-type">int</span>[][] deep2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[][]&#123; &#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>&#125;,&#123;<span class="hljs-number">3</span>,<span class="hljs-number">4</span>&#125;,&#123;<span class="hljs-number">5</span>,<span class="hljs-number">6</span>&#125; &#125;;<br>System.out.println(Arrays.deepEquals(deep1, deep2));<br><span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure><h3 id="copyOf-amp-copyOfRange"><a href="#copyOf-amp-copyOfRange" class="headerlink" title="copyOf() &amp; copyOfRange()"></a>copyOf() &amp; copyOfRange()</h3><blockquote><p>å¤åˆ¶æ•°ç»„</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span>[] org = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">8</span>,<span class="hljs-number">9</span>,<span class="hljs-number">7</span>,<span class="hljs-number">721</span>&#125;;<br><span class="hljs-type">int</span>[] des = Arrays.copyOf(org,<span class="hljs-number">4</span>);<br>System.out.println(Arrays.toString(des));<br><span class="hljs-comment">// [8, 9, 7, 721]</span><br><br><span class="hljs-type">int</span>[] org = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">8</span>,<span class="hljs-number">9</span>,<span class="hljs-number">7</span>,<span class="hljs-number">721</span>&#125;;<br><span class="hljs-type">int</span>[] des = Arrays.copyOf(org,<span class="hljs-number">3</span>);<br>System.out.println(Arrays.toString(des));<br><span class="hljs-comment">// [8,9,7]</span><br><br><span class="hljs-type">int</span>[] org = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">8</span>,<span class="hljs-number">9</span>,<span class="hljs-number">7</span>,<span class="hljs-number">721</span>&#125;;<br><span class="hljs-type">int</span>[] des = Arrays.copyOf(org,<span class="hljs-number">9</span>);<br>System.out.println(Arrays.toString(des));<br><span class="hljs-comment">// [8, 9, 7, 721, 0, 0, 0, 0, 0]</span><br></code></pre></td></tr></table></figure><h3 id="toString-amp-deepToString"><a href="#toString-amp-deepToString" class="headerlink" title="toString() &amp; deepToString()"></a>toString() &amp; deepToString()</h3><blockquote><p>æ–¹ä¾¿æ‰“å°æ•°ç»„</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span>[] p1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>&#125;;<br><span class="hljs-type">int</span>[][] d1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[][]&#123;&#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>&#125;,&#123;<span class="hljs-number">3</span>,<span class="hljs-number">4</span>&#125;,&#123;<span class="hljs-number">5</span>,<span class="hljs-number">6</span>&#125;&#125;;<br>System.out.println(Arrays.toString(p1));<br>System.out.println(Arrays.deepToString(d1));<br><span class="hljs-comment">// [1, 2, 3]</span><br><span class="hljs-comment">//[[1, 2], [3, 4], [5, 6]]</span><br></code></pre></td></tr></table></figure><h3 id="binarySearch"><a href="#binarySearch" class="headerlink" title="binarySearch()"></a>binarySearch()</h3><blockquote><p>äºŒåˆ†æ³•æŸ¥æ‰¾,ç±»åŒäºPythonä¸­çš„bisect.bisect_left()</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span>[] pos = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">90</span>,<span class="hljs-number">8</span>,<span class="hljs-number">7</span>,<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">76</span>,<span class="hljs-number">5</span>,<span class="hljs-number">4</span>,<span class="hljs-number">78</span>,<span class="hljs-number">67</span>,<span class="hljs-number">54</span>,<span class="hljs-number">34</span>&#125;;<br>Arrays.sort(pos);<br>System.out.println(Arrays.toString(pos));<br>System.out.println(Arrays.binarySearch(pos,<span class="hljs-number">78</span>));<br><span class="hljs-comment">// [1, 3, 4, 5, 5, 6, 7, 8, 34, 54, 67, 76, 78, 90]</span><br><span class="hljs-comment">// 12</span><br></code></pre></td></tr></table></figure><h3 id="asList"><a href="#asList" class="headerlink" title="asList()"></a>asList()</h3><blockquote><p>å¸¸ç”¨äºå£°æ˜å¯¹è±¡ç»„æˆçš„åˆ—è¡¨</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java">List&lt;Integer&gt; l1 = Arrays.asList(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>);<br>System.out.println(l1);<br><span class="hljs-comment">// [1, 2, 3]</span><br>List&lt;Student&gt; l2 = Arrays.asList(<br>        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">&quot;xiaoming&quot;</span>,<span class="hljs-number">21</span>),<br>        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">&quot;xiaomei&quot;</span>,<span class="hljs-number">19</span>));<br>System.out.println(l2);<br><span class="hljs-comment">// [xiaoming 21, xiaomei 19]</span><br></code></pre></td></tr></table></figure><h3 id="setAll"><a href="#setAll" class="headerlink" title="setAll()"></a>setAll()</h3><blockquote><p>ä½¿ç”¨æä¾›çš„ç”Ÿæˆå™¨å‡½æ•°è®¾ç½®æŒ‡å®šæ•°ç»„çš„æ‰€æœ‰å…ƒç´ ä»¥è®¡ç®—æ¯ä¸ªå…ƒç´ </p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">Set&lt;Integer&gt;[] s = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashSet</span>[maxlen];<br>Arrays.setAll(s, i -&gt;<span class="hljs-keyword">new</span> <span class="hljs-title class_">HashSet</span>&lt;Integer&gt;());<br>s[<span class="hljs-number">0</span>].add(<span class="hljs-number">1</span>);<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Java String</title>
    <link href="/2024/09/11/Java-String/"/>
    <url>/2024/09/11/Java-String/</url>
    
    <content type="html"><![CDATA[<h1 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h1><p><strong>Stringå¯¹è±¡ä¸å¯å˜</strong></p><p>(ä¿®æ”¹å­—ç¬¦ä¸²çš„æ–¹æ³•å®è´¨ä¸Šæ˜¯ç”Ÿæˆäº†ä¸€ä¸ªæ–°çš„Stringå¯¹è±¡)</p><h2 id="StringBuilder"><a href="#StringBuilder" class="headerlink" title="StringBuilder"></a>StringBuilder</h2><div class="table-container"><table><thead><tr><th>new StringBuilder(String s)</th><th>ç”Ÿæˆæ–¹æ³•</th></tr></thead><tbody><tr><td>append()</td><td>å¢åŠ å­—ç¬¦</td></tr><tr><td>deleteCharAt(int index)</td><td>åˆ é™¤æŒ‡å®šç´¢å¼•çš„å­—ç¬¦</td></tr><tr><td>toString()</td><td>ç”Ÿæˆå­—ç¬¦ä¸²</td></tr><tr><td>reverse()</td><td>é€†è½¬</td></tr><tr><td>replace(int start, int end, String str)</td><td>æ›¿æ¢</td></tr><tr><td>delete(int start, int end)</td><td>åˆ é™¤</td></tr><tr><td>insert(int offset, String str)</td><td>æ’å…¥</td></tr></tbody></table></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span>&#123;<br>    <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>(<span class="hljs-string">&quot;[&quot;</span>);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++)&#123;<br>        result.append(rand.nextInt(<span class="hljs-number">100</span>));<br>        result.append(<span class="hljs-string">&quot;, &quot;</span>);<br>    &#125;<br>    result.delete(result.length()-<span class="hljs-number">2</span>, result.length());<br>    result.append(<span class="hljs-string">&quot;]&quot;</span>);<br>    <span class="hljs-keyword">return</span> result.toString();<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="æ— æ„è¯†é€’å½’"><a href="#æ— æ„è¯†é€’å½’" class="headerlink" title="æ— æ„è¯†é€’å½’"></a>æ— æ„è¯†é€’å½’</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">InfiniteRecursion</span>&#123;<br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot; InfiniteRecursion address: &quot;</span> + <span class="hljs-built_in">this</span> + <span class="hljs-string">&quot;\n&quot;</span>;<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>&#123;<br>        List&lt;InfiniteRecursion&gt; v = <br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;InfiniteRecursion&gt;();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++)&#123;<br>            v.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">InfiniteRecursion</span>());<br>        &#125;<br>        System.out.println(v);<br>    &#125;<br>&#125;<br><span class="hljs-comment">// println(v)ä¸­è°ƒç”¨äº†InfiniteRecursionç±»çš„toStringæ–¹æ³•,toStringæ–¹æ³•è®©thiså‘ç”Ÿäº†è‡ªåŠ¨ç±»å‹è½¬æ¢,ç»§ç»­å®ç°toStringæ–¹æ³•,å°±è¿™æ ·å®ç°äº†æ— é™é€’å½’.</span><br></code></pre></td></tr></table></figure><div class="table-container"><table><thead><tr><th>æ–¹æ³•</th><th>å‚æ•°,é‡è½½ç‰ˆæœ¬</th><th>åº”ç”¨</th></tr></thead><tbody><tr><td>length()</td><td></td><td>å­—ç¬¦ä¸ªæ•°</td></tr><tr><td>charAt()</td><td>Intç´¢å¼•</td><td>è¯¥ç¼©å½±ä½ç½®ä¸Šçš„char</td></tr><tr><td>getChar(),getBytes()</td><td></td><td>å¤åˆ¶</td></tr><tr><td>toCharArray()</td><td></td><td>ç”Ÿæˆchar[]</td></tr><tr><td>equals(),equalsIgnoreCase()</td><td></td><td>æ¯”è¾ƒå­—ç¬¦ä¸²</td></tr><tr><td>compareTo()</td><td></td><td>æŒ‰è¯å…¸åºæ¯”è¾ƒå­—ç¬¦ä¸²</td></tr></tbody></table></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> <span class="hljs-keyword">static</span> net.mindview.util.Print.print;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StringMethod</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">s1</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;good,world&quot;</span>, s2=<span class="hljs-string">&quot;hello,world&quot;</span>;<br>        print(s1.regionMatches(<span class="hljs-number">5</span>,s2,<span class="hljs-number">6</span>,<span class="hljs-number">5</span>)); <span class="hljs-comment">//true</span><br>        print(s1.startsWith(<span class="hljs-string">&quot;g&quot;</span>)); <span class="hljs-comment">//true</span><br>        print(s1.endsWith(<span class="hljs-string">&quot;g&quot;</span>));<span class="hljs-comment">//false</span><br>        print(s1.length());<span class="hljs-comment">//10</span><br>        print(s1.charAt(<span class="hljs-number">0</span>));<br>        print(s1.compareTo(s2));<br>        <span class="hljs-type">String</span> <span class="hljs-variable">s3</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;zzz&quot;</span>, s4 = <span class="hljs-string">&quot;AAA&quot;</span>;<br>        print(s1.compareTo(s3));<br>        print(s1.compareToIgnoreCase(s4));<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><h2 id="æ ¼å¼åŒ–è¯´æ˜ç¬¦"><a href="#æ ¼å¼åŒ–è¯´æ˜ç¬¦" class="headerlink" title="æ ¼å¼åŒ–è¯´æ˜ç¬¦"></a>æ ¼å¼åŒ–è¯´æ˜ç¬¦</h2><div class="table-container"><table><thead><tr><th style="text-align:center">ç±»å‹è½¬æ¢å­—ç¬¦</th><th></th><th style="text-align:center"></th><th></th></tr></thead><tbody><tr><td style="text-align:center">d</td><td>åè¿›åˆ¶</td><td style="text-align:center">e</td><td>æµ®ç‚¹æ•°(ç§‘å­¦è®¡æ•°)</td></tr><tr><td style="text-align:center">c</td><td>Unicodeå­—ç¬¦</td><td style="text-align:center">x</td><td>åå…­è¿›åˆ¶</td></tr><tr><td style="text-align:center">b</td><td>Boolean</td><td style="text-align:center">h</td><td>æ•£åˆ—ç </td></tr><tr><td style="text-align:center">s</td><td>String</td><td style="text-align:center">%</td><td>%</td></tr><tr><td style="text-align:center">f</td><td>æµ®ç‚¹æ•°</td><td style="text-align:center"></td></tr></tbody></table></div><h2 id="æ­£åˆ™è¡¨è¾¾å¼-Regular-Expression"><a href="#æ­£åˆ™è¡¨è¾¾å¼-Regular-Expression" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼(Regular Expression)"></a>æ­£åˆ™è¡¨è¾¾å¼(Regular Expression)</h2><h3 id="åŸºç¡€"><a href="#åŸºç¡€" class="headerlink" title="åŸºç¡€"></a>åŸºç¡€</h3><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs livescript">-?æŸ¥æ‰¾å¸¦è´Ÿå·çš„æ•°<br><span class="hljs-string">\\d</span> è¡¨ç¤ºä¸€ä½æ•°å­—<br><span class="hljs-string">\\\\</span> æ™®é€šåæ–œçº¿<br>-?<span class="hljs-string">\\d+</span><br>(-|<span class="hljs-string">\\+)?</span> ä¸€ä¸ª-æˆ–è€…ä¸€ä¸ª+<br><span class="hljs-string">\\W</span> éå•è¯å­—ç¬¦<br><span class="hljs-string">\\w</span> å•è¯å­—ç¬¦<br><span class="hljs-string">\?</span> é—®å·<br></code></pre></td></tr></table></figure><h3 id="å­—ç¬¦"><a href="#å­—ç¬¦" class="headerlink" title="å­—ç¬¦"></a>å­—ç¬¦</h3><div class="table-container"><table><thead><tr><th>B</th><th>æŒ‡å®šå­—ç¬¦</th></tr></thead><tbody><tr><td>\xhh</td><td>åå…­è¿›åˆ¶å€¼ä¸ºoxhhçš„å­—ç¬¦</td></tr><tr><td>\uhhhh</td><td>åå…­è¿›åˆ¶å€¼ä¸ºoxhhhhçš„å­—ç¬¦</td></tr><tr><td>\t</td><td>Tab</td></tr><tr><td>\n</td><td>æ¢è¡Œç¬¦</td></tr><tr><td>\r</td><td>å›è½¦</td></tr><tr><td>\f</td><td>æ¢é¡µ</td></tr><tr><td>\e</td><td>è½¬ä¹‰</td></tr></tbody></table></div><h3 id="å­—ç¬¦ç±»"><a href="#å­—ç¬¦ç±»" class="headerlink" title="å­—ç¬¦ç±»"></a>å­—ç¬¦ç±»</h3><div class="table-container"><table><thead><tr><th>.</th><th>ä»»æ„å­—ç¬¦</th></tr></thead><tbody><tr><td>[abc]</td><td>a\</td><td>b\</td><td>c</td></tr><tr><td><sup><a href="#fn_abc" id="reffn_abc">abc</a></sup></td><td>å¦å®š</td></tr><tr><td>[a-zA-Z]</td><td>a-z,A-ZèŒƒå›´</td></tr><tr><td>[abc[hij]]</td><td>a\</td><td>b\</td><td>c\</td><td>h\</td><td>i\</td><td>j</td></tr><tr><td>[a-z&amp;&amp;[hij]]</td><td>h\</td><td>i\</td><td>j</td></tr><tr><td>\s</td><td>ç©ºç™½ç¬¦</td></tr><tr><td>\S</td><td>éç©ºç™½ç¬¦</td></tr><tr><td>\d</td><td>æ•°å­—</td></tr><tr><td>\D</td><td>éæ•°å­—</td></tr><tr><td>\w</td><td>è¯å­—ç¬¦</td></tr><tr><td>\W</td><td>éè¯å­—ç¬¦</td></tr></tbody></table></div><h3 id="è¾¹ç•ŒåŒ¹é…ç¬¦"><a href="#è¾¹ç•ŒåŒ¹é…ç¬¦" class="headerlink" title="è¾¹ç•ŒåŒ¹é…ç¬¦"></a>è¾¹ç•ŒåŒ¹é…ç¬¦</h3><div class="table-container"><table><thead><tr><th>^</th><th>ä¸€è¡Œçš„èµ·å§‹</th></tr></thead><tbody><tr><td>$</td><td>ä¸€è¡Œçš„ç»“æŸ</td></tr><tr><td>\b</td><td>è¯çš„è¾¹ç•Œ</td></tr><tr><td>\B</td><td>éè¯çš„è¾¹ç•Œ</td></tr><tr><td>\G</td><td>å‰ä¸€ä¸ªåŒ¹é…çš„ç»“æŸ</td></tr></tbody></table></div><h3 id="é‡è¯"><a href="#é‡è¯" class="headerlink" title="é‡è¯"></a>é‡è¯</h3><ul><li>è´ªå©ªå‹:å°½å¯èƒ½å¤šçš„åŒ¹é…</li><li>å‹‰å¼ºå‹:åŒ¹é…æœ€å°‘çš„å­—æ•°</li><li>å æœ‰å‹:é˜²æ­¢å›æº¯,javaä¸­æ‰æœ‰</li></ul><div class="table-container"><table><thead><tr><th>è´ªå©ªå‹</th><th>å‹‰å¼ºå‹</th><th>å æœ‰å‹</th><th>ç¬¦åˆåŒ¹é…</th></tr></thead><tbody><tr><td>X?</td><td>X??</td><td>X?+</td><td>ä¸€ä¸ªæˆ–é›¶ä¸ªX</td></tr><tr><td>X*</td><td>X*?</td><td>X*+</td><td>é›¶ä¸ªæˆ–å¤šä¸ªX</td></tr><tr><td>X+</td><td>X+?</td><td>X++</td><td>ä¸€ä¸ªæˆ–å¤šä¸ªX</td></tr><tr><td>X{n}</td><td>X{n}?</td><td>X{n}+</td><td>æ°å¥½næ¬¡X</td></tr><tr><td>X{n,m}</td><td>X{n,m}?</td><td>X{n,m}+</td><td>Xè‡³å°‘næ¬¡,ä¸”ä¸è¶…è¿‡mæ¬¡</td></tr></tbody></table></div><h3 id="Pattern-compile"><a href="#Pattern-compile" class="headerlink" title="Pattern.compile()"></a>Pattern.compile()</h3><p>ç¼–è¯‘æ­£åˆ™è¡¨è¾¾å¼</p><h3 id="Pattern-matcher"><a href="#Pattern-matcher" class="headerlink" title="Pattern.matcher()"></a>Pattern.matcher()</h3><p>ç”ŸæˆMatcherå¯¹è±¡</p><h3 id="Matcher-matches"><a href="#Matcher-matches" class="headerlink" title="Matcher.matches()"></a>Matcher.matches()</h3><p>åˆ¤æ–­æ•´ä¸ªè¾“å…¥å­—ç¬¦ä¸²æ˜¯å¦åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼</p><h3 id="Matcher-find-Matcher-find-int-i"><a href="#Matcher-find-Matcher-find-int-i" class="headerlink" title="Matcher.find()/Matcher.find(int i)"></a>Matcher.find()/Matcher.find(int i)</h3><p>æŸ¥æ‰¾(int iå¯ä»¥æŒ‡å®šèµ·å§‹ä½ç½®)</p><h3 id="Patternæ ‡è®°"><a href="#Patternæ ‡è®°" class="headerlink" title="Patternæ ‡è®°"></a>Patternæ ‡è®°</h3><div class="table-container"><table><thead><tr><th>ç¼–è¯‘æ ‡è®°</th><th>æ•ˆæœ</th></tr></thead><tbody><tr><td>Pattern.CANON_EQ</td><td>è§„èŒƒçš„ç­‰ä»·æ€§</td></tr><tr><td>Pattern.CASE_INSENSITIVE(?i)</td><td>å¤§å°å†™ä¸æ•æ„Ÿ</td></tr><tr><td>Pattern.COMMENTS(?x)</td><td>å¿½ç•¥ç©ºæ ¼ç¬¦,æ³¨é‡Š</td></tr><tr><td>Pattern.DOTALL(?x)</td><td>â€œ.â€åŒ¹é…æ‰€æœ‰å­—ç¬¦,åŒ…æ‹¬è¡Œç»ˆç»“ç¬¦</td></tr><tr><td>Pattern.MULTILINE(?m)</td><td>^,$åŒ¹é…ä¸€è¡Œçš„å¼€å§‹å’Œç»“æŸ</td></tr><tr><td>Pattern.UNICODE_CASE(?u)</td><td>å¤§å°å†™ä¸æ•æ„ŸæŒ‰ç…§Unicodeæ ‡å‡†</td></tr><tr><td>Pattern.UNIX_LINES(?d)</td><td>.,^,$å‡åªè¯†åˆ«è¡Œç»ˆç»“ç¬¦\n</td></tr></tbody></table></div><h2 id="Scanner"><a href="#Scanner" class="headerlink" title="Scanner"></a>Scanner</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">Scanner</span> <span class="hljs-variable">stdin</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scanner</span>(SimpleRead.input);<br><span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> stdin.nextLine();<br><span class="hljs-type">int</span> <span class="hljs-variable">age</span> <span class="hljs-operator">=</span> stdin.nextInt();<br><span class="hljs-type">double</span> <span class="hljs-variable">favourite</span> <span class="hljs-operator">=</span> stdin.nextDouble();<br></code></pre></td></tr></table></figure><ul><li>Scannerçš„æ„é€ å™¨å¯ä»¥æ¥å—ä»»ä½•ç±»å‹çš„è¾“å…¥å¯¹è±¡,åŒ…æ‹¬Fileå¯¹è±¡,InputStreamå¯¹è±¡,Stringæˆ–Readableå¯¹è±¡.</li></ul><h3 id="useDelimiter"><a href="#useDelimiter" class="headerlink" title="useDelimiter()"></a>useDelimiter()</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.*;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ScannerDelimiter</span>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>&#123;<br>        <span class="hljs-type">Scanner</span> <span class="hljs-variable">scanner</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scanner</span>(<span class="hljs-string">&quot;12, 42, 12&quot;</span>);<br>        scanner.useDelimiter(<span class="hljs-string">&quot;\\s*,\\s*&quot;</span>);<br>        <span class="hljs-keyword">while</span> (scanner.hasNextInt())&#123;<br>            System.out.println(scanner.nextInt());<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-comment">/*out:</span><br><span class="hljs-comment">12</span><br><span class="hljs-comment">42</span><br><span class="hljs-comment">12</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/2024/09/11/hello-world/"/>
    <url>/2024/09/11/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span><br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo server<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo generate<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo deploy<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
